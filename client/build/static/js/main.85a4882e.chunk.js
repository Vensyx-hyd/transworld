(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{353:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACUklEQVRo3mNgGAWjYBSMglFADeC8wP0/DDst8DhCNXMXuh9FNpumHlDJ1fyvmqdJVYtoZS5Wi0CWwCyiJkY2ly5JiJaYbh7wWR9AFTzqAUo9YDPN4b/tVEey+QPuAYs+GzAmlz9sPWDWfdnbtPfSEyD+TwD/BuLt5pNu8w0qD5j2XXpMhOMRuO9SzeDyAJoDzcJz/5u7+2Niv+j/Zq2HQGquDGoPYHU8FJtlTYCo6bmqNTQ9EJQCVmPSe7l+SHoAhE2b9oDUXR+yHjDLmog/GQ12D5gHp+JPRoPeAx4BMLXXh6YHQPkAphZbMsLlAVC7xnaaI9l8iusBGI7IQ6jtvdgw4K1RkmphTHydYNePmh7A1qWk0AP/ie5SSscpoGBcPS186rB1KWniAVIdRo46mnmAmFKAmnjUA8R6wCE49r9vasH/oJwKMPZNyf9vHxxDEw/YN2//71M24X9Qfh0Y+5RO+G/XvIN8D7jHpP0PyavCit2i06jqAbfaxTjtcq1ZQroHQCGPy0AYdgiOpooHQCFPyC67lu0EPfAY2QJQsoFpTq3r/N81f+X/znkrwGyYOCg5UcMDoGRD0K6yich6HmF4wMItwBPZE8HA9A7TDDJswpJ1YNwFZMPEQWqo4YGggjrCduXXwx1v2nfRg+AoBVDTZ0KGAvFHaoyI0MSukNzK/cjRCjIYZGBqLSJaQ/Ir91LFA7SwKzi32pdQxgrNrfKmhgdoZldIbnUrTkPzq5upObBGM7uAUecTmle1D5pOP4OiklohP5B2jYJRMApGAXUAAEVvABPoBOypAAAAAElFTkSuQmCC"},354:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACU0lEQVRo3mNgGAWjYBSMglFADbDA2fk/HDs5HaGWuQudnY8im01TD+SqqPzPU1WlqkW0MherRSBLYBZREyObS58kRENMNw+s9/GhCh71AKUemGZj83+qrS3Z/AH3QJ+FBRiTyx+2HjDrvuxt2nvpCRD/J4B/A/F280m3+QaVB0z7Lj0mwvEI3HepZnB5AM2BZuG5/83d/TGxX/R/s9ZDIDVXBrUHsDoeis2yJkDU9FzVGpoeCEoBqzHpvVw/JD0AwqZNe0Dqrg9ZD5hlTcSfjAa7B8yDU/Eno0HvAY8AmNrrQ9MDoHwAU4stGeHyAKhdMw2pbUMqn+J6AIYj8hBqey82DHhrlKRaGBNfJ9j1o6YHsHUpKfTAf6K7lHHS0igYV08LnzpsXUqaeIBUh5GjjmYeIKYUoCYe9QCxHnAIjv3vm1rwPyinAox9U/L/2wfH0MQD9s3b//uUTfgflF8Hxj6lE/7bNe8g3wPuMWn/Q/KqsGK36DSqesCtdjFOu1xrlpDuAVDI4zIQhh2Co6niAVDIE7LLrmU7QQ88RrYAlGxgmlPrOv93zV/5v3PeCjAbJg5KTtTwACjZELSrbCKynkcYHrBwC/BE9kQwML3DNIMMm7BkHRh3AdkwcZAaanggqKCOsF359XDHm/Zd9CA4SgHU9JmQoUD8kRojIjSxKyS3cj9ytIIMBhmYWouI1pD8yr1U8QAt7ArOrfYllLFCc6u8qeEBmtkVklvditPQ/Opmag6s0cwuYNT5hOZV7YOm08+gqKRWyA+kXaNgFIyCUUAdAAB1gvcmKnglgwAAAABJRU5ErkJggg=="},355:function(e){e.exports={CFSManager:{cfsHeader:"CFS Manager",mainTitle:"MENU",menus:[{title:"Dashboard",icon:"/assets/icons/CFSManager/dashboard.svg",navLink:"/dashboard"},{title:"Trips",icon:"/assets/icons/CFSManager/trips.svg",navLink:"/trips"},{title:"Approvals",icon:"/assets/icons/CFSManager/approvals.svg",navLink:"/approvals"},{title:"Fuel",icon:"/assets/icons/CFSManager/fuel.svg",navLink:"/fuel"},{title:"Communication",icon:"/assets/icons/CFSManager/communication.svg",navLink:"/communication"},{title:"Training",icon:"/assets/icons/CFSManager/training.svg",navLink:"/training"},{title:"Hire Trailer",icon:"/assets/icons/CFSManager/hire_trailer.svg",navLink:"/hire-trailer"},{title:"Manual Update",icon:"/assets/icons/Admin/manage_users.svg",navLink:"/manual-update"},{title:"Transit Incident",icon:"/assets/icons/CFSManager/transit_incident.svg",navLink:"/transit-incidents"}]},Admin:{adminHeader:"Administrator",mainTitle:"MENU",menus:[{title:"Manage Users",icon:"/assets/icons/Admin/manage_users.svg",navLink:"/manage-users"},{title:"Manage Trips",icon:"/assets/icons/Admin/manage_trips.svg",navLink:"/manage-trips"},{title:"Connect Mobile",icon:"/assets/icons/Admin/connect_mobile.svg",navLink:"/connect-mobile"},{title:"Driver Roaster",icon:"/assets/icons/Admin/driver_roaster.svg",navLink:"/driver-roaster"},{title:"Upload Master Data",icon:"/assets/icons/Admin/upload_master.svg",navLink:"/upload-master-data"},{title:"Trip Intelligence",icon:"/assets/icons/Admin/trip_intelligence.svg",navLink:"/trip-intelligence"},{title:"Vendor",icon:"/assets/icons/Admin/vendor_registration.svg",navLink:"/vendor-registration",subMenus:[{title:"Registration",navLink:"/vendor-registration"},{title:"Services",navLink:"/vendor-registration/services"},{title:"Services Plans",navLink:"/vendor-registration/service-plans"},{title:"Master",icon:"/assets/icons/Reports/master.svg",navLink:"/vendor-registration/master"}]}]},reports:{mainTitle:"REPORTS",menus:[{title:"Master",icon:"/assets/icons/Reports/master.svg",navLink:"/report/master-reports/driver",subMenus:[{title:"Driver",navLink:"/report/master-reports/driver"},{title:"Maintanence",navLink:"/report/master-reports/maintanence-Schedule"},{title:"Trailer",navLink:"/report/master-reports/trailer"},{title:"Training",navLink:"/report/master-reports/training-Calender"},{title:"Trip Type",navLink:"/report/master-reports/trip-Type"}]},{title:"Daily",icon:"/assets/icons/Reports/daily_report.svg",navLink:"/report/daily-reports/pendency",subMenus:[{title:"Pendency",navLink:"/report/daily-reports/pendency"},{title:"Trip",navLink:"/report/daily-reports/trip"},{title:"TAT",navLink:"/report/daily-reports/TAT"}]},{title:"Operational",icon:"/assets/icons/Reports/operational.svg",navLink:"/report/operational-reports/diesel-Utilization",subMenus:[{title:"Adhoc Maintenance",navLink:"/report/operational-reports/adhoc-Maintenance"},{title:"Diesel Utilization",navLink:"/report/operational-reports/diesel-Utilization"},{title:"Driver Attendance",navLink:"/report/operational-reports/driver-Attendance"},{title:"Driver Training",navLink:"/report/operational-reports/driver-Training"},{title:"Driver Roaster",navLink:"/report/operational-reports/driver-Roaster"},{title:"Hire Trailer",navLink:"/report/operational-reports/hire-Trailer"},{title:"LGR",navLink:"/report/operational-reports/LGR"},{title:"Trailer Performance",navLink:"/report/operational-reports/trailer-Performance"}]}]},CEO:{mainTitle:"",menus:[{title:"CEO-Dashboard",icon:"/assets/icons/Dashboard.svg",navLink:"/ceo-dashboard"}]}}},477:function(e){e.exports=[{title:"Fuel",selectedMenu:"selectedMenuTab"},{title:"Maintenance",selectedMenu:"selectedMenuTab"},{title:"Leave",selectedMenu:"selectedMenuTab"}]},479:function(e){e.exports=[{title:"Completed",selectedMenu:"selectedMenuTab"},{title:"Running",selectedMenu:"selectedMenuTab"},{title:"Scheduled",selectedMenu:"selectedMenuTab"}]},481:function(e){e.exports=[{title:"Attendance",selectedMenu:"selectedMenuTab"},{title:"Trips",selectedMenu:"selectedMenuTab"},{title:"Mobile",selectedMenu:"selectedMenuTab"}]},487:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACQElEQVRo3mNgGAWjYBSMgiELfj7s0/75sL/h18MJV99frPj1/krNhc83G7JoYT5NHA3E/2H4zfkSOKbEM7jMp4mjcXmAVM8QYz5NHE2MB9A88/PD1ZoTH69Vx5JqPskeIMZQUj2AjEk1f9QDox4Y9cAAe+DV0fz/91oC/18Ntfp/0U7//yV7w/83Iuz/P+2L///9Wtfg9sCT5Yn/Lzsb/b9groMVX3E1+f9+S9ng9MDTVUn/L1rp4nQ8DF+01vv/YXvF4PLA65OF/y+7GRN0PDwmPM3+/7jdO3g88KAvFC2UDf6/7Gn//+vYUSA+AmaDxJDVvJiZNng8cD3WDsVxIAf/v3YNBYPEkNXcTnYbPB5Az7igkEf3wO/jxzAy9KDxAKi4RPXAEQwP/Dp6BEXNJXuDweMBUJlPMAl1t6GouRHpMHg8cKfGF0cmPoIzEz9uiRo8Hni+NZ3oIhSGPx+uH1wVGXpJhA/fTnQdhDUxsBlBrAfebysbnG2h63H2hEM/yW3wNuaeb0r7f9ECjwcsdf9/2l8zuJvTt4s8cHrgQWXwEOgPHMn/f8nVCGtT+tvljqHRI3s0OxrDA29W5A2tLuXNdCe44+9meg69PvHL/bn/Lzka/r/sZPz/2/m2odmpfzwr+v+bpbmjoxKjHgANzIIGaH8+nKT1+Xat/aerdeveXa76SEUPwM2npgcIGkqMZ2jiaDweINtQXJ6hiaPRPAA1tE+bWmZ+utHo//5q7YF3lyp+0ML8UTAKRsEooD8AAIKPsp/djYSEAAAAAElFTkSuQmCC"},5749:function(e,t,a){e.exports=a(6165)},6163:function(e,t,a){},6165:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),s=a(47),i=a.n(s),o=a(115),c=a(34),d=a(160),m=a(474),u=a(350),h=a(15),p={menu:"cfs",isOpen:!0,anchorEl:null,isMenuHidden:!1},g=function(){try{var e=localStorage.getItem("auth");return null===e?{}:JSON.parse(e)}catch(t){return{}}},f=function(){try{localStorage.removeItem("auth")}catch(e){console.log(e)}},v={drivers:{chartData:[]},trailers:{chartData:[]},trailerPerformance:{chartData:[]},driverTrips:{chartData:[]},trips:{chartData:[]}},b={drivers:{chartData:[]},trailers:{chartData:[]}},E={trips:[],loading:!1},y={trips:[]},C={users:[]},S={tags:[]},N={},T={},k={},D=(n={layout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"TOGGLE_MENU":a.isOpen=!e.isOpen;break;case"TOGGLE_PROFILE_POP":a.anchorEl=r;break;case"REMOVE_MENU":a.anchorEl=r,a.isOpen=!1,a.isMenuHidden=!0;break;case"REMOVE_PROFILE":a.anchorEl=r,a.isProfileHidden=!0}return a},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g(),t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_USER":!function(e){try{var t=JSON.stringify(e);localStorage.setItem("auth",t)}catch(a){console.log(a)}}(r),a.token=r.token,a.user=r.user,a.role=r.role;break;case"LOGOUT_USER":f(),a.token="",a.user={},a.role=""}return a},CEODashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_CEO_CHART_DATA":a[r.key].chartData=r.data}return a},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_CHART_DATA":a[r.key].chartData=r.data}return a},adminManageTrips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_ADMIN_MANAGE_TRIPS_DATA":console.log(r.data),a.trips=r.data}return a},adminTripIntelligence:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_ADMIN_IN_TRIPS":a.trips=r.data}return a},adminUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_ADMIN_USERS":a.users=r.data}return a},adminMobile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e),n=Object(c.a)({},t),l=n.type,r=n.payload;switch(l){case"SET_ADMIN_MOBILE_DATA":a.tags=r.data}return a},adminVendor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);Object(c.a)({},t).type;return a}},Object(h.a)(n,"adminVendor",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);Object(c.a)({},t).type;return a}),Object(h.a)(n,"adminVendor",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);Object(c.a)({},t).type;return a}),n);var O=a(16),j=a(18),M=a(20),x=a(19),I=a(21),w=a(6174),L=a(6175),P=a(6176),A=a(351),R=a(4),F=a(1),V=a(49),U=a.n(V),W=a(10),_=a(6173),B=a(38),Y=a(125),q=function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{marginTop:3*e.spacing.unit},mainButton:{backgroundColor:"#ffffff",minWidth:"170px",minHeight:"25px","&:hover":{backgroundColor:"#ffffff"}},mainLabel:{color:"#332c6f",fontSize:16,fontWeight:600,textTransform:"capitalize","&:hover":{color:"#14A474"}},secondaryButton:{display:"flex",float:"right",marginTop:1*e.spacing.unit,"&:hover":{backgroundColor:"#332c6f"}},secondaryLabel:{color:"#ffffff",fontSize:12,fontWeight:600,textTransform:"capitalize","&:hover":{color:"#dc3545c9"}},formControl:{marginBottom:1.5*e.spacing.unit,paddingBotton:1*e.spacing.unit,borderColor:"none"},formControlLogin:{marginBottom:1*e.spacing.unit,paddingBotton:1*e.spacing.unit,borderColor:"#ffffff",width:"150px"},label:{color:"white",fontSize:16,fontWeight:600},visibleIcon:{color:"#ffffff"},multilineColor:{color:"white"},cssUnderline:{color:e.palette.common.white,borderBottom:e.palette.common.white,"&:after":{borderBottom:"2px solid ".concat(e.palette.common.white)},"&:focused::after":{borderBottom:"2px solid ".concat(e.palette.common.white)},"&:before":{borderBottom:"1px solid ".concat(e.palette.common.white)}},notchedOutline:{borderColor:"#ffffff"},OutlinedInput:{borderColor:"#ffffff",color:"#ffffff",fontWeight:600},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"none"}},cssFocused:{"&:before":{borderBottomColor:"#ffffff"},"&:after":{borderBottomColor:"#ffffff"}},cssLabel:{color:"#ffffff",fontWeight:600,fontSize:14,textColor:"#ffffff","&$cssFocused":{color:"#ffffff"}}}},z=function e(){Object(O.a)(this,e)};z.SET_USER=function(e){return{type:"SET_USER",payload:e}},z.LOGOUT_USER=function(e){return{type:"LOGOUT_USER"}};var G=a(142),H=a.n(G),K=a(216),J={hostname:"/api",publicEndPoints:new Map([["create",{path:"/authenticate/create",methods:["post"]}],["auth",{path:"/authenticate",methods:["post"]}],["otp",{path:"/authenticate/otp/",methods:["get"]}],["reOtp",{path:"/authenticate/retryotp/",methods:["get"]}],["verifyOtp",{path:"/authenticate/verifyotp/",methods:["get"]}],["reset",{path:"/authenticate/reset",methods:["put"]}]]),privateEndPoints:new Map([["homeTrailers",{path:"/home/trailers",methods:["get"]}],["homeDrivers",{path:"/home/drivers",methods:["get"]}],["homeMessages",{path:"/home/msg",methods:["get"]}],["deleteMessage",{path:"/home/msg/delete",methods:["delete"]}],["homePerformanceTrailers",{path:"/home/performance/trailers",methods:["get"]}],["homePerformanceDrivers",{path:"/home/performance/drivers",methods:["get"]}],["homePerformanceTrips",{path:"/home/performance/trips",methods:["get"]}],["homeTrips",{path:"/home/trips",methods:["get"]}],["runningInfo",{path:"/home/running/location",methods:["get"]}],["idleInfo",{path:"/home/idle/location",methods:["get"]}],["places",{path:"/home/place",methods:["get"]}],["profile",{path:"/home/profile",methods:["get"]}],["profileUpdate",{path:"/home/profile/",methods:["put"]}],["leaveApply",{path:"/leaves/apply",methods:["post"]}],["cfsLeaves",{path:"/leaves/approve/all",methods:["get"]}],["leaveDetails",{path:"/leaves/",methods:["get"]}],["leaveApprove",{path:"/leaves/approve/",methods:["post"]}],["approveFuelReq",{path:"/fuel/approve",methods:["post"]}],["fuelReq",{path:"/fuel/approve",methods:["get"]}],["maintenanceApprove",{path:"/drivers/notify/approve",methods:["post"]}],["maintenanceReq",{path:"/drivers/notify/approval",methods:["get"]}],["vendors",{path:"/admin/vendors",methods:["get"]}],["trailers",{path:"/trailers",methods:["get","put"]}],["trailerCreate",{path:"/trailers/create",methods:["post"]}],["trainingCreate",{path:"/trainings/create",methods:["post"]}],["trainingList",{path:"/trainings",methods:["get"]}],["trainingAssign",{path:"/trainings/assign",methods:["post"]}],["trips",{path:"/trips/list/all",methods:["get"]}],["scheduledTrips",{path:"/trips/scheduled/all",methods:["get"]}],["tripDetails",{path:"/trips/",methods:["get"]}],["driversList",{path:"/drivers/list",methods:["get"]}],["driversEmpId",{path:"/drivers/empid/list",methods:["get"]}],["endLocList",{path:"/trips/locations/list",methods:["get"]}],["tripUpdate",{path:"/trips/loc",methods:["put"]}],["scheduleCreateTrip",{path:"/trips/create",methods:["post"]}],["trailerBySysid",{path:"/trailers/sysid",methods:["post"]}],["managerTrips",{path:"/trips/manager/all",methods:["get"]}],["fuel",{path:"/fuel/list",methods:["get"]}],["fuelCreate",{path:"/fuel/create",methods:["post"]}],["messageCreate",{path:"/msg/create",methods:["post"]}],["messages",{path:"/msg",methods:["get"]}],["messageDetails",{path:"/msg/",methods:["get"]}],["messageSend",{path:"/msg/send",methods:["post"]}],["driversActive",{path:"/drivers/active",methods:["get"]}],["activeDriversSysId",{path:"/drivers/sysid/list",methods:["get"]}],["createAttendance",{path:"/drivers/manual/attendance",methods:["post"]}],["pendencyData",{path:"/report/pendency/all",methods:["get"]}],["pendencyCreateTrip",{path:"/trips/create/pendency",methods:["post"]}],["pendencyUpdateTrip",{path:"/trips/pendency/loc",methods:["put"]}],["transitList",{path:"/home/transit/list",methods:["get"]}],["trips",{path:"/trips/list/all",methods:["get"]}],["tripDetails",{path:"/trips/",methods:["get"]}],["approveLeave",{path:"/leaves/approve",methods:["post"]}],["adminManageUsersList",{path:"/admin/masterusers",methods:["get"]}],["adminManageUsers",{path:"/admin/manageusers",methods:["get","post","put"]}],["adminManageUsersActive",{path:"/admin/manageusersactive",methods:["get"]}],["adminManageTrips",{path:"/admin/trips",methods:["post","get","put","delete"]}],["adminConnectMobileGet",{path:"/admin/tags",methods:["get"]}],["adminConnectMobile",{path:"/admin/tag",methods:["post","put"]}],["adminTripsIntel",{path:"/admin/intel",methods:["post","get","put"]}],["adminDriverRoaster",{path:"/admin/roaster",methods:["post","get","put"]}],["adminDriverRoasterSearch",{path:"/admin/roaster/search",methods:["get"]}],["fileUpload",{path:"/admin/",methods:["put"]}],["adminManageUsersList",{path:"/admin/masterusers",methods:["get"]}],["adminMasterData",{path:"/admin/files",methods:["post","get"]}],["adminVendorRegistered",{path:"/admin/vendors",methods:["post"]}],["adminGetVendors",{path:"/admin/vendors",methods:["get"]}],["adminVendorsUpdate",{path:"/admin/vendors/",methods:["put"]}],["adminVendorsServiceFile",{path:"/admin/vendorsfile",methods:["post"]}],["adminVendorCreateCategoryType",{path:"/admin/master",methods:["post"]}],["adminGetTypes",{path:"/admin/master",methods:["get"]}],["adminVendorService",{path:"/admin/vendorservice",methods:["post","get"]}],["adminVendorUpdateService",{path:"/admin/vendorservice/",methods:["put"]}],["driversReport",{path:"/report/driver",methods:["get"]}],["trailersReport",{path:"/report/trailer",methods:["get"]}],["tripsReport",{path:"/report/trip",methods:["get"]}],["trainingsReport",{path:"/report/training",methods:["get"]}],["maintenanceReport",{path:"/report/maintenance",methods:["get"]}],["pendencyReport",{path:"/report/daily/pendency",methods:["get"]}],["dailyTATReport",{path:"/report/daily/tat",methods:["get"]}],["dailyTripReport",{path:"/report/daily/trip",methods:["get"]}],["dieselUtilReport",{path:"/report/operational/dieselUtilization",methods:["get"]}],["driAttReport",{path:"/report/operational/driverAttendance",methods:["get"]}],["traiPerReport",{path:"/report/operational/trailerPerformance",methods:["get"]}],["adhocMainReport",{path:"/report/operational/adhocMaintenance",methods:["get"]}],["driTrainReport",{path:"/report/operational/driverTraining",methods:["get"]}],["hireTrailReport",{path:"/report/operational/hireTrailer",methods:["get"]}],["lgrReport",{path:"/report/operational/lgr",methods:["get"]}],["driRoastReport",{path:"/report/operational/driverRoaster",methods:["get"]}],["logout",{path:"/authenticate/logout",methods:["post"]}]]),roles:{40:"Admin",50:"CFSManager",60:"CEO"},strings:{CFSDriversDayChart:{on_trip:"trips",shift1_present:"present",shift1_leave:"leave",shift1_absent:"absent",shift1_excess:"surplus"},CFSDriversNightChart:{on_trip:"trips",shift2_present:"present",shift2_leave:"leave",shift2_absent:"absent",shift2_excess:"surplus"},CFSTrailersChart:{on_idle:"Idle",on_maintenance:"Maintenance",on_move:"Move"},CEOTrailersPerformanceChart:{trips_done:"Trips Done",diesel_issued:"Diesel Issued"},CEODriversPerformanceChart:{driver_1:"One Trip",driver_2:"Two Trips",driver_3:"Three Trips",driver_4:"Four Trips"},CEOTripsPerformanceChart:{planned:"Planned",loaded:"Loaded",empty:"Empty",assigned:"Assigned",completed:"Completed",pending:"Pending",pending_prob:"Probability"}}},Q=J.privateEndPoints,X=J.hostname,Z={};function $(e,t,a,n,l){var r=a,s=n;return new Promise(function(){var a=Object(K.a)(H.a.mark(function a(n,i){var o,c,d;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o={method:e.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json"}},Q.get(t)&&(c=g().token,console.log(c,"TOKEN"),c?o.headers.Authorization="".concat(c):""===c&&(f(),window.location.pathname="/login")),l&&(o.body=JSON.stringify(l)),d=X+r,s&&(d+=s),a.abrupt("return",fetch(d,o).then(function(){var e=Object(K.a)(H.a.mark(function e(t){var a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"Response1"),a={},e.prev=2,e.next=5,t.json();case 5:a=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),t;case 11:if(!t||200!==t.status&&201!==t.status&&400!==t.status){e.next=14;break}return a.status=t.status,e.abrupt("return",a);case 14:throw a;case 15:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()).then(function(e){console.log(e,"Response2"),"User session is inactive"===e.error&&(f(),window.location.pathname="/login"),n(e)}).catch(function(e){console.log(e,"FIND ERROR"),i({code:e.status,serverMessage:e.statusText}),401!==e.status&&void 0!==e.status||(f(),window.location.pathname="/login")}));case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())}J.publicEndPoints.forEach(function(e,t){Z[t]={},e.methods.forEach(function(a){Z[t][a]=function(n,l){return $(a,t,e.path,n,l)}})}),Q.forEach(function(e,t){Z[t]={},e.methods.forEach(function(a){Z[t][a]=function(n,l){return $(a,t,e.path,n,l)}})});var ee=Z,te=a(189),ae=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={loading:!0},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state.loading;return r.a.createElement(te.FlapperSpinner,{size:18,color:"#332C6F",loading:e})}}]),t}(r.a.Component),ne=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.showNotification=function(e){a.setState({showNotification:!0,notification:e})},a.hideNotification=function(){a.setState({showNotification:!1})},a.state={labelWidth:0,user:"",userType:"",mobile:"",password:"",showPassword:!1,toggleForm:!0,submitted:!1,alert:!1,alertMessage:""},a.toggleSelection=!0,a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.forgotPassword=a.forgotPassword.bind(Object(R.a)(Object(R.a)(a))),a.showHide=a.showHide.bind(Object(R.a)(Object(R.a)(a))),a.hideNotification=a.hideNotification.bind(Object(R.a)(Object(R.a)(a))),a.showNotification=a.showNotification.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.redirectToLogin=a.redirectToLogin.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth}),this.props.auth.token&&this.redirectByRole(this.props.auth)}},{key:"showHide",value:function(){this.setState(function(e){return{showPassword:!e.showPassword}})}},{key:"forgotPassword",value:function(){this.setState({toggleForm:!1})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){if(""!==this.state.user){var e=this.state,t=e.mobile,a=e.password,n=e.user;console.log("Login Details:"),console.log("User Type: ",n),console.log("Mobile Number: ",t),console.log("Password: ",a),t&&a&&n&&(this.loader(),this.doAuthenticate(t,a,n))}else this.setState({alert:!0,alertMessage:"Please Select User Type to Proceed"})}},{key:"doAuthenticate",value:function(e,t,a){var n=this;ee.auth.post(null,{phone:e,password:t}).then(function(e){if(400===e.status&&"Not a registered mobile number"===e.error&&(alert("Not a registered mobile number"),n.setState({alert:!0,submitted:!1,alertMessage:"Your Mobile No. is Not Registered with us !"})),400===e.status&&"invalid password"===e.error&&n.setState({alert:!0,submitted:!1,alertMessage:"Your Password is Incorrect !"}),"CEO"===a||"Admin"===a||"CFSManager"===a){var t={role:a,token:e.token,user:e.user};n.redirectByRole(t)}else n.setState({alert:!0,submitted:!1,alertMessage:"You are not Authorized !"})}).catch(function(e){alert("Catch error"),console.log(e)})}},{key:"redirectByRole",value:function(e){console.log("result",e),this.props.setUser(e),"Admin"===e.role?this.props.history.push("./manage-users"):"CEO"===e.role?this.props.history.push("./ceo-dashboard"):this.props.history.push("./dashboard")}},{key:"redirectToLogin",value:function(){window.location.pathname="/"}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.submitted;return"/login"===window.location.pathname&&(this.toggleSelection=!1),r.a.createElement("div",null,r.a.createElement("div",{className:"row signin-page"},r.a.createElement("div",{className:"col-sm-0 col-md-6 col-lg-6 primary-design  justify-content-center align-items-center d-flex"},r.a.createElement("img",{src:"assets/images/Transworld_Logo.png",alt:"Transworld Logo",className:"img-fluied d-flex justify-content-center logo",onClick:function(){e.redirectToLogin()}})),r.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6 background-design justify-content-center align-items-center d-flex"},r.a.createElement("div",{className:"container p-5"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement(F.j,{variant:"outlined",className:t.formControlLogin},r.a.createElement(F.o,{className:t.label,ref:function(t){e.InputLabelRef=t},htmlFor:"user-type"},"User Type"),r.a.createElement(F.y,{className:t.OutlinedInput,inputProps:{classes:{icon:t.visibleIcon}},value:this.state.user,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"user",id:"user-type"})},r.a.createElement(F.u,{value:"CEO"},"CEO"),r.a.createElement(F.u,{value:"Admin"},"Admin"),r.a.createElement(F.u,{value:"CFSManager"},"CFS Manager"))),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Mobile No.",name:"mobile",value:this.state.mobile,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Mobile No. is required"],InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,underline:t.cssUnderline}}}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Password",name:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.onInputChange,validators:["required"],errorMessages:["password is required"],InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,underline:t.cssUnderline},endAdornment:r.a.createElement(F.m,{variant:"filled",position:"end"},r.a.createElement(F.l,{onClick:this.showHide},this.state.showPassword?r.a.createElement(Y.c,{className:t.visibleIcon}):r.a.createElement(Y.b,{className:t.visibleIcon})))}}),r.a.createElement(F.c,{size:"small",classes:{root:t.secondaryButton,label:t.secondaryLabel},component:_.a,to:"/otp"},"Forgot Password ?"),r.a.createElement(F.k,{container:!0,direction:"row",className:"d-flex justify-content-center",spacing:32},r.a.createElement(F.k,{item:!0},r.a.createElement(F.c,{type:"submit",classes:{root:t.mainButton,label:t.mainLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Login"))))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(r.a.Component),le=Object(o.b)(function(e){return{auth:e.auth}},function(e){return{setUser:function(t){e(z.SET_USER(t))}}})(Object(B.withStyles)(q)(ne)),re=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={phone:a.props.phone,password:"",confirmPassword:"",showPasswordNew:!1,showPasswordConfirm:!1,formValid:!1,toggleForm:!0,reset:!0,open:!1,status:0,submitted:!1},a.toggleSelection=!0,a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.forgotPassword=a.forgotPassword.bind(Object(R.a)(Object(R.a)(a))),a.showHideNew=a.showHideNew.bind(Object(R.a)(Object(R.a)(a))),a.showHideConfirm=a.showHideConfirm.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"showHideNew",value:function(){this.setState(function(e){return{showPasswordNew:!e.showPasswordNew}})}},{key:"showHideConfirm",value:function(){this.setState(function(e){return{showPasswordConfirm:!e.showPasswordConfirm}})}},{key:"getOtp",value:function(){this.setState({toggleForm:!1})}},{key:"forgotPassword",value:function(){this.setState({toggleForm:!1})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"getResetOtp",value:function(e){var t=this;ee.reset.put(null,e).then(function(e){console.log(e,"Response"),200===e.status&&(t.openModal(),t.setState({status:e.status,submitted:!1}),setTimeout(function(){return t.locateHome()},3e3))}).catch(function(e){return console.log(e)}),this.setState({reset:!1})}},{key:"locateHome",value:function(){window.location.pathname="/"}},{key:"onSubmit",value:function(){var e=Object(c.a)({},this.state),t=e.phone,a=e.password;a===e.confirmPassword?(this.loader(),this.getResetOtp({phone:t,password:a})):this.setState({alert:!0,alertMessage:"Your Password doesn't Match !"})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted;return r.a.createElement("div",null,r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"text-white mb-0"},"Reset your Password"),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"password",label:"New Password",type:this.state.showPasswordNew?"text":"password",value:this.state.password,onChange:this.onInputChange,validators:["required"],errorMessages:["New Password is required"],InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,underline:e.cssUnderline},endAdornment:r.a.createElement(F.m,{variant:"filled",position:"end"},r.a.createElement(F.l,{onClick:this.showHideNew},this.state.showPasswordNew?r.a.createElement(Y.c,{className:e.visibleIcon}):r.a.createElement(Y.b,{className:e.visibleIcon})))}}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"confirmPassword",label:"Confirm Password",type:this.state.showPasswordConfirm?"text":"password",value:this.state.confirmPassword,onChange:this.onInputChange,validators:["required"],errorMessages:["Confirm Password is required"],InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,underline:e.cssUnderline},endAdornment:r.a.createElement(F.m,{variant:"filled",position:"end"},r.a.createElement(F.l,{onClick:this.showHideConfirm},this.state.showPasswordConfirm?r.a.createElement(Y.c,{className:e.visibleIcon}):r.a.createElement(Y.b,{className:e.visibleIcon})))}})),r.a.createElement(F.k,{container:!0,direction:"row",className:"d-flex justify-content-center",spacing:32},r.a.createElement(F.k,{item:!0},r.a.createElement("br",null),r.a.createElement(F.c,{type:"submit",color:"primary",classes:{root:e.mainButton,label:e.mainLabel},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Submit")))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,200===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Your Password has been Changed"):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))))}}]),t}(r.a.Component),se=Object(B.withStyles)(q)(re),ie=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.showNotification=function(e){a.setState({showNotification:!0,notification:e})},a.hideNotification=function(){a.setState({showNotification:!1})},a.state={mobile:"",otp:"",toggleForm:!0,reset:!1,submitted:!1,alert:!1},a.toggleSelection=!0,a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmitOtp=a.onSubmitOtp.bind(Object(R.a)(Object(R.a)(a))),a.onSubmitVerifyOtp=a.onSubmitVerifyOtp.bind(Object(R.a)(Object(R.a)(a))),a.getResendOtp=a.getResendOtp.bind(Object(R.a)(Object(R.a)(a))),a.redirectToLogin=a.redirectToLogin.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getOtp",value:function(e){var t=this;ee.otp.get(e,null).then(function(e){console.log(e,"Mobile Response"),200===e.status?t.setState({toggleForm:!1,submitted:!1}):400===e.status&&t.setState({alert:!0,submitted:!1,alertMessage:"Please Enter Valid Registered Mobile No."})}).catch(function(e){console.log(e)})}},{key:"getResendOtp",value:function(){var e=this.state.mobile;ee.reOtp.get(e,null).then(function(e){console.log(e,"Response")}).catch(function(e){return console.log(e)})}},{key:"getVerifyOtp",value:function(e,t){var a=this;ee.verifyOtp.get(e+"/"+t,null).then(function(e){console.log(e,"OTP Response"),200===e.status?a.setState({toggleForm:"",reset:!0,submitted:!1}):400===e.status&&a.setState({alert:!0,submitted:!1,alertMessage:"Please Enter Valid OTP Sent to Your Mobile"})}).catch(function(e){console.log(e)})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmitOtp",value:function(){var e=this.state.mobile;this.loader(),this.getOtp(e)}},{key:"onSubmitVerifyOtp",value:function(){var e=this.state.mobile,t=this.state.otp;this.loader(),this.getVerifyOtp(e,t)}},{key:"redirectToLogin",value:function(){window.location.pathname="/"}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.toggleForm,l=a.submitted;return r.a.createElement("div",null,r.a.createElement("div",{className:"row signin-page"},r.a.createElement("div",{className:"col-sm-0 col-md-6 col-lg-6 primary-design  justify-content-center align-items-center d-flex"},r.a.createElement("img",{src:"assets/images/Transworld_Logo.png",alt:"Transworld Logo",className:"img-fluied d-flex justify-content-center logo",onClick:function(){e.redirectToLogin()}})),r.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-6 background-design justify-content-center align-items-center d-flex"},r.a.createElement("div",{className:"container p-5"},!0===n?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmitOtp},r.a.createElement("div",null,r.a.createElement("p",{className:"text-white mb-0"},"We'll send you a OTP to your Mobile No. to reset your Password"),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Mobile No.",name:"mobile",value:this.state.mobile,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Mobile No. is required"],InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,underline:t.cssUnderline}}})),r.a.createElement(F.k,{container:!0,direction:"row",className:"d-flex justify-content-center",spacing:32},r.a.createElement(F.k,{item:!0},r.a.createElement("br",null),r.a.createElement(F.c,{type:"submit",classes:{root:t.mainButton,label:t.mainLabel},disabled:l},l&&r.a.createElement(ae,null)||!l&&"Submit")))):!1===n?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmitVerifyOtp},r.a.createElement("div",null,r.a.createElement("p",{className:"text-white mb-0"},"Enter your OTP to Reset your Password"),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"OTP",name:"otp",value:this.state.otp,onChange:this.onInputChange,validators:["required","matchRegexp:^[0-9]{4}$"],errorMessages:["OTP is required"],InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,underline:t.cssUnderline}}}),r.a.createElement(F.c,{size:"small",classes:{root:t.secondaryButton,label:t.secondaryLabel},onClick:this.getResendOtp},"Resend OTP")),r.a.createElement(F.k,{container:!0,direction:"row",className:"d-flex justify-content-center",spacing:32},r.a.createElement(F.k,{item:!0},r.a.createElement("br",null),r.a.createElement(F.c,{type:"submit",classes:{root:t.mainButton,label:t.mainLabel},disabled:l},l&&r.a.createElement(ae,null)||!l&&"Submit")))):r.a.createElement(se,{phone:this.state.mobile})))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(r.a.Component),oe=Object(B.withStyles)(q)(ie),ce=a(29),de=a.n(ce),me=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={cfsEcode:"",cfsName:"",cfsMobile:"",cfsEmail:"",cfsDob:"",cfsDoj:"",cfsAddress:"",submitted:!1},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.setState({cfsEcode:this.props.sendData.eCode,cfsName:this.props.sendData.driverName,cfsMobile:this.props.sendData.contactNo,cfsEmail:this.props.sendData.email,cfsDob:this.props.sendData.dob,cfsDoj:this.props.sendData.doj,cfsAddress:this.props.sendData.permanentAddress})}},{key:"componentWillReceiveProps",value:function(e){this.setState({cfsEcode:e.sendData.eCode,cfsName:e.sendData.driverName,cfsMobile:e.sendData.contactNo,cfsEmail:e.sendData.email,cfsDob:e.sendData.dob,cfsDoj:e.sendData.doj,cfsAddress:e.sendData.permanentAddress})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){this.loader();var e=Object(c.a)({},this.state),t=e.cfsEcode,a=e.cfsName,n=e.cfsMobile,l=e.cfsAddress,r=t;this.props.updateProfile(r,{name:a,ContactNo:n,address:l})}},{key:"backToProfilePage",value:function(){this.props.backToProfile()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted;return r.a.createElement("div",{className:"container",style:{paddingLeft:"0px",paddingRight:"0px"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"400px"}},r.a.createElement("h6",{className:"custom"},"Update Profile"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"cfsName",label:"Name",value:this.state.cfsName,onChange:this.onInputChange,validators:["required"],errorMessages:["Name is required"]})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"cfsMobile",label:"Mobile No.",value:this.state.cfsMobile,onChange:this.onInputChange,validators:["matchRegexp:^[6-9][0-9]{9}$"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"cfsEmail",label:"Email",value:this.state.cfsEmail,onChange:this.onInputChange,InputProps:{classes:{underline:e.cssUnderline}}}),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"cfsDob",label:"Date of Birth",value:this.props.convert(this.state.cfsDob),InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"cfsDoj",label:"Date of Joining",value:this.props.convert(this.state.cfsDoj),InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"cfsAddress",label:"Address",value:this.state.cfsAddress,onChange:this.onInputChange})),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Only Name, Mobile No. and Address Fields are Editable")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Save"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToProfilePage.bind(this)},"Cancel")))))))}}]),t}(l.Component),ue=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit,backgroundColor:"#e0e0e0"},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(me),he=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={loading:!0},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state.loading;return r.a.createElement(te.PushSpinner,{size:15,color:"#332c6f99",loading:e})}}]),t}(r.a.Component),pe=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={getApi:!1,info:[0]},a.updateProfile=a.updateProfile.bind(Object(R.a)(Object(R.a)(a))),a.convert=a.convert.bind(Object(R.a)(Object(R.a)(a))),a.closeProfile=a.closeProfile.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getProfile",value:function(){var e=this;ee.profile.get(null,null).then(function(t){console.log(t.profileDetails,"Profile Info"),e.setState({info:t.profileDetails,getApi:!0})}).catch(function(e){return console.log(e)})}},{key:"closeProfile",value:function(e){e&&this.getProfile(),this.setState({open:!1,selectedModal:""})}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"updateProfile",value:function(e,t){var a=this;ee.profileUpdate.put(e,t).then(function(e){console.log(e,"Updated Profile"),a.closeProfile(!0);var t=e.message;!0===e.success&&(a.msgUpdated(),a.setState({message:t}))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getProfile()}},{key:"modifyProfileDetails",value:function(e){this.setState({open:!0,selectedModal:"modify",sendData:e})}},{key:"handleClose",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"backToProfile",value:function(){this.setState({open:!1})}},{key:"renderModalContent",value:function(){return"modify"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(ue,{backToProfile:this.backToProfile.bind(this),sendData:this.state.sendData,updateProfile:this.updateProfile,convert:this.convert})):"message"===this.state.selectedModal?r.a.createElement(F.f,null,r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Tick Mark",className:"img-fluied d-flex justify-content-center tick"}),this.state.message)):null}},{key:"convert",value:function(e){return null!==e||""!==e||0!==e?de()(e).format("L"):""}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.fullScreen,l=this.state,s=l.getApi,i=l.info;return!1===s?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===i.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center"},i.map(function(t){return r.a.createElement(F.w,{style:{width:"400px",marginTop:"2vh"}},r.a.createElement("h6",{className:"customHeader"},"Profile"),r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(Y.a,{style:{color:"#989595",fontSize:"12vh"}}))),r.a.createElement("hr",null),r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.I,{className:"titleColor",variant:"subheading",component:"h3",align:"left"},"Name")),r.a.createElement(F.k,{item:!0,xs:8},r.a.createElement(F.I,{className:"fieldColor",variant:"subheading",component:"h3",align:"left"},t.driverName)))),r.a.createElement("hr",null),r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.I,{className:"titleColor",variant:"subheading",component:"h3",align:"left"},"Mobile")),r.a.createElement(F.k,{item:!0,xs:8},r.a.createElement(F.I,{className:"fieldColor",variant:"subheading",component:"h3",align:"left"},t.contactNo)))),r.a.createElement("hr",null),r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.I,{className:"titleColor",variant:"subheading",component:"h3",align:"left"},"Email")),r.a.createElement(F.k,{item:!0,xs:8},r.a.createElement(F.I,{className:"fieldColor",variant:"subheading",component:"h3",align:"left"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.I,{className:"titleColor",variant:"subheading",component:"h3",align:"left"},"D.O.B")),r.a.createElement(F.k,{item:!0,xs:8},r.a.createElement(F.I,{className:"fieldColor",variant:"subheading",component:"h3",align:"left"},e.convert(t.dob))))),r.a.createElement("hr",null),r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.I,{className:"titleColor",variant:"subheading",component:"h3",align:"left"},"D.O.J")),r.a.createElement(F.k,{item:!0,xs:8},r.a.createElement(F.I,{className:"fieldColor",variant:"subheading",component:"h3",align:"left"})))),r.a.createElement("hr",null),r.a.createElement("div",{className:a.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.I,{className:"titleColor",variant:"subheading",component:"h3",align:"left"},"Address")),r.a.createElement(F.k,{item:!0,xs:8},r.a.createElement(F.I,{className:"fieldColor",variant:"subheading",component:"h3",align:"left"},t.permanentAddress)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",classes:{root:a.button,label:a.label},onClick:e.modifyProfileDetails.bind(e,t)},"Update"))))})),r.a.createElement(F.e,{fullScreen:n,open:this.state.open,onClose:this.handleClose.bind(this),"aria-labelledby":"responsive-dialog-title",classes:{paper:a.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),ge=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600}}})(pe),fe=a(477),ve=a(102),be=a.n(ve),Ee=a(209),ye=a.n(Ee),Ce=a(211),Se=a.n(Ce),Ne=a(210),Te=a.n(Ne),ke=a(208),De=a.n(ke),Oe=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(M.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(l)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,l=e.rowsPerPage,s=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(be.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===s.direction?r.a.createElement(De.a,null):r.a.createElement(ye.a,null)),r.a.createElement(be.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===s.direction?r.a.createElement(Te.a,null):r.a.createElement(Se.a,null)),r.a.createElement(be.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/l)-1,"aria-label":"Next Page"},"rtl"===s.direction?r.a.createElement(Se.a,null):r.a.createElement(Te.a,null)),r.a.createElement(be.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/l)-1,"aria-label":"Last Page"},"rtl"===s.direction?r.a.createElement(ye.a,null):r.a.createElement(De.a,null)))}}]),t}(r.a.Component),je=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}})(Oe),Me=function(e){return{root:{width:"100%"},toolBar:{paddingRight:e.spacing.unit},spacer:{flex:"1 1 80%"},rightIcon:{marginLeft:e.spacing.unit},mainButton:{margin:e.spacing.unit},mainButtonCss:{marginTop:"0.5rem"},mainButtonCssClear:{marginTop:"0.5rem",marginLeft:"1.5rem"},button:{margin:0,marginRight:"20px",padding:0,paddingLeft:"10px",paddingRight:"10px"},cancelButton:{margin:0,marginRight:"20px",padding:0,paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#e0e0e0"},label:{textTransform:"capitalize",fontWeight:600},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},refreshButton:{backgroundColor:"#b8b5d766",color:"#332c6f","&:hover":{color:"#ffffff",backgroundColor:"#332c6f"}},paperMargin:{marginTop:"3.5rem"},table:{minWidth:500},tableWrapper:{overflowX:"auto"},toolbarRoot:{padding:"12px"},tablePagination:{color:"#12A474",fontWeight:600},assignLabel:{color:"#12A474",fontWeight:600,cursor:"pointer"},lightTooltip:{backgroundColor:e.palette.common.black,color:"#ffffff",boxShadow:e.shadows[1],borderRadius:22,fontSize:12,paddingLeft:10,paddingRight:10},dateLable:{color:"#332c6f"},iconButton:{padding:8,position:"relative",right:"8vh",marginLeft:"1vh",color:"#12A474",borderRadius:22},barRoot:{padding:"2px 4px",display:"flex",alignItems:"center",width:300,height:40,marginRight:20,marginTop:"0.5em"},barRootAuto:{padding:"2px 4px",display:"flex",alignItems:"center",width:"auto",height:40,marginTop:"0.5em"},tripBarRoot:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,height:40,marginRight:20,marginTop:"0.5em"},barInput:{marginLeft:8,flex:1},barIconButton:{padding:10},barDivider:{width:1,height:28,margin:4},calendarRoot:{marginTop:0,marginBottom:0}}},xe=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),Ie=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).fetchRequests=function(){ee.fuelReq.get().then(function(e){console.log("Fuel Requests Data: ",e),a.setState({fuelApprovalDetails:e.requests}),a.setState({rows:e.requests,getApi:!0})}).catch(function(e){return console.log(e)})},a.approve=function(e,t){a.setState({status:t,click:1}),console.log(e),ee.approveFuelReq.post(null,{requestId:e.requestId,status:t}).then(function(t){console.log("Fuel Approvals Data: ",t),200===t.status&&(a.openModal(),a.setState({code:t.status,trailer:e.trailerNo})),a.fetchRequests()}).catch(function(e){return console.log(e)})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,fuelApprovalDetails:[],rows:[],page:0,rowsPerPage:5,hoverIdx:0,tick:"",close:"",status:"",trailer:"",open:!1,code:0,click:0},a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.fetchRequests()}},{key:"openModal",value:function(){var e=this;this.setState({open:!0},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"hoveredRow",value:function(e){this.setState({hoverIdx:e})}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page,o=a.click;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,a.requestId),r.a.createElement(F.C,null,de()(a.reqDt).format("L")),r.a.createElement(F.C,null,a.name),r.a.createElement(F.C,null,a.trailerNo),r.a.createElement(F.C,null,a.reqLitres),r.a.createElement(F.C,null,"Approved"===a.status?r.a.createElement("img",{src:"/assets/icons/tickMark.svg",alt:"Approved",className:"img-fluied d-flex justify-content-center mark"}):"Rejected"===a.status?r.a.createElement("img",{src:"/assets/icons/closeMark.svg",alt:"Rejected",className:"img-fluied d-flex justify-content-center mark"}):r.a.createElement("img",{src:"/assets/icons/questionMark.svg",alt:"Pending",className:"img-fluied d-flex justify-content-center mark"})),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-centre"},r.a.createElement(F.c,{classes:{root:t.button,label:t.label},variant:"outlined",color:"secondary",onClick:e.approve.bind(e,a,"Approved"),disabled:"Pending"!==a.status||1===o},"Approve"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.cancelButton,label:t.cancelLabel},onClick:e.approve.bind(e,a,"Rejected"),disabled:"Pending"!==a.status||1===o},"Reject"))))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement(F.w,{className:e.root},r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"ID"),r.a.createElement(F.C,null,"Date"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No."),r.a.createElement(F.C,null,"Fuel (Ltr)"),r.a.createElement(F.C,null,"Status"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:xe}))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,200===this.state.code&&"Approved"===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Approved Fuel Request for Trailer: ",this.state.trailer):200===this.state.code&&"Rejected"===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Rejected Fuel Request for Trailer: ",this.state.trailer):200!==this.state.code?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"):null)))}}]),t}(l.Component),we=Object(B.withStyles)(Me)(Ie),Le=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),Pe=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).fetchMaintenanceRequests=function(){ee.maintenanceReq.get().then(function(e){console.log("Maintenance Requests Data: ",e),a.setState({maintenanceApprovalDetails:e.notifications}),a.setState({rows:e.notifications,getApi:!0})}).catch(function(e){return console.log(e)})},a.approve=function(e,t){a.setState({status:t,click:1}),console.log(e),ee.maintenanceApprove.post(null,{notifyId:e.notifyId,status:t}).then(function(t){console.log("Maintenance Approvals Data: ",t),200===t.status&&(a.openModal(),a.setState({code:t.status,trailer:e.trailerNo})),a.fetchMaintenanceRequests()}).catch(function(e){return console.log(e)})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,maintenanceApprovalDetails:[],rows:[],page:0,rowsPerPage:5,hoverIdx:"",tick:"",close:"",status:"",trailer:"",open:!1,code:0,click:0},a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.fetchMaintenanceRequests()}},{key:"openModal",value:function(){var e=this;this.setState({open:!0},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"hoveredRow",value:function(e){this.setState({hoverIdx:e})}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page,o=a.click;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,a.notifyId),r.a.createElement(F.C,null,de()(a.created).format("L")),r.a.createElement(F.C,null,a.driverName),r.a.createElement(F.C,null,a.trailerNo),r.a.createElement(F.C,null,a.notifyType),r.a.createElement(F.C,null,"Approved"===a.status||"completed"===a.status?r.a.createElement("img",{src:"/assets/icons/tickMark.svg",alt:"Approved",className:"img-fluied d-flex justify-content-center mark"}):"Rejected"===a.status?r.a.createElement("img",{src:"/assets/icons/closeMark.svg",alt:"Rejected",className:"img-fluied d-flex justify-content-center mark"}):"Pending"===a.status||"inCompleted"===a.status?r.a.createElement("img",{src:"/assets/icons/questionMark.svg",alt:"Pending",className:"img-fluied d-flex justify-content-center mark"}):null),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-centre"},r.a.createElement(F.c,{classes:{root:t.button,label:t.label},variant:"outlined",color:"secondary",onClick:e.approve.bind(e,a,"Approved"),disabled:"Pending"!==a.status||1===o},"Approve"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.cancelButton,label:t.cancelLabel},onClick:e.approve.bind(e,a,"Rejected"),disabled:"Pending"!==a.status||1===o},"Reject"))))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement(F.w,{className:e.root},r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"ID"),r.a.createElement(F.C,null,"Date"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No."),r.a.createElement(F.C,null,"Service"),r.a.createElement(F.C,null,"Status"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Le}))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,200===this.state.code&&"Approved"===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Approved Maintenance Request for Trailer: ",this.state.trailer):200===this.state.code&&"Rejected"===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Rejected Maintenance Request for Trailer: ",this.state.trailer):200!==this.state.code?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"):null)))}}]),t}(l.Component),Ae=Object(B.withStyles)(Me)(Pe),Re=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),Fe=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).fetchLeaves=function(){ee.cfsLeaves.get().then(function(e){console.log(e,"Leave Details"),a.setState({leaveApprovalDetails:e.leaves}),a.setState({rows:e.leaves,getApi:!0})}).catch(function(e){return console.log(e)})},a.approve=function(e,t){a.setState({status:t,click:1}),ee.leaveApprove.post(null,{leaveId:e.leaveId,status:t}).then(function(t){console.log("Leave Approvals Data: ",t),200===t.status&&(a.openModal(),a.setState({code:t.status,driver:e.driverName})),a.fetchLeaves()}).catch(function(e){return console.log(e)})},a.cancel=function(e){a.setState({status:!1})},a.showLeaveDetails=function(e){a.setState({open:!0,displayLeaveDetails:{}},function(){a.setState({displayLeaveDetails:e},function(){console.log("object",a.state.displayLeaveDetails)})})},a.handleClose=function(){a.setState({open:!1})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,leaveApprovalDetails:[],rows:[],page:0,rowsPerPage:5,hoverIdx:"",modalOpen:!1,displayLeaveDetails:{},toggleApprove:!0,status:"",driver:"",open:!1,code:0,click:0},a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.fetchLeaves()}},{key:"componentWillMount",value:function(){this.setState({rows:this.state.leaveApprovalDetails})}},{key:"openModal",value:function(){var e=this;this.setState({open:!0},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"hoveredRow",value:function(e){this.setState({hoverIdx:e})}},{key:"decisionTaken",value:function(){this.setState({toggleApprove:!this.state.toggleApprove})}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page,o=a.click;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,a.leaveId),r.a.createElement(F.C,null,de()(a.appliedOn).format("L")),r.a.createElement(F.C,null,a.driverName),r.a.createElement(F.C,null,a.noOfDays),r.a.createElement(F.C,null,a.fromDate),r.a.createElement(F.C,null,a.toDate),r.a.createElement(F.C,null,"Approved"===a.status?r.a.createElement("img",{src:"/assets/icons/tickMark.svg",alt:"Tick",className:"img-fluied d-flex justify-content-center mark"}):"Rejected"===a.status?r.a.createElement("img",{src:"/assets/icons/closeMark.svg",alt:"Close",className:"img-fluied d-flex justify-content-center mark"}):r.a.createElement("img",{src:"/assets/icons/questionMark.svg",alt:"Pending",className:"img-fluied d-flex justify-content-center mark"})),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-left"},r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:t.button,label:t.label},onClick:e.approve.bind(e,a,"Approved"),disabled:"Pending"!==a.status||1===o},"Approve"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.cancelButton,label:t.cancelLabel},onClick:e.approve.bind(e,a,"Rejected"),disabled:"Pending"!==a.status||1===o},"Reject"))))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement(F.w,{className:e.root},r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"ID"),r.a.createElement(F.C,null,"Date"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"No. of Days"),r.a.createElement(F.C,null,"From Date"),r.a.createElement(F.C,null,"To Date"),r.a.createElement(F.C,null,"Status"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Re}))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,200===this.state.code&&"Approved"===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Approved Leave Request for Driver: ",this.state.driver):200===this.state.code&&"Rejected"===this.state.status?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Rejected Leave Request for Driver: ",this.state.driver):200!==this.state.code?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"):null)))}}]),t}(l.Component),Ve=Object(B.withStyles)(Me)(Fe),Ue=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={approvals:fe,tabSelection:"Fuel"},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"selectedTab",value:function(e){this.setState({tabSelection:e})}},{key:"renderApprovals",value:function(){var e=null;switch(this.state.tabSelection){case"Fuel":e=r.a.createElement(we,null);break;case"Maintenance":e=r.a.createElement(Ae,null);break;case"Leave":e=r.a.createElement(Ve,null)}return e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Approvals"),r.a.createElement("div",{className:"row tablePad"},this.state.approvals.map(function(t,a){return e.state.tabSelection===t.title?r.a.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4 text-white "+t.selectedMenu,onClick:e.selectedTab.bind(e,t.title)},t.title):r.a.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4 tabDesign ",onClick:e.selectedTab.bind(e,t.title)},t.title)}),this.renderApprovals()))}}]),t}(l.Component),We=a(43),_e=a(32),Be=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("L");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("L");a.setState({dateSelectTo:e,toDate:t})}},a.state={info:{},vendorId:"",vendorName:"",trailerNo:"",contactNo:"",dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",rate:"",type:"",submitted:a.props.submitted,filterFrom:"",filterTo:"",alert:!1,alertMessage:""},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onInputChangeId=a.onInputChangeId.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getVendors",value:function(){var e=this;ee.vendors.get(null,null).then(function(t){var a=t.vendors;console.log(a,"+++++++++ Get Details +++++++++"),e.setState({info:a})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getVendors()}},{key:"onInputChangeId",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.state.info.find(function(t){return t.vendorId===Number(e.target.value)});console.log(t,"Vendor OBJ"),void 0!==t?this.setState({vendorName:t.vendorName}):this.setState({vendorName:""})}},{key:"calculateDaysLeft",value:function(e,t){return de.a.isMoment(e)||(e=de()(e)),de.a.isMoment(t)||(t=de()(t)),t.diff(e,"days")}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){var e=Object(c.a)({},this.state),t=e.vendorId,a=e.vendorName,n=e.type,l=e.trailerNo,r=e.contactNo,s=e.rate,i=e.fromDate,o=e.toDate,d=e.dateSelectFrom,m=e.dateSelectTo,u=this.calculateDaysLeft(d,m);""!==(n&&i&&o)?(this.loader(),this.props.createTrailer({vendorId:t,vendorName:a,type:n,trailerNo:l,contactNo:r,rate:s,fromDate:i,toDate:o,days:u})):this.setState({alert:!0,alertMessage:"Trip Type, From Date & To Date are Required"})}},{key:"backToTable",value:function(){this.props.backToHire()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.submitted,n=t.dateSelectFrom,l=t.dateSelectTo;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Create Trailer"),r.a.createElement("div",{className:"container pl-4 pr-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Vendor ID",name:"vendorId",value:this.state.vendorId,onChange:this.onInputChangeId,validators:["required","isNumber"],errorMessages:["Vendor ID is required"]})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Vendor Name",name:"vendorName",value:this.state.vendorName,InputProps:{classes:{underline:e.cssUnderline}},validators:["required"],errorMessages:["Vendor Name is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(F.j,{className:e.formControl},r.a.createElement(F.o,{htmlFor:"trailerType"},"Trip Type"),r.a.createElement(F.y,{value:this.state.type,onChange:this.onInputChange,inputProps:{name:"type",id:"trailerType"}},r.a.createElement(F.u,{value:1},"Empty"),r.a.createElement(F.u,{value:2},"Loaded"),r.a.createElement(F.u,{value:3},"Empty Container")))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Trailer No.",name:"trailerNo",value:this.state.trailerNo,onChange:this.onInputChange,validators:["required"],errorMessages:["Trailer Number is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Mobile No.",name:"contactNo",value:this.state.contactNo,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number is required"]})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Price",name:"rate",value:this.state.rate,onChange:this.onInputChange,validators:["required","isNumber"],errorMessages:["Price is required"]})))),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,maxDate:l,margin:"normal",label:"From Date",value:n,onChange:this.handleDateChangeFrom}))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,minDate:n,margin:"normal",label:"To Date",value:l,onChange:this.handleDateChangeTo}))))),r.a.createElement("div",{className:"d-flex justify-content-start pt-2"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-2 pb-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),Ye=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%",marginTop:2*e.spacing.unit},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(Be),qe=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("L");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("L");a.setState({dateSelectTo:e,toDate:t})}},a.handleClose=function(e){a.setState({open:!1},function(){a.props.closeModal()})},a.state={detId:a.props.selectedRow.detId,vendorId:a.props.selectedRow.vendorId,vendorName:a.props.selectedRow.vendorName,tripType:a.props.selectedRow.type,trailerNumber:a.props.selectedRow.trailerNo,contactNumber:a.props.selectedRow.contactNo,fromDate:a.props.selectedRow.startDate,toDate:a.props.selectedRow.endDate,rate:a.props.selectedRow.rate,open:!0,submitted:a.props.submitted},a.handleChange=a.handleChange.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"calculateDaysLeft",value:function(e,t){return de.a.isMoment(e)||(e=de()(e)),de.a.isMoment(t)||(t=de()(t)),t.diff(e,"days")}},{key:"backToTable",value:function(){this.props.backToHire()}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){this.loader();var e=Object(c.a)({},this.state),t=e.detId,a=e.fromDate,n=e.toDate,l=e.rate,r=this.calculateDaysLeft(a,n);this.props.modifyTrailer(t,{fromDate:a,toDate:n,days:r,rate:l}),console.log(this.state.fromDate,this.state.toDate,this.state.days,this.state.rate,r,"Details")}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.submitted,n=t.fromDate,l=t.toDate;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Modify Trialer"),r.a.createElement("div",{className:"container pl-4 pr-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorId",label:"Vendor ID",value:this.state.vendorId,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorName",label:"Vendor Name",value:this.state.vendorName,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripType",label:"Trip Type",value:"1"===this.state.tripType?"Empty":"2"===this.state.tripType?"Loaded":"Empty Container",InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trailerNumber",label:"Trailer No.",value:this.state.trailerNumber,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactNumber",label:"Mobile No.",value:this.state.contactNumber,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"rate",label:"Hire Price",value:this.state.rate,onChange:this.handleChange})))),r.a.createElement("div",{className:"pt-3 pb-2"},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,minDate:n,maxDate:l,margin:"normal",label:"From Date",value:n,onChange:this.handleDateChangeFrom}))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,minDate:n,margin:"normal",label:"To Date",value:l,onChange:this.handleDateChangeTo}))))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Only Hire Price, From Date and To Date Fields are Editable")),r.a.createElement("div",{className:"d-flex justify-content-center pt-3 pb-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Save"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))))}}]),t}(l.Component),ze=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},dialogPaper:{overflow:"hidden"},cssUnderline:{color:"#dc3545c9"}}})(qe),Ge=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),He=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],page:0,rowsPerPage:5,selectedModal:"",selectedRow:{},open:!1,message:"",submitted:!1,errMessage:""},a.createModal=a.createModal.bind(Object(R.a)(Object(R.a)(a))),a.updateModal=a.updateModal.bind(Object(R.a)(Object(R.a)(a))),a.createTrailer=a.createTrailer.bind(Object(R.a)(Object(R.a)(a))),a.modifyTrailer=a.modifyTrailer.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.backToHire=a.backToHire.bind(Object(R.a)(Object(R.a)(a))),a.closeTrailer=a.closeTrailer.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrailers",value:function(){var e=this;ee.trailers.get(null,null).then(function(t){console.log(t.trailers,"Trailers List"),e.setState({rows:t.trailers,getApi:!0})}).catch(function(t){500===t.code&&(e.msgUpdated(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getTrailers()}},{key:"createTrailer",value:function(e){var t=this;console.log(e,"Print Data"),ee.trailerCreate.post(null,e).then(function(e){console.log(e,"Response"),t.closeTrailer(!0);var a=e.message;!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getTrailers()}},{key:"modifyTrailer",value:function(e,t){var a=this;ee.trailers.put("/"+e,t).then(function(e){console.log(e,"Update Trailer Data"),a.closeTrailer(!0);var t=e.message;!0===e.success&&(a.msgUpdated(),a.setState({message:t}))}).catch(function(e){500===e.code&&(a.msgUpdated(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getTrailers()}},{key:"createModal",value:function(){this.setState({open:!0,selectedModal:"create"})}},{key:"updateModal",value:function(e){this.setState({open:!0,selectedModal:"modify",selectedRow:e})}},{key:"closeTrailer",value:function(e){e&&this.getTrailers(),this.setState({open:!1,selectedModal:""})}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"backToHire",value:function(){this.setState({open:!1})}},{key:"renderModalContent",value:function(){return"create"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(Ye,{createTrailer:this.createTrailer,backToHire:this.backToHire,submitted:this.state.submitted})):"modify"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(ze,{modifyTrailer:this.modifyTrailer,selectedRow:this.state.selectedRow,closeModal:this.closeModal,backToHire:this.backToHire,submitted:this.state.submitted})):"message"===this.state.selectedModal?r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"convert",value:function(e){return null!==e||""!==e?de()(e).format("L"):null}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,a.vendorId),r.a.createElement(F.C,null,a.vendorName),r.a.createElement(F.C,null,"1"===a.type?"Empty":"2"===a.type?"Loaded":"Empty Container"),r.a.createElement(F.C,null,a.trailerNo),r.a.createElement(F.C,null,a.contactNo),r.a.createElement(F.C,null,e.convert(a.startDate)),r.a.createElement(F.C,null,e.convert(a.endDate)),r.a.createElement(F.C,null,a.rate),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:t.button,label:t.label},onClick:function(){e.updateModal(a)}},"Modify"))))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Hire Trailer"),r.a.createElement(F.w,{className:e.root},r.a.createElement(F.H,{className:e.toolBar},r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.c,{color:"primary",variant:"contained",classes:{root:e.mainButton,label:e.label},onClick:this.createModal},"Create Trailer")))),r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Vendor ID"),r.a.createElement(F.C,null,"Vendor Name"),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Trailer No."),r.a.createElement(F.C,null,"Mobile No."),r.a.createElement(F.C,null,"From Date"),r.a.createElement(F.C,null,"To Date"),r.a.createElement(F.C,null,"Price"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Ge})))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"responsive-dialog-title",classes:{paper:e.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),Ke=Object(B.withStyles)(Me)(He),Je=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e){a.setState({trainingDate:e})},a.state={trainingName:"",trainerName:"",trainingLoc:"",trainingDate:null,type:"",submitted:a.props.submitted,open:!1,alert:!1,alertMessage:""},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChange=a.handleDateChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"onInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,l=a.name;this.setState(Object(h.a)({},l,n),function(){t.validateField(l,n)})}},{key:"validateField",value:function(e,t){switch(e){case"trainingId":this.setState({trainingIdValid:t.length>0},this.validateForm);break;case"trainingName":this.setState({trainingNameValid:t.length>0},this.validateForm);break;case"location":this.setState({locationValid:t.length>0},this.validateForm);break;case"trainingType":this.setState({trainingTypeValid:t.length>0},this.validateForm);break;case"trainingDate":this.setState({trainingDateValid:t.length>0},this.validateForm)}}},{key:"loader",value:function(){var e=this;this.setState({submitted:!0},function(){setTimeout(function(){return e.setState({submitted:!1})},3e3)})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){""!==this.state.type&&null!==this.state.trainingDate?(this.loader(),this.props.createTraining(this.state)):this.setState({alert:!0,alertMessage:"Training Type & Date are Required"})}},{key:"backToTable",value:function(){this.props.backToTraining()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.submitted,n=t.trainingDate;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Create Training"),r.a.createElement("div",{className:"container p-3"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trainingName",label:"Training Name",value:this.state.trainingName,onChange:this.onInputChange,validators:["required"],errorMessages:["Training Name is required"]})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trainingLoc",label:"Training Location",value:this.state.trainingLoc,onChange:this.onInputChange,validators:["required"],errorMessages:["Training Location is required"]})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trainerName",label:"Trainer Name",value:this.state.trainerName,onChange:this.onInputChange,validators:["required"],errorMessages:["Trainer Name is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(F.j,{className:e.formControl},r.a.createElement(F.o,{htmlFor:"training"},"Training Type"),r.a.createElement(F.y,{value:this.state.type,onChange:this.handleChange,inputProps:{name:"type",id:"training"}},r.a.createElement(F.u,{value:1},"Driver Loading Training"),r.a.createElement(F.u,{value:2},"App Training")))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,margin:"normal",label:"Date",value:n,onChange:this.handleDateChange}))))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-2"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),Qe=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%",marginTop:2*e.spacing.unit},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"}}})(Je),Xe=a(52),Ze=a(159),$e=a.n(Ze),et=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChecked=function(e){a.setState({selectedValue:e.target.value})},a.handleChangeSelect=function(e){a.setState({driverNames:e}),console.log("Selected Drivers:",e)},a.state={trainings:a.props.selectedRow,drivers:a.props.drivers,trainingId:"",driverNames:[],selectedValue:"",submitted:a.props.submitted,alert:!1,alertMessage:""},a.handleChecked=a.handleChecked.bind(Object(R.a)(Object(R.a)(a))),a.handleChangeSelect=a.handleChangeSelect.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.trainings.trainingId;this.setState({trainingId:e})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){var e=this.state.trainingId;if("All"===this.state.selectedValue){var t=[];this.state.drivers.length>0&&(this.state.drivers.forEach(function(e){console.log(e,"Objects of Drivers............"),t.push(e.name)}),this.loader()),console.log(t,"-----------Drivers list-----------"),this.props.assignTraining({trainingId:e,driverNames:t})}else if("Choose Drivers Name"===this.state.selectedValue){var a=[];this.state.driverNames.length>0&&(this.state.driverNames.forEach(function(e){console.log(e,"Objects of Drivers............"),a.push(e.name)}),this.loader()),console.log(a,a),0!==a.length?this.props.assignTraining({trainingId:e,driverNames:a}):this.setState({alert:!0,alertMessage:"Please Select Driver's to Proceed"})}else this.setState({alert:!0,alertMessage:"Please Select Option to Proceed"})}},{key:"backToTable",value:function(){this.props.backToTraining()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted,a=this.state.drivers;return r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Assign Training"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement(F.x,{checked:"All"===this.state.selectedValue,onChange:this.handleChecked,value:"All",name:"radio-button-demo",classes:{root:e.root,checked:e.checked}}),r.a.createElement("label",null,"All Driver's"),r.a.createElement("br",null),r.a.createElement(F.x,{checked:"Choose Drivers Name"===this.state.selectedValue,onChange:this.handleChecked,value:"Choose Drivers Name",name:"radio-button-demo",classes:{root:e.root,checked:e.checked}}),r.a.createElement("label",null,"Choose Driver's"),"Choose Drivers Name"===this.state.selectedValue?r.a.createElement(Xe.a,{isMulti:!0,closeMenuOnSelect:!1,components:$e()(),name:"driverNames",className:"basic-multi-select",classNamePrefix:"select",options:a,value:this.state.driverNames,onChange:this.handleChangeSelect,placeholder:"Select Driver Names"}):null,r.a.createElement("div",{className:"d-flex justify-content-start pt-3"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Please Select One Option")),r.a.createElement("div",{className:"d-flex justify-content-center pt-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel")))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),tt=Object(B.withStyles)(function(e){return{root:{color:"#332c6fba",padding:"12px 12px 12px 0 !important","&$checked":{color:"#332c6f"}},checked:{},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"}}})(et),at=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),nt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],page:0,rowsPerPage:5,selectedModal:"",selectedRow:{},drivers:[],open:!1,message:"",submitted:!1,errMessage:""},a.createModal=a.createModal.bind(Object(R.a)(Object(R.a)(a))),a.assignModal=a.assignModal.bind(Object(R.a)(Object(R.a)(a))),a.msgUpdated=a.msgUpdated.bind(Object(R.a)(Object(R.a)(a))),a.handleClose=a.handleClose.bind(Object(R.a)(Object(R.a)(a))),a.createTraining=a.createTraining.bind(Object(R.a)(Object(R.a)(a))),a.assignTraining=a.assignTraining.bind(Object(R.a)(Object(R.a)(a))),a.closeTraining=a.closeTraining.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrainingList",value:function(){var e=this;ee.trainingList.get(null,null).then(function(t){console.log(t.trainings,"Get Training List"),e.setState({rows:t.trainings,getApi:!0})}).catch(function(e){return console.log(e)})}},{key:"getDriversList",value:function(){var e=this;ee.driversList.get(null,null).then(function(t){console.log(t,"Drivers List");var a=t.map(function(e){return e.name});console.log(a,"Names of Drivers..........."),e.setState({drivers:t})}).catch(function(t){500===t.code&&(e.msgUpdated(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getTrainingList(),this.getDriversList()}},{key:"createTraining",value:function(e){var t=this;ee.trainingCreate.post(null,e).then(function(e){console.log(e,"Response"),t.closeTraining(!0);var a=e.message;!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getTrainingList()}},{key:"assignTraining",value:function(e){var t=this;ee.trainingAssign.post(null,e).then(function(e){console.log(e,"Assign"),t.handleClose();var a=e.message;!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"createModal",value:function(){this.setState({open:!0,selectedModal:"create"})}},{key:"assignModal",value:function(e){this.setState({open:!0,selectedModal:"assign",selectedRow:e})}},{key:"closeTraining",value:function(e){e&&this.getTrainingList(),this.setState({open:!1,selectedModal:""})}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"handleClose",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"backToTraining",value:function(){this.setState({open:!1})}},{key:"renderModalContent",value:function(){return"create"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(Qe,{createTraining:this.createTraining,backToTraining:this.backToTraining.bind(this),submitted:this.state.submitted})):"assign"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(tt,{assignTraining:this.assignTraining,selectedRow:this.state.selectedRow,drivers:this.state.drivers,backToTraining:this.backToTraining.bind(this),submitted:this.state.submitted})):"message"===this.state.selectedModal?r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"convert",value:function(e){return null!==e||""!==e?de()(e).format("L"):null}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,1===a.trainingType?"Driver Loading Training":"App Training"),r.a.createElement(F.C,null,a.trainingName),r.a.createElement(F.C,null,a.trainingLoc),r.a.createElement(F.C,null,a.trainerName),r.a.createElement(F.C,null,e.convert(a.trainingDate)),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(F.c,{color:"secondary",variant:"outlined",classes:{root:t.button,label:t.label},onClick:function(){e.assignModal(a)}},"Assign"))))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Training"),r.a.createElement(F.w,{className:e.root},r.a.createElement(F.H,{className:e.toolBar},r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.c,{color:"primary",variant:"contained",classes:{root:e.mainButton,label:e.label},onClick:this.createModal},"Create Training")))),r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Training Type"),r.a.createElement(F.C,null,"Training Name"),r.a.createElement(F.C,null,"Training Location"),r.a.createElement(F.C,null,"Trainer Name"),r.a.createElement(F.C,null,"Date"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:at})))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"responsive-dialog-title",classes:{paper:e.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),lt=Object(B.withStyles)(Me)(nt),rt=a(479),st=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),it=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],page:0,rowsPerPage:5},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getCompletedTripsData",value:function(){var e=this;ee.trips.get(null,null).then(function(t){console.log(t.trips,"Total Trips");var a=t.trips,n=(de()(new Date).format("DD/MM/YYYY"),a.filter(function(e){de()(e.actStartTime).format("DD/MM/YYYY");return"TRIP_COMPLETED"===e.tripStatus}));console.log(n,"Completed Trips"),e.setState({rows:n,getApi:!0})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getCompletedTripsData()}},{key:"convert",value:function(e){return console.log(e,"date"),null!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null===e?null:void 0}},{key:"renderList",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.rowsPerPage,s=t.page;return!1===a?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===n.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):n.slice(s*l,s*l+l).map(function(t,a){return r.a.createElement(F.G,{key:a},r.a.createElement(F.C,null,a+1),r.a.createElement(F.C,null,t.tripNo),r.a.createElement(F.C,null,1===t.tripType?"Empty":2===t.tripType?"Loaded":"Empty Container"),r.a.createElement(F.C,null,t.startLocationName),r.a.createElement(F.C,null,t.endLocationName),r.a.createElement(F.C,null,e.convert(t.startDate)),r.a.createElement(F.C,null,e.convert(t.endDate)),r.a.createElement(F.C,null,e.convert(t.actStartTime)),r.a.createElement(F.C,null,e.convert(t.actEndTime)),r.a.createElement(F.C,null,t.driverName),r.a.createElement(F.C,null,t.trailerNo))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement(F.w,{className:e.root},r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Trip No."),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Start Location"),r.a.createElement(F.C,null,"End Location"),r.a.createElement(F.C,null,"Est. Start Date Time"),r.a.createElement(F.C,null,"Est. End Date Time"),r.a.createElement(F.C,null,"Act. Start Date Time"),r.a.createElement(F.C,null,"Act. End Date Time"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No."))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:st}))))))}}]),t}(l.Component),ot=Object(B.withStyles)(Me)(it),ct=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleDriverChange=function(e){null!==e&&(a.setState({selectedDriverOption:e}),a.setState({driverId:e.systemUserId,driverActive:!0}))},a.handleLocationChange=function(e){null!==e&&(a.setState({selectedLocationOption:e}),a.setState({endLocId:e.locId,locationActive:!0}))},a.state={tripsId:a.props.sendData.tripNo,tripsType:a.props.sendData.tripType,trailerNumber:a.props.sendData.trailerNo,startLocation:a.props.sendData.startLocationName,startTime:a.props.sendData.startDate,endTime:a.props.sendData.endDate,driverName:a.props.sendData.driverName,endLocationName:a.props.sendData.endLocationName,driverId:"",endLocId:"",selectedDriverName:a.props.sendData.driverName,selectedEndLocation:a.props.sendData.endLocationName,driverNames:a.props.dList,locNames:a.props.lList,submitted:a.props.submitted,selectedDriverOption:"",selectedLocationOption:null,driverActive:!1,locationActive:!1},a.handleDriverChange=a.handleDriverChange.bind(Object(R.a)(Object(R.a)(a))),a.handleLocationChange=a.handleLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"updateDriverSid",value:function(e,t){var a=e.filter(function(e){return e.name===t});if(console.log(a,"PRINT DATA"),1===a.length)return a[0].systemUserId}},{key:"updateLocId",value:function(e,t){var a=e.filter(function(e){return e.locName===t});if(1===a.length)return a[0].locId}},{key:"componentDidMount",value:function(){var e=this.updateDriverSid(this.state.driverNames,this.state.driverName);this.setState({driverId:e});var t=this.updateLocId(this.state.locNames,this.state.endLocationName);console.log(t,"End Location Name 1"),this.setState({endLocId:t}),1===this.state.tripsType?this.setState({tripsType:"Empty"}):2===this.state.tripsType?this.setState({tripsType:"Loaded"}):3===this.state.tripsType&&this.setState({tripsType:"Empty Container"})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){if(!0===(this.state.driverActive||this.state.locationActive)&&""!==this.state.driverId&&""!==this.state.endLocId){var e=this.state.driverId,t=this.state.endLocId;console.log(t,"End Location ID");var a=Object(c.a)({},this.state).tripsId;this.props.updateTrip(a,{driver:e,endLocId:t}),this.loader()}else this.setState({alert:!0,alertMessage:"Please Select Driver Name or End Location to proceed"})}},{key:"backToTable",value:function(){this.props.backToTrips()}},{key:"convert",value:function(e){return null!==e||""!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted,a=this.state,n=a.selectedDriverOption,l=a.selectedLocationOption;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Modify Trips"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripsId",label:"Trip ID",value:this.state.tripsId,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripsType",label:"Trip Type",value:this.state.tripsType,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trailerNumber",label:"Trailer No.",value:this.state.trailerNumber,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startLocation",label:"Start Location",value:this.state.startLocation,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startTime",label:"Start Time",value:this.convert(this.state.startTime),InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"endTime",label:"End Time",value:this.convert(this.state.endTime),InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"},"Driver Name"),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.driverName?"":this.state.driverName,classNamePrefix:"select",options:this.state.driverNames,value:n,onChange:this.handleDriverChange,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"},"End Location"),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.endLocationName?"":this.state.endLocationName,classNamePrefix:"select",value:l,onChange:this.handleLocationChange,options:this.state.locNames,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Only Driver Name and End Location Fields are Editable")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Save"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),dt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(ct),mt=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit},button:{margin:e.spacing.unit}}},{withTheme:!0})(je),ut=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],sendData:a.props.running,drivers:a.props.drivers,dList:a.props.drivers,locations:a.props.locations,lList:a.props.locations,page:0,rowsPerPage:5,hoverIdx:0,open:!1,selectedModal:"",message:"",status:"",submitted:!1,errMessage:""},a.modifyDetails=a.modifyDetails.bind(Object(R.a)(Object(R.a)(a))),a.updateModal=a.updateModal.bind(Object(R.a)(Object(R.a)(a))),a.closeTrip=a.closeTrip.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.handleClose=a.handleClose.bind(Object(R.a)(Object(R.a)(a))),a.updateTrip=a.updateTrip.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getRunningTripsData",value:function(){var e=this;ee.trips.get(null,null).then(function(t){var a=t.trips.filter(function(e){return"TRIP_IN_PROGRESS"===e.tripStatus});e.setState({rows:a,getApi:!0})}).catch(function(t){500===t.code&&(e.updateModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getRunningTripsData()}},{key:"updateTrip",value:function(e,t){var a=this;ee.tripUpdate.put("/"+e,t).then(function(e){console.log(e,"Running Update Data"),a.closeTrip(!0);var t=e.message;!0===e.success&&(a.updateModal(),a.setState({message:t,status:e.trips}))}).catch(function(e){500===e.code&&(a.updateModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"hoveredRow",value:function(e){this.setState({hoverIdx:e})}},{key:"modifyDetails",value:function(e){this.setState({open:!0,sendData:e,selectedModal:"update"})}},{key:"closeTrip",value:function(e){e&&this.getRunningTripsData(),this.setState({open:!1,selectedModal:""})}},{key:"updateModal",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"statusUpdated"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"backToTrips",value:function(){this.setState({open:!1})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"convert",value:function(e){return console.log(e,"date"),null!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null===e?null:void 0}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,{key:n},r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,a.tripNo),r.a.createElement(F.C,null,1===a.tripType?"Empty":2===a.tripType?"Loaded":"Empty Container"),r.a.createElement(F.C,null,a.startLocationName),r.a.createElement(F.C,null,a.endLocationName),r.a.createElement(F.C,null,e.convert(a.startDate)),r.a.createElement(F.C,null,e.convert(a.endDate)),r.a.createElement(F.C,null,e.convert(a.actStartTime)),r.a.createElement(F.C,null,a.driverName),r.a.createElement(F.C,null,a.trailerNo),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.c,{type:"submit",color:"secondary",variant:"outlined",classes:{root:t.button,label:t.label},onClick:function(){e.modifyDetails(a)}},"Modify"))))})}},{key:"renderModalContent",value:function(){return"update"===this.state.selectedModal?r.a.createElement(dt,{updateTrip:this.updateTrip,backToTrips:this.backToTrips.bind(this),tabSelection:this.state.tabSelection,submitted:this.state.submitted,sendData:this.state.sendData,dList:this.state.dList,lList:this.state.lList}):"statusUpdated"===this.state.selectedModal?r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Tick Mark",className:"img-fluied d-flex justify-content-center tick"}),this.state.message," Running Trip Details ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rows,l=a.rowsPerPage,s=a.page;return r.a.createElement(F.w,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(F.A,{className:t.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Trip No."),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Start Location"),r.a.createElement(F.C,null,"End Location"),r.a.createElement(F.C,null,"Est. Start Date Time"),r.a.createElement(F.C,null,"Est. End Date Time"),r.a.createElement(F.C,null,"Act. Start Date Time"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No."),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:t.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:l,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:mt}))))),r.a.createElement(F.e,{open:this.state.open,onClose:function(){return e.closeModal(!1)},"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),ht=Object(B.withStyles)(Me)(ut),pt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleDriverChange=function(e){null!==e&&(a.setState({selectedDriverOption:e}),a.setState({driverId:e.systemUserId,driverActive:!0}))},a.handleStartLocationChange=function(e){null!==e&&(a.setState({selectedFromLocationOption:e}),a.setState({startLocId:e.locId,startLocationActive:!0}))},a.handleEndLocationChange=function(e){null!==e&&(a.setState({selectedToLocationOption:e}),a.setState({endLocId:e.locId,endLocationActive:!0}))},a.state={tripsId:a.props.sendData.tripNo,tripsType:a.props.sendData.tripType,trailerNumber:a.props.sendData.trailerNo,startLocationName:a.props.sendData.startLocationName,startTime:a.props.sendData.startDate,endTime:a.props.sendData.endDate,driverName:a.props.sendData.driverName,endLocationName:a.props.sendData.endLocationName,driverId:"",startLocId:"",endLocId:"",selectedDriverName:a.props.sendData.driverName,selectedEndLocation:a.props.sendData.endLocationName,driverNames:a.props.dList,locNames:a.props.lList,submitted:a.props.submitted,selectedDriverOption:"",selectedFromLocationOption:null,selectedToLocationOption:null,driverActive:!1,startLocationActive:!1,endLocationActive:!1,alert:!1,alertMessage:""},a.handleDriverChange=a.handleDriverChange.bind(Object(R.a)(Object(R.a)(a))),a.handleStartLocationChange=a.handleStartLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.handleEndLocationChange=a.handleEndLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"updateDriverSid",value:function(e,t){var a=e.filter(function(e){return e.name===t});if(console.log(a,"PRINT DATA"),1===a.length)return a[0].systemUserId}},{key:"updateLocId",value:function(e,t){var a=e.filter(function(e){return e.locName===t});if(1===a.length)return a[0].locId}},{key:"componentDidMount",value:function(){var e=this.updateDriverSid(this.state.driverNames,this.state.driverName);this.setState({driverId:e});var t=this.updateLocId(this.state.locNames,this.state.startLocationName);this.setState({startLocId:t});var a=this.updateLocId(this.state.locNames,this.state.endLocationName);this.setState({endLocId:a}),1===this.state.tripsType?this.setState({tripsType:"Empty"}):2===this.state.tripsType?this.setState({tripsType:"Loaded"}):3===this.state.tripsType&&this.setState({tripsType:"Empty Container"})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){if(!0===(this.state.driverActive||this.state.startLocationActive||this.state.endLocationActive)&&""!==this.state.driverId&&""!==this.state.startLocId&&""!==this.state.endLocId&&this.state.startLocId!==this.state.endLocId){var e=this.state.driverId,t=this.state.startLocId;console.log(t,"Start Location");var a=this.state.endLocId,n=Object(c.a)({},this.state).tripsId;this.props.updateTrip(n,{driver:e,startLocId:t,endLocId:a}),this.loader()}else this.state.startLocId===this.state.endLocId?this.setState({alert:!0,alertMessage:"Start Location and End Location should not be same"}):this.setState({alert:!0,alertMessage:"Please Select Driver Name, Start Location or End Location to proceed"})}},{key:"backToTable",value:function(){this.props.backToTrips()}},{key:"convert",value:function(e){return null!==e||""!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted,a=this.state,n=a.selectedDriverOption,l=a.selectedFromLocationOption,s=a.selectedToLocationOption;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"850px"}},r.a.createElement("h6",{className:"custom"},"Modify Trips"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripsId",label:"Trip ID",value:this.state.tripsId,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripsType",label:"Trip Type",value:this.state.tripsType,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trailerNumber",label:"Trailer No.",value:this.state.trailerNumber,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startTime",label:"Start Time",value:this.convert(this.state.startTime),InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"endTime",label:"End Time",value:this.convert(this.state.endTime),InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",null,r.a.createElement("label",{className:"calendarLable"},"Driver Name"),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.driverName?"":this.state.driverName,classNamePrefix:"select",value:n,onChange:this.handleDriverChange,options:this.state.driverNames,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"},"From Location"),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.startLocationName?"":this.state.startLocationName,classNamePrefix:"select",value:l,onChange:this.handleStartLocationChange,options:this.state.locNames,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"},"End Location"),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.endLocationName?"":this.state.endLocationName,classNamePrefix:"select",value:s,onChange:this.handleEndLocationChange,options:this.state.locNames,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Only Driver Name, From Location and End Location Fields are Editable")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Save"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),gt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(pt),ft=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),vt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],sendData:a.props.scheduled,drivers:a.props.drivers,dList:a.props.drivers,locations:a.props.locations,lList:a.props.locations,page:0,rowsPerPage:5,open:!1,selectedModal:"",message:"",status:"",submitted:!1,errMessage:""},a.modifyDetails=a.modifyDetails.bind(Object(R.a)(Object(R.a)(a))),a.updateModal=a.updateModal.bind(Object(R.a)(Object(R.a)(a))),a.closeTrip=a.closeTrip.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.handleClose=a.handleClose.bind(Object(R.a)(Object(R.a)(a))),a.updateTrip=a.updateTrip.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getScheduledTripsData",value:function(){var e=this;ee.scheduledTrips.get(null,null).then(function(t){var a=t.trips.filter(function(e){return"TRIP_SCHEDULED"===e.tripStatus});e.setState({rows:a,getApi:!0})}).catch(function(t){500===t.code&&(e.updateModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getScheduledTripsData()}},{key:"updateTrip",value:function(e,t){var a=this;ee.tripUpdate.put("/"+e,t).then(function(e){console.log(e,"Scheduled Update Data"),a.closeTrip(!0);var t=e.message;!0===e.success&&(a.updateModal(),a.setState({message:t,status:e.trips}))}).catch(function(e){500===e.code&&(a.updateModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"modifyDetails",value:function(e){this.setState({open:!0,sendData:e,selectedModal:"update"})}},{key:"closeTrip",value:function(e){e&&this.getScheduledTripsData(),this.setState({open:!1,selectedModal:""})}},{key:"updateModal",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"statusUpdated"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"backToTrips",value:function(){this.setState({open:!1})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"convert",value:function(e){return console.log(e,"date"),null!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null===e?null:void 0}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,{key:n},r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,a.tripNo),r.a.createElement(F.C,null,1===a.tripType?"Empty":2===a.tripType?"Loaded":"Empty Container"),r.a.createElement(F.C,null,a.startLocationName),r.a.createElement(F.C,null,a.endLocationName),r.a.createElement(F.C,null,e.convert(a.startDate)),r.a.createElement(F.C,null,e.convert(a.endDate)),r.a.createElement(F.C,null,a.driverName),r.a.createElement(F.C,null,a.trailerNo),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.c,{type:"submit",color:"secondary",variant:"outlined",classes:{root:t.button,label:t.label},onClick:function(){e.modifyDetails(a)}},"Modify"))))})}},{key:"renderModalContent",value:function(){return"update"===this.state.selectedModal?r.a.createElement(gt,{backToTrips:this.backToTrips.bind(this),tabSelection:this.state.tabSelection,sendData:this.state.sendData,submitted:this.state.submitted,dList:this.state.dList,lList:this.state.lList,updateTrip:this.updateTrip}):"statusUpdated"===this.state.selectedModal?r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Tick Mark",className:"img-fluied d-flex justify-content-center tick"}),this.state.message," Scheduled Trip Details ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rows,l=a.rowsPerPage,s=a.page;return r.a.createElement(F.w,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(F.A,{className:t.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Trip No."),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Start Location"),r.a.createElement(F.C,null,"End Location"),r.a.createElement(F.C,null,"Est. Start Date Time"),r.a.createElement(F.C,null,"Est. End Date Time"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No."),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:t.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:l,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ft}))))),r.a.createElement(F.e,{open:this.state.open,onClose:function(){return e.closeModal(!1)},"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),bt=Object(B.withStyles)(Me)(vt),Et=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.onInputChangeType=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value)),a.check(e.target.value)},a.handleTrailerChange=function(e){null!==e&&(a.setState({selectedTrailerOption:e}),a.setState({trailerNo:e.label,trailerActive:!0}))},a.handleDriverChange=function(e){if(null!==e){a.setState({selectedDriverOption:e}),a.setState({driverId:e.systemUserId});var t={id:e.systemUserId};a.getTrailerBySysId(t)}},a.handleStartLocationChange=function(e){null!==e&&(a.setState({selectedStartLocationOption:e}),a.setState({startLoc:e.locName}),a.setState({startLocId:e.locId}),a.setState({startLocLatLong:e.latLong}))},a.handleEndLocationChange=function(e){null!==e&&(a.setState({selectedEndLocationOption:e}),a.setState({endLoc:e.locName}),a.setState({endLocId:e.locId}),a.setState({endLocLatLong:e.latLong}))},a.handleDateChangeFrom=function(e){if(e){var t=de()(e);a.setState({dateSelectFrom:e,expStartTime:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e);a.setState({dateSelectTo:e,expEndTime:t})}},a.state={contNo:"",tripType:"",contType:"",dateSelectFrom:null,expStartTime:"",dateSelectTo:null,expEndTime:"",trailers:a.props.trailers,selectedTrailerOption:"",drivers:a.props.drivers,selectedDriverName:"",driverId:"",locations:a.props.locations,startLoc:"",startLocId:"",startLocLatLong:"",endLoc:"",endLocId:"",endLocLatLong:"",trailerNo:"",submitted:a.props.submitted,alert:!1,alertMessage:"",switch:!1,loading:!1};var n=Object(c.a)({},a.state),l=n.trailerNo,r=n.loading;return a.initialState={trailerNo:l,loading:r},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onInputChangeType=a.onInputChangeType.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.handleTrailerChange=a.handleTrailerChange.bind(Object(R.a)(Object(R.a)(a))),a.handleDriverChange=a.handleDriverChange.bind(Object(R.a)(Object(R.a)(a))),a.handleStartLocationChange=a.handleStartLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.handleEndLocationChange=a.handleEndLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.resetTrailer=a.resetTrailer.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"check",value:function(e){1===e?this.setState({switch:!0,contType:0}):this.setState({switch:!1,contType:""})}},{key:"resetTrailer",value:function(){this.setState(this.initialState)}},{key:"getTrailerBySysId",value:function(e){var t=this;this.setState({loading:!0}),ee.trailerBySysid.post(null,e).then(function(e){t.resetTrailer(),console.log(e.trailers.length,"RES TRAILER LEN");var a=e.trailers[0].trailerNo;t.setState({trailerNo:a})}).catch(function(e){return console.log(e)})}},{key:"calculateDaysLeft",value:function(e,t){return de.a.isMoment(e)||(e=de()(e)),de.a.isMoment(t)||(t=de()(t)),t.diff(e,"days")}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){var e=Object(c.a)({},this.state),t=e.contNo,a=e.tripType,n=e.contType,l=e.startLoc,r=e.endLoc,s=e.startLocId,i=e.endLocId,o=e.expStartTime,d=e.expEndTime,m=e.driverId,u=e.trailerNo,h=e.startLocLatLong,p=e.endLocLatLong,g=this.state.startLoc,f=this.state.endLoc;""!==(a&&n&&l&&r&&o&&d&&m)&&""!==u&&l!==r?(this.loader(),l=h,r=p,this.props.createScheduleTrip({contNo:t,tripType:a,contType:n,startLoc:l,startLocName:g,endLocName:f,startLocId:s,endLocId:i,endLoc:r,expStartTime:o,expEndTime:d,driverId:m,trailerNo:u})):""===(a&&this.state.contType&&l&&r&&o&&d&&m)?this.setState({alert:!0,alertMessage:"Trip Type, Container Type, Start & End Location, Est. Start Time & End Time & Driver Name are Required"}):""===(a&&l&&r&&o&&d&&m)?this.setState({alert:!0}):""!==(l&&r)&&l===r?this.setState({alert:!0,alertMessage:"Start Location & End Location should not Match"}):""===u&&this.setState({alert:!0,alertMessage:"Trailer No. should not be Empty !"})}},{key:"backToTable",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.submitted,n=t.dateSelectFrom,l=t.dateSelectTo,s=(t.selectedTrailerOption,t.selectedDriverOption),i=t.selectedStartLocationOption,o=t.selectedEndLocationOption,c=t.loading;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Create Trip"),r.a.createElement("div",{className:"container pl-4 pr-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(F.j,{className:e.formControl},r.a.createElement(F.o,{htmlFor:"trType"},"Trip Type"),r.a.createElement(F.y,{value:this.state.tripType,onChange:this.onInputChangeType,inputProps:{name:"tripType",id:"trType"}},r.a.createElement(F.u,{value:1},"Empty"),r.a.createElement(F.u,{value:2},"Loaded"),r.a.createElement(F.u,{value:3},"Empty Container")))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(F.j,{className:e.formControl},r.a.createElement(F.o,{htmlFor:"conType"},"Container Type"),r.a.createElement(F.y,{value:this.state.contType,onChange:this.onInputChange,disabled:this.state.switch,inputProps:{name:"contType",id:"conType"}},r.a.createElement(F.u,{value:20},"20 Feet"),r.a.createElement(F.u,{value:40},"40 Feet")))))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"}),r.a.createElement(Xe.a,{defaultInputValue:"",classNamePrefix:"select",value:i,onChange:this.handleStartLocationChange,options:this.state.locations,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0,placeholder:"Start Location"})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"}),r.a.createElement(Xe.a,{defaultInputValue:"",classNamePrefix:"select",value:o,onChange:this.handleEndLocationChange,options:this.state.locations,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0,placeholder:"End Location"})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.b,{keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,margin:"normal",label:"Est. Start Date Time",maxDate:l,minDateMessage:!0,value:n,onChange:this.handleDateChangeFrom}))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.b,{keyboard:!0,fullWidth:!0,clearable:!0,margin:"normal",label:"Est. End Date Time",minDate:n,maxDateMessage:!0,value:l,onChange:this.handleDateChangeTo}))))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"}),r.a.createElement(Xe.a,{defaultInputValue:"",classNamePrefix:"select",value:s,onChange:this.handleDriverChange,options:this.state.drivers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0,placeholder:"Driver Name"})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trailerNumber",label:"Trailer No.",value:c?"please wait...":this.state.trailerNo,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-3"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-2 pb-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),yt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%",marginTop:2*e.spacing.unit},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(Et),Ct=a(31),St=a.n(Ct),Nt=a(55),Tt=a.n(Nt),kt=a(13),Dt=a(56),Ot=(a(80),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={loading:!0},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.state.loading;return r.a.createElement(te.PulseSpinner,{size:15,color:"#14A474",loading:e})}}]),t}(r.a.Component)),jt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:a.props.getApi,rows:a.props.rows,total:a.props.total,reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getManagerTrips",value:function(){this.setState(this.createState(0,this.state.pageNo))}},{key:"componentWillMount",value:function(){this.getManagerTrips()}},{key:"trailerNo",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.trailerNo();""!==e.target.value?(a=a.filter(function(t){if(null!==t.trailerNo)return-1!==t.trailerNo.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.managerTrips.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.trips,"Get Date Range"),a.setState({items:e.trips,reItems:e.trips,filter:!0,total:e.trips.length,pageNo:e.trips.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Trailer No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"tripNo",title:"Trip No.",width:"100"}),r.a.createElement(kt.b,{field:"tripType",title:"Trip Type",width:"120"}),r.a.createElement(kt.b,{field:"startLocationName",title:"Start Location"}),r.a.createElement(kt.b,{field:"endLocationName",title:"End Location"}),r.a.createElement(kt.b,{field:"startDate",title:"Est. Start Date Time"}),r.a.createElement(kt.b,{field:"endDate",title:"Est. End Date Time"}),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No."}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Mt=Object(B.withStyles)(Me)(jt),xt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={trips:rt,tabSelection:"Completed",rows:[],scheduleTrips:[],trailers:[],drivers:[],locations:[],open:!1,submitted:!1,message:"",errMessage:"",viewRows:[],getApi:!1,getRowsApi:!1,total:0},a.createModal=a.createModal.bind(Object(R.a)(Object(R.a)(a))),a.viewModal=a.viewModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.createScheduleTrip=a.createScheduleTrip.bind(Object(R.a)(Object(R.a)(a))),a.closeTrip=a.closeTrip.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrailersList",value:function(){var e=this;ee.trailersReport.get(null,null).then(function(t){console.log(t.trailers,"Trailers List");var a=t.trailers.map(function(e){return e.label});console.log(a,"No's of Trailers..........."),e.setState({trailers:t.trailers}),console.log("Trailer No's",e.state.trailers)}).catch(function(e){return console.log(e)})}},{key:"getTripsData",value:function(){var e,t=this;ee.trips.get(null,null).then(function(a){e=a.trips,console.log(e,"Trips Data"),t.setState({rows:e,getRowsApi:!0})}).catch(function(e){return console.log(e)})}},{key:"getDriversList",value:function(){var e=this;ee.driversList.get(null,null).then(function(t){console.log(t,"Drivers List");var a=t.map(function(e){return e.name});console.log(a,"Names of Drivers..........."),e.setState({drivers:t})}).catch(function(e){return console.log(e)})}},{key:"getEndLocList",value:function(){var e=this;ee.endLocList.get(null,null).then(function(t){console.log(t.locations,"Locations List");var a=t.locations,n=a.map(function(e){return e.locName});console.log(n,"Names of Locations..........."),e.setState({locations:a})}).catch(function(e){return console.log(e)})}},{key:"getManagerTrips",value:function(){var e=this;ee.managerTrips.get(null,null).then(function(t){console.log(t.trips,"Get Manager Trips"),e.setState({viewRows:t.trips,getApi:!0,total:t.trips.length})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getTrailersList(),this.getTripsData(),this.getDriversList(),this.getEndLocList(),this.getManagerTrips()}},{key:"createScheduleTrip",value:function(e){var t=this;console.log(e,"Print Data"),ee.scheduleCreateTrip.post(null,e).then(function(e){console.log(e,"Response"),t.closeTrip(!0);var a=e.message;!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"closeTrip",value:function(e){e&&this.getTripsData(),this.setState({open:!1,selectedModal:""})}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"selectedTab",value:function(e){this.setState({tabSelection:e})}},{key:"createModal",value:function(){this.setState({open:!0,selectedModal:"create"})}},{key:"viewModal",value:function(){this.setState({open:!0,selectedModal:"view"})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"renderApprovals",value:function(){var e=null;switch(this.state.tabSelection){case"Completed":e=r.a.createElement(ot,{rows:this.state.rows,getApi:this.state.getRowsApi});break;case"Running":e=r.a.createElement(ht,{rows:this.state.rows,getApi:this.state.getRowsApi,drivers:this.state.drivers,locations:this.state.locations});break;case"Scheduled":e=r.a.createElement(bt,{rows:this.state.rows,getApi:this.state.getRowsApi,drivers:this.state.drivers,locations:this.state.locations})}return e}},{key:"renderModalContent",value:function(){return"create"===this.state.selectedModal?r.a.createElement(yt,{closeModal:this.closeModal,createScheduleTrip:this.createScheduleTrip,trailers:this.state.trailers,drivers:this.state.drivers,locations:this.state.locations,submitted:this.state.submitted}):"view"===this.state.selectedModal?this.state.getApi?r.a.createElement(Mt,{getManagerTrips:this.getManagerTrips,closeModal:this.closeModal,createScheduleTrip:this.createScheduleTrip,rows:this.state.viewRows,getApi:this.state.getApi,total:this.state.total}):r.a.createElement(he,null):"message"===this.state.selectedModal?r.a.createElement(F.g,{id:"alert-dialog-description",style:{padding:"24px"}},""!==this.state.message?r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.tabSelection;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard createButton"},"Menu / Trips",r.a.createElement("span",{className:"float-right"},r.a.createElement(F.c,{color:"secondary",variant:"outlined",classes:{root:t.mainButton,label:t.label},onClick:this.viewModal},"View Trips"),"Scheduled"===a?r.a.createElement(F.c,{color:"primary",variant:"contained",classes:{root:t.mainButton,label:t.label},onClick:this.createModal},"Create Trip"):null)),r.a.createElement("div",{className:"row tablePad"},this.state.trips.map(function(t,a){return e.state.tabSelection===t.title?r.a.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4 text-white "+t.selectedMenu,onClick:e.selectedTab.bind(e,t.title)},t.title):r.a.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4 tabDesign ",onClick:e.selectedTab.bind(e,t.title)},t.title)}),this.renderApprovals()),r.a.createElement(F.e,{maxWidth:"lg",open:this.state.open,onClose:this.closeModal,"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},r.a.createElement(F.f,{style:{padding:0}},this.renderModalContent())))}}]),t}(l.Component),It=Object(B.withStyles)(Me)(xt),wt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={title:"",body:"",submitted:a.props.submitted},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"onInputChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,l=a.name;this.setState(Object(h.a)({},l,n),function(){t.validateField(l,n)})}},{key:"validateField",value:function(e,t){switch(e){case"title":this.setState({titleValid:t.length>0},this.validateForm);break;case"message":this.setState({messageValid:t.length>0},this.validateForm)}}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){this.loader(),this.props.createMessage(this.state)}},{key:"backToTable",value:function(){this.props.backToCommunication()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.submitted;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"350px"}},r.a.createElement("h6",{className:"custom"},"Create Message"),r.a.createElement("div",{className:"container pr-4 pl-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"title",label:"Title",value:this.state.title,onChange:this.onInputChange,validators:["required"],errorMessages:["Title is required"]}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"body",label:"Message",value:this.state.body,onChange:this.onInputChange,validators:["required"],errorMessages:["Message is required"]}),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-2 msgPad"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:t.button,label:t.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.button,label:t.cancelLabel},onClick:function(){return e.props.closeModal(!1)}},"Cancel"))))))}}]),t}(l.Component),Lt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"}}})(wt),Pt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChecked=function(e){a.setState({selectedValue:e.target.value})},a.handleChangeSelect=function(e){a.setState({driverNames:e}),console.log("Selected Drivers:",e)},a.state={messages:"",drivers:"",title:"",driverNames:"",selectedValue:"",submitted:a.props.submitted,alert:!1,alertMessage:""},a.handleChecked=a.handleChecked.bind(Object(R.a)(Object(R.a)(a))),a.handleChangeSelect=a.handleChangeSelect.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.selectedRow,t=this.props.drivers,a=e.cfs_msg_con_title;this.setState({messages:e,drivers:t,title:a})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){var e=this.state.title;if("All"===this.state.selectedValue){var t=[];this.state.drivers.length>0&&(this.state.drivers.forEach(function(e){console.log(e,"Objects of Drivers............"),t.push(e.name)}),this.loader()),console.log(t,"-----------Drivers list-----------"),this.props.sendMessage({title:e,driverNames:t})}else if("Choose Drivers Name"===this.state.selectedValue){var a=[];this.state.driverNames.length>0&&(this.state.driverNames.forEach(function(e){console.log(e,"Objects of Drivers............"),a.push(e.name)}),this.loader()),console.log(a,"-----------Drivers list-----------"),0!==a.length?this.props.sendMessage({title:e,driverNames:a}):this.setState({alert:!0,alertMessage:"Please Select Driver's to Proceed"})}else this.setState({alert:!0,alertMessage:"Please Select Option to Proceed"})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.submitted,n=this.state.drivers;return r.a.createElement(F.w,{style:{width:"550px",height:"auto"}},r.a.createElement("h6",{className:"custom"},"Send Message"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement(F.x,{checked:"All"===this.state.selectedValue,onChange:this.handleChecked,value:"All",name:"radio-button-demo",classes:{root:t.root}}),r.a.createElement("label",null,"All Driver's"),r.a.createElement("br",null),r.a.createElement(F.x,{checked:"Choose Drivers Name"===this.state.selectedValue,onChange:this.handleChecked,value:"Choose Drivers Name",name:"radio-button-demo",classes:{root:t.root}}),r.a.createElement("label",null,"Choose Driver's"),"Choose Drivers Name"===this.state.selectedValue?r.a.createElement(Xe.a,{isMulti:!0,closeMenuOnSelect:!1,components:$e()(),name:"driverNames",className:"basic-multi-select",classNamePrefix:"select",options:n,value:this.state.driverNames,onChange:this.handleChangeSelect,placeholder:"Select Driver Names"}):null,r.a.createElement("div",{className:"d-flex justify-content-start pt-3"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Please Select One Option")),r.a.createElement("div",{className:"d-flex justify-content-center pt-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:t.button,label:t.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.button,label:t.cancelLabel},onClick:function(){return e.props.closeModal(!1)}},"Cancel")))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),At=Object(B.withStyles)(function(e){return{root:{color:"#332c6fba",padding:"12px 12px 12px 0 !important"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"}}})(Pt),Rt=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),Ft=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],page:0,rowsPerPage:5,selectedModal:"",selectedRow:{},drivers:[],open:!1,message:"",submitted:!1,errMessage:""},a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.createMessage=a.createMessage.bind(Object(R.a)(Object(R.a)(a))),a.sendMessage=a.sendMessage.bind(Object(R.a)(Object(R.a)(a))),a.sendModal=a.sendModal.bind(Object(R.a)(Object(R.a)(a))),a.msgUpdated=a.msgUpdated.bind(Object(R.a)(Object(R.a)(a))),a.closeMessage=a.closeMessage.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getMessages",value:function(){var e=this;ee.messages.get(null,null).then(function(t){console.log(t,"Messages Response"),console.log(t.msg,"Get Message"),e.setState({rows:t.msg,getApi:!0})}).catch(function(t){500===t.code&&(e.msgUpdated(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"createMessage",value:function(e){var t=this;ee.messageCreate.post(null,e).then(function(e){console.log(e,"Response"),t.closeMessage(!0);var a=e.message;!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getMessages()}},{key:"sendMessage",value:function(e){var t=this;ee.messageSend.post(null,e).then(function(e){console.log(e,"Response*******"),t.closeModal();var a=e.message;console.log(a,"Sent Message +++++++++"),!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"getDrivers",value:function(){var e=this;ee.driversList.get(null,null).then(function(t){console.log(t,"Drivers List");var a=t.map(function(e){return e.name});console.log(a,"Names of Drivers..........."),e.setState({drivers:t})}).catch(function(t){500===t.code&&(e.msgUpdated(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getMessages(),this.getDrivers()}},{key:"openModal",value:function(){this.setState({open:!0,selectedModal:"create"})}},{key:"sendModal",value:function(e){this.setState({selectedModal:"send",selectedRow:e,open:!0})}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"closeMessage",value:function(e){e&&this.getMessages(),this.setState({open:!1,selectedModal:""})}},{key:"renderModalContent",value:function(){return"create"===this.state.selectedModal?r.a.createElement(Lt,{createMessage:this.createMessage,closeModal:this.closeModal,submitted:this.state.submitted}):"send"===this.state.selectedModal?r.a.createElement(At,{sendMessage:this.sendMessage,selectedRow:this.state.selectedRow,drivers:this.state.drivers,closeModal:this.closeModal,submitted:this.state.submitted}):"message"===this.state.selectedModal?r.a.createElement(F.g,{id:"alert-dialog-description",style:{padding:"24px"}},""!==this.state.message?r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,a.cfs_msg_con_title),r.a.createElement(F.C,null,a.cfs_msg_con_body),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(F.c,{color:"secondary",variant:"outlined",classes:{root:t.button,label:t.label},onClick:function(){e.sendModal(a)}},"Send"))))})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rows,l=a.rowsPerPage,s=a.page;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Communication"),r.a.createElement(F.w,{className:t.root},r.a.createElement(F.H,{className:t.toolBar},r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.c,{color:"primary",variant:"contained",classes:{root:t.mainButton,label:t.label},onClick:this.openModal},"Create Message")))),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(F.A,{className:t.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Title"),r.a.createElement(F.C,null,"Message"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:t.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:l,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Rt})))))),r.a.createElement(F.e,{open:this.state.open,onClose:function(){return e.closeModal(!1)},"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},r.a.createElement(F.f,{style:{padding:0}},this.renderModalContent())))}}]),t}(l.Component),Vt=Object(B.withStyles)(Me)(Ft),Ut=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={fuelInfo:[],trailerNumber:"",lastFill:"",travelInKm:"",fuelIssued:"",requestFuel:"",submitted:!1,open:!1,status:"",message:"",errMessage:"",alert:!1,alertMessage:""};var n=Object(c.a)({},a.state),l=n.trailerNumber,r=n.lastFill,s=n.travelInKm,i=n.fuelIssued,o=n.requestFuel;return a.initialState={trailerNumber:l,lastFill:r,travelInKm:s,fuelIssued:i,requestFuel:o},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getFuel",value:function(){var e=this;ee.fuel.get(null,null).then(function(t){console.log(t.requests,"Get Fuel"),e.setState({fuelInfo:t.requests})}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getFuel()}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.state.fuelInfo.find(function(t){return t.trailerNo===e.target.value});void 0!==t?this.setState({status:t.trailerNo,lastFill:t.lastIssuedDate,travelInKm:t.kmDone,fuelIssued:t.lastIssuedLitre}):this.setState({lastFill:"",travelInKm:"",fuelIssued:""})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"createFuel",value:function(e){var t=this;ee.fuelCreate.post(null,e).then(function(e){console.log(e,"Response");var a=e.message;!0===e.success&&(t.openModal(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"onSubmit",value:function(){var e=Object(c.a)({},this.state),t=e.trailerNumber,a=e.lastFill,n=e.travelInKm,l=e.fuelIssued,r=e.requestFuel;""!==(a&&n&&l)?(this.loader(),this.createFuel({trailerNo:t,kmsDone:n,lastIssuedDate:a,lastIssuedLitre:l,reqLitres:r})):this.setState({alert:!0,alertMessage:"Please Enter Valid Trailer No. !"})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Fuel"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"350px"}},r.a.createElement("h6",{className:"customHeader"},"Fuel"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"trailerNumber",label:"Trailer No.",value:this.state.trailerNumber,onChange:this.handleInputSearch,validators:["required"],errorMessages:["Trailer No. is required"]}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"lastFill",label:"Previous Issued Date",value:this.state.lastFill,InputProps:{classes:{underline:e.cssUnderline}}}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"travelInKm",label:"Previous Distance Travelled (Km)",value:this.state.travelInKm,InputProps:{classes:{underline:e.cssUnderline}}}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"fuelIssued",label:"Previous Fuel Issued (Ltr)",value:this.state.fuelIssued,InputProps:{classes:{underline:e.cssUnderline}}}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"requestFuel",label:"Issue Fuel (Ltr)",value:this.state.requestFuel,onChange:this.onInputChange,validators:["required","isNumber"],errorMessages:["Request Fuel is required"]}),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Trailer No. and Issue Fuel Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:e.button,label:e.label},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Submit"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),Wt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderline:{color:"#dc3545c9"}}})(Ut),_t=a(481),Bt=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleEmpChange=function(e){console.log(e,"Driver Name"),null!==e&&a.setState({selectedEmpOption:e,touch:!0,eCode:e.label,name:e.driverName})},a.handleDateChange=function(e){if(e){var t=de()(e),n=de()(e).format("YYYY-MM-DD"),l=de()(e).format("HH:mm:ss");console.log(n,":",l,"DATE & TIME"),a.setState({selectedDate:t,date:n,time:l})}},a.state={selectedDate:null,date:null,time:null,labelWidth:0,info:[],selectedEmpOption:"",eCode:"",name:"",shiftType:"M",message:"",eMessage:"",status:"",submitted:!1,errMessage:"",code:"",alert:!1,alertMessage:"",open:!1,touch:!1};var n=Object(c.a)({},a.state),l=n.eCode,r=n.selectedEmpOption,s=n.name,i=n.shiftType,o=n.selectedDate;return a.initialState={eCode:l,selectedEmpOption:r,name:s,shiftType:i,selectedDate:o},a.handleEmpChange=a.handleEmpChange.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChange=a.handleDateChange.bind(Object(R.a)(Object(R.a)(a))),a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getDrivers",value:function(){var e=this;ee.driversActive.get().then(function(t){console.log(t,"Users List");var a=t;e.setState({info:a})}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"createAttendanceDetails",value:function(e){var t=this;ee.createAttendance.post(null,e).then(function(e){console.log(e,"Response");var a=e.message;!0===e.success&&(t.openModal(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth}),this.getDrivers()}},{key:"onInputChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){var e=this.state,t=e.touch,a=e.eCode,n=e.name,l=e.shiftType,r=e.date,s=e.time;if(this.setState({status:this.state.eCode}),!0===t&&""!==(n&&l)&&r&&null!==s){var i=l;this.createAttendanceDetails({eCode:a,name:n,shift:i,date:r,time:s}),this.loader()}else this.setState({alert:!0,alertMessage:"All Details are Required"})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.selectedDate,l=a.selectedEmpOption,s=a.submitted;return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"350px"}},r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("label",{className:"calendarLable"},"Employee ID"),r.a.createElement(Xe.a,{classNamePrefix:"select",value:l,onChange:this.handleEmpChange,options:this.state.info,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"name",label:"Driver Name",value:this.state.name}),r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"user-type"}),r.a.createElement(F.y,{value:this.state.shiftType,onChange:this.onInputChange,input:r.a.createElement(F.v,{style:{height:"40px"},labelWidth:this.state.labelWidth,name:"shiftType",id:"user-type"})},r.a.createElement(F.u,{value:"M"},"Shift-1"),r.a.createElement(F.u,{value:"N"},"Shift-2"))),r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.b,{keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,disableFuture:!0,margin:"normal",label:"Date Time",minDateMessage:!0,value:n,onChange:this.handleDateChange})),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:t.button,label:t.label},disabled:s},s&&r.a.createElement(ae,null)||!s&&"Submit"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),Yt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderline:{color:"#dc3545c9"}}})(Bt),qt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleTrailerChange=function(e){null!==e&&(a.setState({selectedTrailerOption:e}),a.setState({trailerNumber:e.label,trailerActive:!0}))},a.handleDriverChange=function(e){null!==e&&(a.setState({selectedDriverOption:e}),a.setState({driverId:e.systemUserId,driverActive:!0}))},a.handleStartLocationChange=function(e){null!==e&&(a.setState({selectedFromLocationOption:e}),a.setState({startLocId:e.locId,startLocationActive:!0}))},a.handleEndLocationChange=function(e){null!==e&&(a.setState({selectedToLocationOption:e}),a.setState({endLocId:e.locId,endLocationActive:!0}))},a.state={tripsId:a.props.sendData.tripNo,tripsType:a.props.sendData.tripType,trailerNumber:a.props.sendData.trailerNo,startLocationName:a.props.sendData.startLocationName,startTime:a.props.sendData.startDate,endTime:a.props.sendData.endDate,trailers:a.props.trailers,selectedTrailerOption:"",driverName:a.props.sendData.driverName,endLocationName:a.props.sendData.endLocationName,driverId:"",startLocId:"",endLocId:"",selectedDriverName:a.props.sendData.driverName,selectedEndLocation:a.props.sendData.endLocationName,driverNames:a.props.dList,locNames:a.props.lList,submitted:a.props.submitted,selectedDriverOption:"",selectedFromLocationOption:null,selectedToLocationOption:null,driverActive:!1,trailerActive:!1,startLocationActive:!1,endLocationActive:!1,alert:!1,alertMessage:""},a.handleDriverChange=a.handleDriverChange.bind(Object(R.a)(Object(R.a)(a))),a.handleTrailerChange=a.handleTrailerChange.bind(Object(R.a)(Object(R.a)(a))),a.handleStartLocationChange=a.handleStartLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.handleEndLocationChange=a.handleEndLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"updateDriverSid",value:function(e,t){var a=e.filter(function(e){return e.name===t});if(console.log(a,"PRINT DATA"),1===a.length)return a[0].systemUserId}},{key:"updateLocId",value:function(e,t){var a=e.filter(function(e){return e.locName===t});if(1===a.length)return a[0].locId}},{key:"componentDidMount",value:function(){console.log(this.state.trailers,"Trailers List");var e=this.updateDriverSid(this.state.driverNames,this.state.driverName);this.setState({driverId:e});var t=this.updateLocId(this.state.locNames,this.state.startLocationName);this.setState({startLocId:t});var a=this.updateLocId(this.state.locNames,this.state.endLocationName);this.setState({endLocId:a}),1===this.state.tripsType?this.setState({tripsType:"Empty"}):2===this.state.tripsType?this.setState({tripsType:"Loaded"}):3===this.state.tripsType&&this.setState({tripsType:"Empty Container"})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){var e=this.state.trailerNumber;if(!0===(this.state.driverActive||this.state.trailerActive)&&""!==this.state.driverId){var t=this.state.driverId,a=this.state.startLocId;console.log(a,"Start Location");this.state.endLocId;var n=Object(c.a)({},this.state).tripsId;this.props.updateTrip(n,{driver:t,trailerNumber:e}),this.loader()}else this.setState({alert:!0,alertMessage:"Please Select Driver Name to proceed"})}},{key:"backToTable",value:function(){this.props.backToTrips()}},{key:"convert",value:function(e){return null!==e||""!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted,a=this.state,n=a.selectedDriverOption,l=a.selectedTrailerOption;a.selectedFromLocationOption,a.selectedToLocationOption;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"850px"}},r.a.createElement("h6",{className:"custom"},"Modify Trips"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,style:{textAlign:"left"}},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripsId",label:"Trip ID",value:this.state.tripsId,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripsType",label:"Trip Type",value:this.state.tripsType,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"},"Trailer No."),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.startLocationName?"":this.state.trailerNumber,classNamePrefix:"select",value:l,onChange:this.handleTrailerChange,options:this.state.trailers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startTime",label:"Start Time",value:this.convert(this.state.startTime),InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"endTime",label:"End Time",value:this.convert(this.state.endTime),InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startLoc",label:"From Location",value:this.state.startLocationName,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startLoc",label:"To Location",value:this.state.endLocationName,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",null,r.a.createElement("label",{className:"calendarLable"},"Driver Name"),r.a.createElement(Xe.a,{defaultInputValue:null===this.state.driverName?"":this.state.driverName,classNamePrefix:"select",value:n,onChange:this.handleDriverChange,options:this.state.driverNames,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Only Driver Name, From Location and End Location Fields are Editable")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Save"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),zt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(qt),Gt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.onInputChangeType=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value)),a.check(e.target.value)},a.handleTrailerChange=function(e){null!==e&&(a.setState({selectedTrailerOption:e}),a.setState({trailerNo:e.label}))},a.handleDriverChange=function(e){null!==e&&(a.setState({selectedDriverOption:e}),a.setState({driverId:e.systemUserId}))},a.handleStartLocationChange=function(e){null!==e&&(a.setState({selectedStartLocationOption:e}),a.setState({startLoc:e.locName}),a.setState({startLocId:e.locId}),a.setState({startLocLatLong:e.latLong}))},a.handleEndLocationChange=function(e){null!==e&&(a.setState({selectedEndLocationOption:e}),a.setState({endLoc:e.locName}),a.setState({endLocId:e.locId}),a.setState({endLocLatLong:e.latLong}))},a.handleDateChangeFrom=function(e){if(e){var t=de()(e);a.setState({dateSelectFrom:e,expStartTime:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e);a.setState({dateSelectTo:e,expEndTime:t})}},a.state={berthingDate:a.props.sendData.date,id:a.props.sendData.id,cycle:a.props.sendData.cycle,tripTyper:a.props.sendData.tripType,startLoc:a.props.sendData.startLoc,startLocId:"",startLocLatLong:"",endLoc:a.props.sendData.endLoc,endLocId:"",endLocLatLong:"",cont1:a.props.sendData.cont1,cont2:a.props.sendData.cont2,sizer:a.props.sendData.size,locations:a.props.locations,trailers:a.props.trailers,driverId:"",trailerNo:"",adminTripId:"",dateSelectFrom:null,expStartTime:"",dateSelectTo:null,expEndTime:"",drivers:a.props.drivers,selectedDriverName:"",submitted:a.props.submitted,alert:!1,alertMessage:"",selectedTrailerOption:"",switch:!1},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onInputChangeType=a.onInputChangeType.bind(Object(R.a)(Object(R.a)(a))),a.handleTrailerChange=a.handleTrailerChange.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.handleDriverChange=a.handleDriverChange.bind(Object(R.a)(Object(R.a)(a))),a.handleStartLocationChange=a.handleStartLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.handleEndLocationChange=a.handleEndLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"findLocData",value:function(e){if(this.state.locations!==[])return this.state.locations.find(function(t){return t.locName===e})}},{key:"componentDidMount",value:function(){var e=this.findLocData(this.state.startLoc),t=this.findLocData(this.state.endLoc);void 0!==(e&&t)&&this.setState({startLocId:e.locId,startLocLatLong:e.latLong,endLocId:t.locId,endLocLatLong:t.latLong})}},{key:"check",value:function(e){console.log(e,"Trip Type"),1===e?this.setState({switch:!0}):this.setState({switch:!1})}},{key:"calculateDaysLeft",value:function(e,t){return de.a.isMoment(e)||(e=de()(e)),de.a.isMoment(t)||(t=de()(t)),t.diff(e,"days")}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"tripConvert",value:function(e){return"Empty"===e?3:2}},{key:"sizeConvert",value:function(e){return e.slice(0,2)}},{key:"onSubmit",value:function(){var e=Object(c.a)({},this.state),t=e.adminTripId,a=e.cont1,n=e.cont2,l=e.tripTyper,r=e.startLoc,s=e.startLocId,i=e.startLocLatLong,o=e.endLoc,d=e.endLocId,m=e.endLocLatLong,u=e.expStartTime,h=e.expEndTime,p=e.driverId,g=e.trailerNo,f=e.id,v=e.cycle,b=e.sizer,E=e.berthingDate,y=this.tripConvert(l),C=this.sizeConvert(b);""!==(h&&h&&g&&p)?(this.loader(),this.props.createTrip({adminTripId:t,tripType:y,startLoc:r,startLocId:s,startLocLatLong:i,endLoc:o,endLocId:d,endLocLatLong:m,expStartTime:u,expEndTime:h,driverId:p,trailerNo:g,id:f,cycle:v,size:C,cont1:a,cont2:n,berthingDate:E})):this.setState({alert:!0,alertMessage:"Est. Start Time & End Time, Trailer No. & Driver Name are Required"})}},{key:"backToTable",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.submitted,n=t.selectedTrailerOption,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.selectedDriverOption;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Create Trip"),r.a.createElement("div",{className:"container pl-4 pr-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Trip Type",name:"tripType",value:this.state.tripTyper})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Size",name:"size",value:this.state.sizer})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Cycle",name:"cycle",value:this.state.cycle})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Start Location",name:"startLoc",value:this.state.startLoc})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"End Location",name:"endLoc",value:this.state.endLoc})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.b,{keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,margin:"normal",label:"Est. Start Date Time",maxDate:s,minDateMessage:!0,value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.b,{keyboard:!0,fullWidth:!0,clearable:!0,margin:"normal",label:"Est. End Date Time",minDate:l,maxDateMessage:!0,value:s,onChange:this.handleDateChangeTo}))))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Container 1",name:"cont1",value:this.state.cont1})),r.a.createElement(F.k,{item:!0,xs:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Container 2",name:"cont2",value:this.state.cont2})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"},"Trailer No."),r.a.createElement(Xe.a,{classNamePrefix:"select",value:n,onChange:this.handleTrailerChange,options:this.state.trailers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12},r.a.createElement("label",{className:"calendarLable"},"Driver Name"),r.a.createElement(Xe.a,{defaultInputValue:"",classNamePrefix:"select",value:i,onChange:this.handleDriverChange,options:this.state.drivers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-3"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-2 pb-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:e.button,label:e.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:e.button,label:e.cancelLabel},onClick:this.backToTable.bind(this)},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),Ht=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%",marginTop:2*e.spacing.unit},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(Gt),Kt=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),Jt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],sendData:a.props.scheduled,drivers:a.props.drivers,dList:a.props.drivers,locations:a.props.locations,lList:a.props.locations,trailers:[],page:0,rowsPerPage:5,open:!1,selectedModal:"",message:"",status:"",submitted:!1,errMessage:"",schedule:!0,pendency:!1},a.modifyDetails=a.modifyDetails.bind(Object(R.a)(Object(R.a)(a))),a.updateModal=a.updateModal.bind(Object(R.a)(Object(R.a)(a))),a.closeUpdatedTrip=a.closeUpdatedTrip.bind(Object(R.a)(Object(R.a)(a))),a.closeCreatedTrip=a.closeCreatedTrip.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.handleClose=a.handleClose.bind(Object(R.a)(Object(R.a)(a))),a.updateTrip=a.updateTrip.bind(Object(R.a)(Object(R.a)(a))),a.createTrip=a.createTrip.bind(Object(R.a)(Object(R.a)(a))),a.scheduleTrips=a.scheduleTrips.bind(Object(R.a)(Object(R.a)(a))),a.pendencyData=a.pendencyData.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrailersList",value:function(){var e=this;ee.trailersReport.get(null,null).then(function(t){console.log(t.trailers,"Trailers List");var a=t.trailers.map(function(e){return e.label});console.log(a,"No's of Trailers..........."),e.setState({trailers:t.trailers}),console.log("Trailer No's",e.state.trailers)}).catch(function(e){return console.log(e)})}},{key:"getScheduledTripsData",value:function(){var e=this;ee.scheduledTrips.get(null,null).then(function(t){var a=t.trips.filter(function(e){return"TRIP_SCHEDULED"===e.tripStatus});e.setState({rows:a,getApi:!0})}).catch(function(t){500===t.code&&(e.updateModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"getPendency",value:function(){var e=this;ee.pendencyData.get(null,null).then(function(t){console.log(t.pendency,"Pendency Data"),e.setState({rows:t.pendency,getApi:!0})}).catch(function(t){500===t.code&&(e.updateModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getScheduledTripsData(),this.getTrailersList()}},{key:"scheduleTrips",value:function(){this.setState({getApi:!1}),this.getScheduledTripsData(),this.setState({schedule:!0,pendency:!1})}},{key:"pendencyData",value:function(){this.setState({getApi:!1}),this.getPendency(),this.setState({pendency:!0,schedule:!1})}},{key:"updateTrip",value:function(e,t){var a=this;ee.pendencyUpdateTrip.put("/"+e,t).then(function(e){console.log(e,"Scheduled Update Data"),a.closeUpdatedTrip(!0);var t=e.message;!0===e.success&&(a.updateModal(),a.setState({message:t,status:e.trips}))}).catch(function(e){500===e.code&&(a.updateModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"createTrip",value:function(e){var t=this;console.log(e,"Print Data"),ee.pendencyCreateTrip.post(null,e).then(function(e){console.log(e,"Response"),t.closeCreatedTrip(!0);var a=e.message;!0===e.success&&(t.updateModal(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.updateModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"modifyDetails",value:function(e){this.setState({open:!0,sendData:e,selectedModal:"update"})}},{key:"createDetails",value:function(e){this.setState({open:!0,sendData:e,selectedModal:"create"})}},{key:"closeUpdatedTrip",value:function(e){e&&this.getScheduledTripsData(),this.setState({open:!1,selectedModal:""})}},{key:"closeCreatedTrip",value:function(e){e&&this.getPendency(),this.setState({open:!1,selectedModal:""})}},{key:"updateModal",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"statusUpdated"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"backToTrips",value:function(){this.setState({open:!1})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"convert",value:function(e){return console.log(e,"date"),null!==e?de()(e).format("DD/MM/YYYY h:mm:ss A"):null===e?null:void 0}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.rows,s=a.rowsPerPage,i=a.page;return!1===n?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===l.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):l.slice(i*s,i*s+s).map(function(a,n){return r.a.createElement(F.G,{key:n},!0===e.state.schedule?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,a.tripNo),r.a.createElement(F.C,null,1===a.tripType?"Empty":2===a.tripType?"Loaded":"Empty Container"),r.a.createElement(F.C,null,a.startLocationName),r.a.createElement(F.C,null,a.endLocationName),r.a.createElement(F.C,null,e.convert(a.startDate)),r.a.createElement(F.C,null,e.convert(a.endDate)),r.a.createElement(F.C,null,a.driverName),r.a.createElement(F.C,null,a.trailerNo),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.c,{type:"submit",color:"secondary",variant:"outlined",classes:{root:t.button,label:t.label},onClick:function(){e.modifyDetails(a)}},"Modify")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,e.convert(a.date)),r.a.createElement(F.C,null,a.cycle),r.a.createElement(F.C,null,a.tripType),r.a.createElement(F.C,null,a.startLoc),r.a.createElement(F.C,null,a.endLoc),r.a.createElement(F.C,null,a.cont1),r.a.createElement(F.C,null,a.cont2),r.a.createElement(F.C,null,a.size),r.a.createElement(F.C,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.c,{type:"submit",color:"secondary",variant:"outlined",classes:{root:t.button,label:t.label},onClick:function(){e.createDetails(a)}},"Assign")))))})}},{key:"renderModalContent",value:function(){return"update"===this.state.selectedModal?r.a.createElement(zt,{sendData:this.state.sendData,trailers:this.state.trailers,backToTrips:this.backToTrips.bind(this),tabSelection:this.state.tabSelection,submitted:this.state.submitted,dList:this.state.dList,lList:this.state.lList,updateTrip:this.updateTrip}):"create"===this.state.selectedModal?r.a.createElement(Ht,{sendData:this.state.sendData,trailers:this.state.trailers,backToTrips:this.backToTrips.bind(this),submitted:this.state.submitted,drivers:this.state.drivers,locations:this.state.locations,createTrip:this.createTrip,closeModal:this.closeModal}):"statusUpdated"===this.state.selectedModal?r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Tick Mark",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rows,l=a.rowsPerPage,s=a.page;return r.a.createElement(F.w,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement("span",{className:"float-right"},r.a.createElement(F.c,{color:!0===this.state.schedule?"primary":"secondary",variant:!0===this.state.schedule?"contained":"outlined",classes:{root:t.mainButton,label:t.label},onClick:this.scheduleTrips},"Scheduled"),r.a.createElement(F.c,{color:!0===this.state.pendency?"primary":"secondary",variant:!0===this.state.pendency?"contained":"outlined",classes:{root:t.mainButton,label:t.label},onClick:this.pendencyData},"Pendency")),r.a.createElement(F.A,{className:t.table},r.a.createElement(F.E,null,!0===this.state.schedule?r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Trip No."),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Start Location"),r.a.createElement(F.C,null,"End Location"),r.a.createElement(F.C,null,"Est. Start Date Time"),r.a.createElement(F.C,null,"Est. End Date Time"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No."),r.a.createElement(F.C,null,"Action")):r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Berthing Date"),r.a.createElement(F.C,null,"Cycle"),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Start Location"),r.a.createElement(F.C,null,"End Location"),r.a.createElement(F.C,null,"Container 1"),r.a.createElement(F.C,null,"Container 2"),r.a.createElement(F.C,null,"Size Type"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:t.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:l,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Kt}))))),r.a.createElement(F.e,{open:this.state.open,onClose:function(){return e.closeModal(!1)},"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),Qt=Object(B.withStyles)(Me)(Jt),Xt=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={vehNo:"",mobileNum:"",model:"",imei:"",os:"",remarks:"",info:{},trailerData:{},userId:"",vNo:"",vehMobNo:"",vehMobModel:"",mobOs:"",imeiNo:"",open:!1,submitted:!1,status:"",message:"",errMessage:"",code:""};var n=Object(c.a)({},a.state),l=n.vehNo,r=n.mobileNum,s=n.model,i=n.os,o=n.imei,d=n.remarks,m=n.vNo,u=n.vehMobNo,p=n.vehMobModel,g=n.mobOs,f=n.imeiNo;return a.initialState={vehNo:l,mobileNum:r,model:s,os:i,imei:o,remarks:d,vNo:m,vehMobNo:u,vehMobModel:p,mobOs:g,imeiNo:f},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.resetData=a.resetData.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getMobile",value:function(){var e=this;ee.adminConnectMobileGet.get(null,null).then(function(t){var a=t.tags;console.log(a,"+++++++++ Get Details +++++++++"),e.setState({info:a})}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getMobile()}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.state.info.find(function(t){return t.vehNo===e.target.value});void 0!==t?this.setState({trailerData:t,status:t.vehNo,vehMobNo:t.vehMobNo,vehMobModel:t.vehMobModel,mobOs:t.mobOs,imeiNo:t.imei}):this.setState({vehMobNo:"",vehMobModel:"",mobOs:"",imeiNo:""})}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"createMobile",value:function(e){var t=this;ee.adminConnectMobile.post(null,e).then(function(e){var a=e.message;201===e.status?(t.openModal(),t.setState({code:e.status,message:a})):400===e.status&&(t.openModal(),t.setState({code:e.status,message:e.error}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"updateMobile",value:function(e,t){var a=this;ee.adminConnectMobile.put("/"+e,t).then(function(e){var t=e.message;!0===e.success&&(a.openModal(),a.setState({message:t}))}).catch(function(e){500===e.code&&(a.openModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){this.loader();var e=this.state.trailerData.tagId,t=this.state.vNo,a=this.state.vehMobNo,n=this.state.remarks;this.updateMobile(e,{vehNo:t,mobileNum:a,remarks:n})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted;this.state.selectedValue;return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",null,r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vNo",label:"Trailer No.",value:this.state.vNo,onChange:this.handleInputSearch.bind(this),InputProps:{classes:{underline:e.cssUnderlineUpdate}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vehMobNo",label:"Mobile No.",value:this.state.vehMobNo,onChange:this.onInputChange,validators:["matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Enter Valid Mobile No."]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vehMobModel",label:"Device Name",value:this.state.vehMobModel,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"mobOs",label:"Operating System",value:this.state.mobOs,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"imeiNo",label:"IMEI No.",value:this.state.imeiNo,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"remarks",label:"Remarks",value:this.state.remarks,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Please Search for Trailer No. To Update Mobile No.")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:e.button,label:e.label},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Save")))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")))))}}]),t}(l.Component),Zt=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderlineUpdate:{color:"#14A474"},cssUnderline:{color:"#dc3545c9"}}})(Xt),$t=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={trips:_t,tabSelection:"Attendance",rows:[],scheduleTrips:[],drivers:[],locations:[],open:!1,submitted:!1,message:"",errMessage:"",viewRows:[],getApi:!1,getRowsApi:!1,total:0},a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.createScheduleTrip=a.createScheduleTrip.bind(Object(R.a)(Object(R.a)(a))),a.closeTrip=a.closeTrip.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTripsData",value:function(){var e,t=this;ee.trips.get(null,null).then(function(a){e=a.trips,console.log(e,"Trips Data"),t.setState({rows:e,getRowsApi:!0})}).catch(function(e){return console.log(e)})}},{key:"getDriversList",value:function(){var e=this;ee.activeDriversSysId.get(null,null).then(function(t){console.log(t,"Drivers List"),e.setState({drivers:t})}).catch(function(e){return console.log(e)})}},{key:"getEndLocList",value:function(){var e=this;ee.endLocList.get(null,null).then(function(t){console.log(t.locations,"Locations List");var a=t.locations,n=a.map(function(e){return e.locName});console.log(n,"Names of Locations..........."),e.setState({locations:a})}).catch(function(e){return console.log(e)})}},{key:"getManagerTrips",value:function(){var e=this;ee.managerTrips.get(null,null).then(function(t){console.log(t.trips,"Get Manager Trips"),e.setState({viewRows:t.trips,getApi:!0,total:t.trips.length})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getTripsData(),this.getDriversList(),this.getEndLocList(),this.getManagerTrips()}},{key:"createScheduleTrip",value:function(e){var t=this;console.log(e,"Print Data"),ee.scheduleCreateTrip.post(null,e).then(function(e){console.log(e,"Response"),t.closeTrip(!0);var a=e.message;!0===e.success&&(t.msgUpdated(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.msgUpdated(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"closeTrip",value:function(e){e&&this.getTripsData(),this.setState({open:!1,selectedModal:""})}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"selectedTab",value:function(e){this.setState({tabSelection:e})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"renderApprovals",value:function(){var e=null;switch(this.state.tabSelection){case"Attendance":e=r.a.createElement(Yt,null);break;case"Trips":e=r.a.createElement(Qt,{rows:this.state.rows,getApi:this.state.getRowsApi,drivers:this.state.drivers,locations:this.state.locations});break;case"Mobile":e=r.a.createElement(Zt,null)}return e}},{key:"renderModalContent",value:function(){return"message"===this.state.selectedModal?r.a.createElement(F.g,{id:"alert-dialog-description",style:{padding:"24px"}},""!==this.state.message?r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement("div",null,r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.tabSelection;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard createButton"},"Menu / Manual Update"),r.a.createElement("div",{className:"row tablePad"},this.state.trips.map(function(t,n){return a===t.title?r.a.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4 text-white "+t.selectedMenu,onClick:e.selectedTab.bind(e,t.title)},t.title):r.a.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4 tabDesign ",onClick:e.selectedTab.bind(e,t.title)},t.title)}),this.renderApprovals()),r.a.createElement(F.e,{maxWidth:"lg",open:this.state.open,onClose:this.closeModal,"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},r.a.createElement(F.f,{style:{padding:0}},this.renderModalContent())))}}]),t}(l.Component),ea=Object(B.withStyles)(Me)($t),ta=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),aa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],page:0,rowsPerPage:5,selectedModal:"",selectedRow:{},drivers:[],open:!1,message:"",submitted:!1,errMessage:""},a.msgUpdated=a.msgUpdated.bind(Object(R.a)(Object(R.a)(a))),a.handleClose=a.handleClose.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTransitList",value:function(){var e=this;ee.transitList.get(null,null).then(function(t){console.log(t.transitList,"Get Transit List"),e.setState({rows:t.transitList,getApi:!0})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getTransitList()}},{key:"msgUpdated",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"renderList",value:function(){this.props.classes;var e=this.state,t=e.getApi,a=e.rows,n=e.rowsPerPage,l=e.page;return!1===t?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===a.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):a.slice(l*n,l*n+n).map(function(e,t){return r.a.createElement(F.G,null,r.a.createElement(F.C,null,t+1),r.a.createElement(F.C,null,e.trip_no),r.a.createElement(F.C,null,e.driver_name),r.a.createElement(F.C,null,e.triler_no),r.a.createElement(F.C,null,e.trip_status),r.a.createElement(F.C,null,e.start_loc),r.a.createElement(F.C,null,e.end_loc),r.a.createElement(F.C,null,e.est_st_dt_ti),r.a.createElement(F.C,null,e.est_en_dt_ti),r.a.createElement(F.C,null,e.trip_issue))})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.rows,n=t.rowsPerPage,l=t.page;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Transit Incident"),r.a.createElement(F.w,{className:e.root},r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(F.A,{className:e.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Trip No"),r.a.createElement(F.C,null,"Driver Name"),r.a.createElement(F.C,null,"Trailer No"),r.a.createElement(F.C,null,"Trip Status"),r.a.createElement(F.C,null,"Start Location"),r.a.createElement(F.C,null,"End Location"),r.a.createElement(F.C,null,"Est. Start Date Time"),r.a.createElement(F.C,null,"Est. End Date Time"),r.a.createElement(F.C,null,"Trip Issue"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:e.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:a.length,rowsPerPage:n,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ta})))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"responsive-dialog-title",classes:{paper:e.dialogPaper}}))}}]),t}(l.Component),na=Object(B.withStyles)(Me)(aa),la=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,filter:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getDrivers",value:function(){var e=this;ee.driversReport.get(null,null).then(function(t){console.log(t.drivers,"Get Drivers"),e.setState({rows:t.drivers,getApi:!0,total:t.drivers.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getDrivers()}},{key:"driverNames",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));this.state.reItems;var t=this.driverNames();""!==e.target.value?(t=t.filter(function(t){if(null!==t.driverName)return-1!==t.driverName.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:t,filter:!0,total:t.length,pageNo:t.length})):(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=this.props.classes,s=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.w,{className:l.barRoot,elevation:1},r.a.createElement(F.l,{className:l.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:l.barInput,placeholder:"Search Driver Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:l.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:l.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name",width:"250"}),r.a.createElement(kt.b,{field:"eCode",title:"E-Code",width:"150"}),r.a.createElement(kt.b,{field:"contactNo",title:"Contact No.",width:"150"}),r.a.createElement(kt.b,{field:"fatherName",title:"Father Name",width:"200"}),r.a.createElement(kt.b,{field:"altContactNo",title:"Alternate Mobile No.",width:"180"}),r.a.createElement(kt.b,{field:"dob",title:"D.O.B",width:"150"}),r.a.createElement(kt.b,{field:"permanentAddress",title:"Permanent Address",width:"200"}),r.a.createElement(kt.b,{field:"currentAddress",title:"Current Address",width:"200"}),r.a.createElement(kt.b,{field:"dlNo",title:"DL No.",width:"200"}),r.a.createElement(kt.b,{field:"dlValidity",title:"DL Validity",width:"200"}),r.a.createElement(kt.b,{field:"doj",title:"D.O.J",width:"150"}),r.a.createElement(kt.b,{field:"pan",title:"PAN No.",width:"150"}),r.a.createElement(kt.b,{field:"aadhar",title:"Aadhar No.",width:"200"}),r.a.createElement(kt.b,{field:"accountDetails",title:"Bank Account Details",width:"200"}),r.a.createElement(kt.b,{field:"pf",title:"PF No.",width:"320"}),r.a.createElement(kt.b,{field:"esicNo",title:"ESIC No.",width:"250"}),r.a.createElement(kt.b,{field:"remarks",title:"Remarks",width:"150"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Master / Driver"),r.a.createElement(F.w,{className:St()(l.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},s)))}}]),t}(r.a.Component),ra=Object(B.withStyles)(Me)(la),sa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.state={getApi:!1,rows:[],total:[],pageNo:5,reItem:[],filter:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrailers",value:function(){var e=this;ee.trailersReport.get(null,null).then(function(t){console.log(t.trailers,"Get Trailers"),e.setState({rows:t.trailers,getApi:!0,total:t.trailers.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getTrailers()}},{key:"trailerNo",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.trailerNo();""!==e.target.value?(t=t.filter(function(t){if(null!==t.trailerNo)return-1!==t.trailerNo.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:t,filter:!0,total:t.length,pageNo:t.length})):(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=this.props.classes,s=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.w,{className:l.barRoot,elevation:1},r.a.createElement(F.l,{className:l.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:l.barInput,placeholder:"Search Trailer No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:l.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:l.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"150"}),r.a.createElement(kt.b,{field:"purchaseDate",title:"Date of Purchase",width:"150"}),r.a.createElement(kt.b,{field:"vehicleModel",title:"Vehicle Model",width:"150"}),r.a.createElement(kt.b,{field:"brand",title:"Vehicle Make",width:"150"}),r.a.createElement(kt.b,{field:"gvv",title:"GVW (Kg)",width:"120"}),r.a.createElement(kt.b,{field:"payLoadCap",title:"Payload Capacity (Kg)",width:"180"}),r.a.createElement(kt.b,{field:"length",title:"Length (ft)",width:"120"}),r.a.createElement(kt.b,{field:"width",title:"Width (ft)",width:"120"}),r.a.createElement(kt.b,{field:"height",title:"Height (ft)",width:"120"}),r.a.createElement(kt.b,{field:"tyres",title:"No. of Tyres (inc spare)",width:"200"}),r.a.createElement(kt.b,{field:"fuelCap",title:"Fuel Tank (Ltr)",width:"180"}),r.a.createElement(kt.b,{field:"rcNo",title:"RC.No",width:"200"}),r.a.createElement(kt.b,{field:"rcValidity",title:"RC Validity",width:"150"}),r.a.createElement(kt.b,{field:"insNo",title:"Insurance No.",width:"300"}),r.a.createElement(kt.b,{field:"insValidity",title:"Insurance Validity",width:"150"}),r.a.createElement(kt.b,{field:"pucValidity",title:"PUC Validity",width:"150"}),r.a.createElement(kt.b,{field:"fitnessCert",title:"Fitness Certificate",width:"150"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Master / Trailer"),r.a.createElement(F.w,{className:St()(l.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},s)))}}]),t}(r.a.Component),ia=Object(B.withStyles)(Me)(sa),oa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.state={getApi:!1,rows:[],total:[],pageNo:5,filter:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTripTypes",value:function(){var e=this;ee.tripsReport.get(null,null).then(function(t){console.log(t.trips,"Get Trips"),e.setState({rows:t.trips,getApi:!0,total:t.trips.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getTripTypes()}},{key:"tripType",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.tripType();""!==e.target.value?(t=t.filter(function(t){if(t.startLoc&&null!==t.endLoc)return-1!==t.startLoc.toLowerCase().search(e.target.value.toLowerCase())||-1!==t.endLoc.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:t,filter:!0,total:t.length,pageNo:t.length})):(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=this.props.classes,s=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.w,{className:l.tripBarRoot,elevation:1},r.a.createElement(F.l,{className:l.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:l.barInput,placeholder:"Search From Location & To Location",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:l.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:l.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))),r.a.createElement(kt.b,{field:"tripId",title:"Trip Id",width:"100"}),r.a.createElement(kt.b,{field:"tripTypeId",title:"Trip Type",width:"200"}),r.a.createElement(kt.b,{field:"contType",title:"Container Type (ft)",width:"180"}),r.a.createElement(kt.b,{field:"contWt",title:"Container Gross Wt. (Ts)",width:"200"}),r.a.createElement(kt.b,{field:"",title:"No. of Containers Per Trip",width:"250"}),r.a.createElement(kt.b,{field:"startLoc",title:"From Location",width:"250"}),r.a.createElement(kt.b,{field:"endLoc",title:"To Location",width:"250"}),r.a.createElement(kt.b,{field:"distance",title:"Distance (Km)",width:"150"}),r.a.createElement(kt.b,{field:"fuelReq",title:"Est. Fuel (Ltr)",width:"150"}),r.a.createElement(kt.b,{field:"driInc",title:"Incentive",width:"150"}),r.a.createElement(kt.b,{field:"status",title:"Status",width:"100"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Master / Trip Type"),r.a.createElement(F.w,{className:St()(l.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},s)))}}]),t}(r.a.Component),ca=Object(B.withStyles)(Me)(oa),da=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.state={getApi:!1,rows:[],total:[],pageNo:5,filter:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrainings",value:function(){var e=this;ee.trainingsReport.get(null,null).then(function(t){console.log(t.trainings,"Get Trainings"),e.setState({rows:t.trainings,getApi:!0,total:t.trainings.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getTrainings()}},{key:"trainingName",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.trainingName();""!==e.target.value?(t=t.filter(function(t){if(null!==t.trainingName)return-1!==t.trainingName.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:t,filter:!0,total:t.length,pageNo:t.length})):(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=this.props.classes,s=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.w,{className:l.barRoot,elevation:1},r.a.createElement(F.l,{className:l.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:l.barInput,placeholder:"Search Training Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:l.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:l.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))),r.a.createElement(kt.b,{field:"trainingDate",title:"Training Date",width:"150"}),r.a.createElement(kt.b,{field:"trainingName",title:"Training Name",width:"200"}),r.a.createElement(kt.b,{field:"trainingType",title:"Training Type",width:"150"}),r.a.createElement(kt.b,{field:"trainingLoc",title:"Training Location",width:"200"}),r.a.createElement(kt.b,{field:"trainerName",title:"Trainer Name"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Master / Training"),r.a.createElement(F.w,{className:St()(l.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},s)))}}]),t}(r.a.Component),ma=Object(B.withStyles)(Me)(da),ua=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getMaintenance",value:function(){var e=this;ee.maintenanceReport.get(null,null).then(function(t){console.log(t.details,"Get Drivers"),e.setState({rows:t.details,getApi:!0,total:t.details.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getMaintenance()}},{key:"trailerNo",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.trailerNo();""!==e.target.value?(a=a.filter(function(t){if(null!==t.trailerNo)return-1!==t.trailerNo.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.maintenanceReport.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.details,"Get Data"),a.setState({items:e.details,reItems:e.details,filter:!0,total:e.details.length,pageNo:e.details.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Trailer No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"150"}),r.a.createElement(kt.b,{field:"kmsDone",title:"Distance Travelled (Km)",width:"220"}),r.a.createElement(kt.b,{field:"lastServiceDate",title:"Last Service Date",width:"200"}),r.a.createElement(kt.b,{field:"dueServiceDate",title:"Due Service Date",width:"200"}),r.a.createElement(kt.b,{field:"lastServiceKm",title:"Last Service (Km)",width:"200"}),r.a.createElement(kt.b,{field:"dueKm",title:"Due Service (Km)",width:"200"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Master / Maintenance"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),ha=Object(B.withStyles)(Me)(ua),pa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getPendency",value:function(){var e=this;ee.pendencyReport.get(null,null).then(function(t){console.log(t.pendency,"Get Pendency"),e.setState({rows:t.pendency,getApi:!0,total:t.pendency.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getPendency()}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e){var t=this;""!==e&&(this.setState({submit:!0}),ee.pendencyReport.get("?from="+e,null).then(function(e){console.log(e.pendency,"Get Pendency"),t.setState({items:e.pendency,filter:!0,total:e.pendency.length,pageNo:e.pendency.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.submit,c=this.props.classes,d=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:c.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"Select Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-9 col-sm-9 col-md-9 col-lg-9"},r.a.createElement(F.c,{disabled:o,variant:"contained",color:"primary",classes:{root:c.mainButtonCss,label:c.label},onClick:function(){e.getDateRange(i)}},o&&r.a.createElement(Ot,null)||!o&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:c.mainButtonCssClear,label:c.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-1 col-sm-1 col-md-1 col-lg-1"},r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:c.barIconButton,style:{float:"right"},"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"})))))),r.a.createElement(kt.b,{field:"date",title:"Date",width:"150"}),r.a.createElement(kt.b,{field:"vesselName",title:"Vessel Name",width:"250"}),r.a.createElement(kt.b,{field:"containerNo",title:"Container No.",width:"150"}),r.a.createElement(kt.b,{field:"size",title:"Size",width:"100"}),r.a.createElement(kt.b,{field:"type",title:"Type",width:"80"}),r.a.createElement(kt.b,{field:"berthing_Date",title:"Berthing Date Time",width:"210"}),r.a.createElement(kt.b,{field:"cycle",title:"Cycle",width:"150"}),r.a.createElement(kt.b,{field:"line",title:"Line",width:"200"}),r.a.createElement(kt.b,{field:"dwellDaysatPortCFS",title:"Dwell Days at Port/CFS",width:"200"}),r.a.createElement(kt.b,{field:"plannedDateforMovement",title:"Planned Date for Movement",width:"220"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Daily / Pendency"),r.a.createElement(F.w,{className:St()(c.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},d)))}}]),t}(r.a.Component),ga=Object(B.withStyles)(Me)(pa),fa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrips",value:function(){var e=this;ee.dailyTripReport.get(null,null).then(function(t){console.log(t.dailyTrips,"Get Trips"),e.setState({rows:t.dailyTrips,getApi:!0,total:t.dailyTrips.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getTrips()}},{key:"dailyTrips",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.dailyTrips();""!==e.target.value?(a=a.filter(function(t){if(null!==t.driverName)return-1!==t.driverName.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e){var t=this;""!==e&&(this.setState({submit:!0}),ee.dailyTripReport.get("?from="+e,null).then(function(e){console.log(e.dailyTrips,"Get Date Range Trip"),t.setState({items:e.dailyTrips,reItems:e.dailyTrips,filter:!0,total:e.dailyTrips.length,pageNo:e.dailyTrips.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"Select Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Driver Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"date",title:"Date",width:"150"}),r.a.createElement(kt.b,{field:"tripNo",title:"Trip No.",width:"100"}),r.a.createElement(kt.b,{field:"tripType",title:"Trip Type",width:"200"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"150"}),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name",width:"240"}),r.a.createElement(kt.b,{field:"startLoc",title:"Start Location",width:"250"}),r.a.createElement(kt.b,{field:"endLoc",title:"End Location",width:"250"}),r.a.createElement(kt.b,{field:"cycle",title:"Cycle",width:"200"}),r.a.createElement(kt.b,{field:"cont1",title:"Container No.1",width:"220"}),r.a.createElement(kt.b,{field:"cont2",title:"Container No.2",width:"220"}),r.a.createElement(kt.b,{field:"size",title:"Size",width:"220"}),r.a.createElement(kt.b,{field:"dieselUsage",title:"Diesel Usage",width:"220"}),r.a.createElement(kt.b,{field:"startTime",title:"Act. Start Time",width:"150"}),r.a.createElement(kt.b,{field:"endTime",title:"Act. End Time",width:"150"}),r.a.createElement(kt.b,{field:"TAT",title:"TAT",width:"220"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Daily / Trip"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),va=Object(B.withStyles)(Me)(fa),ba=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTAT",value:function(){var e=this;ee.dailyTATReport.get(null,null).then(function(t){console.log(t.tat,"Get TAT"),e.setState({rows:t.tat,getApi:!0,total:t.tat.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getTAT()}},{key:"tat",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.tat();""!==e.target.value?(a=a.filter(function(t){if(null!==t.driverName)return-1!==t.driverName.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e){var t=this;""!==e&&(this.setState({submit:!0}),ee.dailyTATReport.get("?from="+e,null).then(function(e){console.log(e.tat,"Get Date Range"),t.setState({items:e.tat,reItems:e.tat,filter:!0,total:e.tat.length,pageNo:e.tat.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"Select Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Driver Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"currentDate",title:"Date",width:"150"}),r.a.createElement(kt.b,{field:"trip_id",title:"Trip ID",width:"150"}),r.a.createElement(kt.b,{field:"tripno",title:"Trip No.",width:"140"}),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name",width:"240"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"180"}),r.a.createElement(kt.b,{field:"containerNo1",title:"Container No.1",width:"210"}),r.a.createElement(kt.b,{field:"containerNo2",title:"Container No.2",width:"210"}),r.a.createElement(kt.b,{field:"size",title:"Size",width:"200"}),r.a.createElement(kt.b,{field:"start_loc",title:"Start Location",width:"220"}),r.a.createElement(kt.b,{field:"end_loc",title:"End Location",width:"220"}),r.a.createElement(kt.b,{field:"startTime",title:"Start Time",width:"220"}),r.a.createElement(kt.b,{field:"endTime",title:"End Time",width:"220"}),r.a.createElement(kt.b,{field:"check_point_1",title:"Check Point 1",width:"220"}),r.a.createElement(kt.b,{field:"check_point_2",title:"Check Point 2",width:"220"}),r.a.createElement(kt.b,{field:"check_point_3",title:"Check Point 3",width:"220"}),r.a.createElement(kt.b,{field:"duration",title:"Duration",width:"220"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Daily / TAT"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Ea=Object(B.withStyles)(Me)(ba),ya=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getDieselUtilization",value:function(){var e=this;ee.dieselUtilReport.get(null,null).then(function(t){console.log(t.dieselUtil,"Get Diesel Util"),e.setState({rows:t.dieselUtil,getApi:!0,total:t.dieselUtil.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getDieselUtilization()}},{key:"dieselUtil",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.dieselUtil();""!==e.target.value?(a=a.filter(function(t){if(t.trailerNo&&null!==t.driverName)return-1!==t.trailerNo.toLowerCase().search(e.target.value.toLowerCase())||-1!==t.driverName.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.dieselUtilReport.get("?from="+e+"&to="+t,null).then(function(e){var t;console.log(e.dieselUtil,"Get Pendency"),a.setState((t={items:e.dieselUtil,filter:!0,reItems:e.dieselUtil},Object(h.a)(t,"filter",!0),Object(h.a)(t,"total",e.dieselUtil.length),Object(h.a)(t,"pageNo",e.dieselUtil.length),Object(h.a)(t,"apply",!0),Object(h.a)(t,"submit",!1),t))}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,total:this.state.rows.length,apply:!1,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-3 col-sm-3 col-md-3 col-lg-3"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-5 col-sm-5 col-md-5 col-lg-5"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Trailer No. & Driver Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"date",title:"Date",width:"150"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"150"}),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name",width:"250"}),r.a.createElement(kt.b,{field:"tripType",title:"Trip Type",width:"150"}),r.a.createElement(kt.b,{field:"cycle",title:"Cycle",width:"150"}),r.a.createElement(kt.b,{field:"cont1",title:"Container No.1",width:"150"}),r.a.createElement(kt.b,{field:"cont2",title:"Container No.2",width:"150"}),r.a.createElement(kt.b,{field:"size",title:"Size",width:"100"}),r.a.createElement(kt.b,{field:"runkm",title:"Run Km",width:"150"}),r.a.createElement(kt.b,{field:"dieselUsage",title:"Diesel Spent",width:"200"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Diesel Utilization"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Ca=Object(B.withStyles)(Me)(ya),Sa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getDriverAtt",value:function(){var e=this;ee.driAttReport.get(null,null).then(function(t){console.log(t.driAtt,"Get Drivers"),e.setState({rows:t.driAtt,getApi:!0,total:t.driAtt.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getDriverAtt()}},{key:"attendDetails",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.attendDetails();""!==e.target.value?(a=a.filter(function(t){if(null!==t.name)return-1!==t.name.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.driAttReport.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.driAtt,"Get Drivers"),a.setState({items:e.driAtt,reItems:e.driAtt,total:e.driAtt.length,pageNo:e.driAtt.length,filter:!0,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Driver Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"date",title:"Date"}),r.a.createElement(kt.b,{field:"name",title:"Driver Name"}),r.a.createElement(kt.b,{field:"empId",title:"Employee ID"}),r.a.createElement(kt.b,{field:"I",title:"In Time"}),r.a.createElement(kt.b,{field:"O",title:"Out Time"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Driver Attendance"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Na=Object(B.withStyles)(Me)(Sa),Ta=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrailerPer",value:function(){var e=this;ee.traiPerReport.get(null,null).then(function(t){console.log(t.traiPer,"Get Trailer Performance"),e.setState({rows:t.traiPer,getApi:!0,total:t.traiPer.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getTrailerPer()}},{key:"trailerNo",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.trailerNo();""!==e.target.value?(a=a.filter(function(t){if(null!==t.trailor_no)return-1!==t.trailor_no.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e){var t=this;""!==e&&(this.setState({submit:!0}),ee.traiPerReport.get("?from="+e,null).then(function(e){console.log(e.traiPer,"Get Trailer"),t.setState({items:e.traiPer,reItems:e.traiPer,filter:!0,total:e.traiPer.length,pageNo:e.traiPer.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,fromDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.fromDate,i=t.submit,o=this.props.classes,c=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 col-sm-3 col-md-3 col-lg-3"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:o.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,margin:"normal",label:"Year & Month",views:["year","month"],value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-5 col-sm-5 col-md-5 col-lg-5"},r.a.createElement(F.c,{disabled:i,variant:"contained",color:"primary",classes:{root:o.mainButtonCss,label:o.label},onClick:function(){e.getDateRange(s)}},i&&r.a.createElement(Ot,null)||!i&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:o.mainButtonCssClear,label:o.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:o.barRootAuto,elevation:1},r.a.createElement(F.l,{className:o.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:o.barInput,placeholder:"Search Trailer No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:o.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:o.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"month",title:"Month",width:"150"}),r.a.createElement(kt.b,{field:"trailor_no",title:"Trailer No.",width:"200"}),r.a.createElement(kt.b,{field:"name",title:"Driver Name",width:"140"}),r.a.createElement(kt.b,{field:"shift2",title:"Shift",width:"240"}),r.a.createElement(kt.b,{field:"Tot_Trips_Done",title:"Tot. Trips Done",width:"240"}),r.a.createElement(kt.b,{field:"TEU_Loaded_Moved",title:"Tot. TEU Loaded Moved",width:"240"}),r.a.createElement(kt.b,{field:"TEU_Empty_Moved",title:"Tot. TEU Empty\tMoved",width:"240"}),r.a.createElement(kt.b,{field:"Tot_Distance_Travelled",title:"Tot. Distance Travelled (Km)",width:"240"}),r.a.createElement(kt.b,{field:"Tot_Diesel_spent",title:"Tot. Diesel spent (Ltr)",width:"240"}),r.a.createElement(kt.b,{field:"Tot_Running",title:"Tot. Running (Hrs)",width:"240"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Trailer Performance"),r.a.createElement(F.w,{className:St()(o.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},c)))}}]),t}(r.a.Component),ka=Object(B.withStyles)(Me)(Ta),Da=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getAdhocMain",value:function(){var e=this;ee.adhocMainReport.get(null,null).then(function(t){console.log(t.adhocMain,"Get Adhoc"),e.setState({rows:t.adhocMain,getApi:!0,total:t.adhocMain.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getAdhocMain()}},{key:"trailerNo",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.trailerNo();""!==e.target.value?(a=a.filter(function(t){if(null!==t.trailerNo)return-1!==t.trailerNo.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.adhocMainReport.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.adhocMain,"Get Date Range"),a.setState({items:e.adhocMain,reItems:e.adhocMain,filter:!0,total:e.adhocMain.length,pageNo:e.adhocMain.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Trailer No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"createdDate",title:"Date",width:"200"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"250"}),r.a.createElement(kt.b,{field:"requestedServiceType",title:"Requested Service Type",width:"250"}),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Adhoc Maintenance"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Oa=Object(B.withStyles)(Me)(Da),ja=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getDriverTrainings",value:function(){var e=this;ee.driTrainReport.get(null,null).then(function(t){console.log(t.driTrain,"Get Drivers Trainings"),e.setState({rows:t.driTrain,getApi:!0,total:t.driTrain.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getDriverTrainings()}},{key:"driverNames",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.driverNames();""!==e.target.value?(a=a.filter(function(t){if(null!==t.driverName)return-1!==t.driverName.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.driTrainReport.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.driTrain,"Get Driver Training Range"),a.setState({items:e.driTrain,reItems:e.driTrain,filter:!0,total:e.driTrain.length,pageNo:e.driTrain.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filtre:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Driver Name",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"date",title:"Date"}),r.a.createElement(kt.b,{field:"driverName",title:"Driver Name"}),r.a.createElement(kt.b,{field:"trainingName",title:"Training Name"}),r.a.createElement(kt.b,{field:"trainerName",title:"Trainer Name"}),r.a.createElement(kt.b,{field:"trainingType",title:"Training Type"}),r.a.createElement(kt.b,{field:"location",title:"Training Location"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Driver Training"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Ma=Object(B.withStyles)(Me)(ja),xa=function(e){function t(e){var a,n;return Object(O.a)(this,t),(n=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){n.setState(n.createState(e.page.skip,e.page.take))},n.exportExcel=function(){var e=null;!0===n.state.filter?e=n.state.items:!1===n.state.filter&&(e=n.state.rows),n.gridExcelExport.save(e)},n.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");n.setState({dateSelectFrom:e,fromDate:t})}},n.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");n.setState({dateSelectTo:e,toDate:t})}},n.state=(a={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:""},Object(h.a)(a,"pageNo",5),Object(h.a)(a,"total",[]),Object(h.a)(a,"reItems",[]),Object(h.a)(a,"filter",!1),Object(h.a)(a,"apply",!1),Object(h.a)(a,"submit",!1),a),n.handleInputSearch=n.handleInputSearch.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChangeFrom=n.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChangeTo=n.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(n))),n.getDateRange=n.getDateRange.bind(Object(R.a)(Object(R.a)(n))),n.clear=n.clear.bind(Object(R.a)(Object(R.a)(n))),n}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getHireTrailers",value:function(){var e=this;ee.hireTrailReport.get(null,null).then(function(t){console.log(t.hireTrailer,"Get Hire Trailer"),e.setState({rows:t.hireTrailer,getApi:!0,total:t.hireTrailer.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getHireTrailers()}},{key:"trailerReport",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.trailerReport();""!==e.target.value?(a=a.filter(function(t){if(null!==t.trailerNo)return-1!==t.trailerNo.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.hireTrailReport.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.hireTrailer,"Get Date Range"),a.setState({items:e.hireTrailer,reItems:e.hireTrailer,filter:!0,total:e.hireTrailer.length,pageNo:e.hireTrailer.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.dateSelectTo,i=t.fromDate,o=t.toDate,c=t.submit,d=this.props.classes,m=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:s,margin:"normal",label:"From Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:d.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:l,margin:"normal",label:"To Date",value:s,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:c,variant:"contained",color:"primary",classes:{root:d.mainButtonCss,label:d.label},onClick:function(){e.getDateRange(i,o)}},c&&r.a.createElement(Ot,null)||!c&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:d.mainButtonCssClear,label:d.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:d.barRootAuto,elevation:1},r.a.createElement(F.l,{className:d.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:d.barInput,placeholder:"Search Trailer No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:d.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:d.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"hireDate",title:"Date",width:"150"}),r.a.createElement(kt.b,{field:"trip_type",title:"Cycle",width:"150"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"150"}),r.a.createElement(kt.b,{field:"container_no",title:"Container No.1",width:"150"}),r.a.createElement(kt.b,{field:"container_no2",title:"Container No.2",width:"150"}),r.a.createElement(kt.b,{field:"size",title:"Size",width:"100"}),r.a.createElement(kt.b,{field:"loaded_or_empty",title:"Trip Type",width:"250"}),r.a.createElement(kt.b,{field:"rate",title:"Per Trip Cost",width:"150"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Hire Trailer"),r.a.createElement(F.w,{className:St()(d.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},m)))}}]),t}(r.a.Component),Ia=Object(B.withStyles)(Me)(xa),wa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.handleDateChangeTo=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectTo:e,toDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",dateSelectTo:null,toDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeTo=a.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getLGR",value:function(){var e=this;ee.lgrReport.get(null,null).then(function(t){console.log(t.lgr,"Get LGR"),e.setState({rows:t.lgr,getApi:!0,total:t.lgr.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){}},{key:"containerNo",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.containerNo();""!==e.target.value?(a=a.filter(function(t){if(null!==t.containerNo)return-1!==t.containerNo.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;e&&""!==t&&(this.setState({submit:!0}),ee.lgrReport.get("?from="+e+"&to="+t,null).then(function(e){console.log(e.lgr,"Get lgr"),a.setState({items:e.lgr,reItems:e.lgr,filter:!0,total:e.lgr.length,pageNo:e.lgr.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,dateSelectTo:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.getApi,t.rows,t.dateSelectFrom),n=t.dateSelectTo,l=t.fromDate,s=t.toDate,i=t.submit,o=this.props.classes,c=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:o.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,maxDate:n,margin:"normal",label:"From Date",value:a,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:o.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:a,margin:"normal",label:"To Date",value:n,onChange:this.handleDateChangeTo}))),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.c,{disabled:i,variant:"contained",color:"primary",classes:{root:o.mainButtonCss,label:o.label},onClick:function(){e.getDateRange(l,s)}},i&&r.a.createElement(Ot,null)||!i&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:o.mainButtonCssClear,label:o.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:o.barRootAuto,elevation:1},r.a.createElement(F.l,{className:o.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:o.barInput,placeholder:"Search Container No.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:o.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:o.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"Date",title:"Date",width:"150"}),r.a.createElement(kt.b,{field:"containerNo",title:"Container No.",width:"250"}),r.a.createElement(kt.b,{field:"size",title:"Size",width:"250"}),r.a.createElement(kt.b,{field:"containerType",title:"Container Type",width:"250"}),r.a.createElement(kt.b,{field:"line",title:"Line",width:"300"}),r.a.createElement(kt.b,{field:"FromLocation",title:"From Location",width:"300"}),r.a.createElement(kt.b,{field:"vesselName",title:"Vessel Name",width:"300"}),r.a.createElement(kt.b,{field:"GateinDate",title:"Gate In Date",width:"300"}),r.a.createElement(kt.b,{field:"GateInTime",title:"Gate In Time",width:"300"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No.",width:"300"}),r.a.createElement(kt.b,{field:"",title:"EIR Date Time",width:"300"}),r.a.createElement(kt.b,{field:" ToLocation",title:"To Location",width:"300"}),r.a.createElement(kt.b,{field:"Status",title:"Status",width:"300"}),r.a.createElement(kt.b,{field:"Berthing_date_time",title:"Berthing Date Time",width:"350"}),r.a.createElement(kt.b,{field:" ReleaseDateTime",title:"Release Date Time",width:"350"}),r.a.createElement(kt.b,{field:"dwell_days",title:"Dwell Days",width:"300"}),r.a.createElement(kt.b,{field:"",title:"Hired / Owned",width:"300"}),r.a.createElement(kt.b,{field:"",title:"Hiring Cost",width:"300"}),r.a.createElement(kt.b,{field:"Freedays",title:"Free Days",width:"300"}),r.a.createElement(kt.b,{field:"LGRslab",title:"LGR Slab",width:"300"}),r.a.createElement(kt.b,{field:"LGRimposed",title:"LGR Imposed",width:"300"}),r.a.createElement(kt.b,{field:"",title:"Tot. LGR + Hiring Cost",width:"350"}),r.a.createElement(kt.b,{field:"OffLoadingTime",title:"Off Loading Time",width:"300"}),r.a.createElement(kt.b,{field:"Remarks",title:"Remarks",width:"200"}));return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / LGR"),r.a.createElement(F.w,{className:St()(o.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},c)))}}]),t}(r.a.Component),La=Object(B.withStyles)(Me)(wa),Pa=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).pageChange=function(e){a.setState(a.createState(e.page.skip,e.page.take))},a.exportExcel=function(){var e=null;!0===a.state.filter?e=a.state.items:!1===a.state.filter&&(e=a.state.rows),a.gridExcelExport.save(e)},a.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("DD-MM-YYYY");a.setState({dateSelectFrom:e,fromDate:t})}},a.state={getApi:!1,rows:[],total:[],reItems:[],pageNo:5,dateSelectFrom:null,fromDate:"",filter:!1,apply:!1,submit:!1},a.handleInputSearch=a.handleInputSearch.bind(Object(R.a)(Object(R.a)(a))),a.handleDateChangeFrom=a.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(a))),a.getDateRange=a.getDateRange.bind(Object(R.a)(Object(R.a)(a))),a.clear=a.clear.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getDriverRoaster",value:function(){var e=this;ee.driRoastReport.get(null,null).then(function(t){console.log(t.roaster,"Get Roaster"),e.setState({rows:t.roaster,getApi:!0,total:t.roaster.length}),e.setState(e.createState(0,e.state.pageNo))}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){this.getDriverRoaster()}},{key:"driverNames",value:function(){return!0===this.state.filter?this.state.items:!1===this.state.filter?this.state.rows:void 0}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),this.setState({filter:!0});var t=this.state.reItems,a=this.driverNames();""!==e.target.value?(a=a.filter(function(t){if(t.shift1&&null!==t.shift2)return-1!==t.shift1.toLowerCase().search(e.target.value.toLowerCase())||-1!==t.shift2.toLowerCase().search(e.target.value.toLowerCase())}),this.setState({items:a,total:a.length,pageNo:a.length})):""===e.target.value&&!0===this.state.apply?this.setState({items:t,total:t.length,pageNo:t.length}):""===e.target.value&&!1===this.state.apply&&(this.state.pageNo=5,this.setState({filter:!1,total:this.state.rows.length}),this.setState(this.createState(0,this.state.pageNo)))}},{key:"createState",value:function(e,t){return{items:this.state.rows.slice(e,e+t),skip:e,pageSize:t}}},{key:"getDateRange",value:function(e,t){var a=this;""!==e&&(this.setState({submit:!0}),ee.driRoastReport.get("?from="+e,null).then(function(e){console.log(e.roaster,"Get Roaster"),a.setState({items:e.roaster,reItems:e.roaster,filter:!0,total:e.roaster.length,pageNo:e.roaster.length,apply:!0,submit:!1})}).catch(function(e){return console.log(e)}))}},{key:"clear",value:function(){this.state.pageNo=5,this.setState(this.createState(0,this.state.pageNo)),this.setState({dateSelectFrom:null,fromDate:"",toDate:"",filter:!1,apply:!1,total:this.state.rows.length,submit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.getApi,n=t.rows,l=t.dateSelectFrom,s=t.fromDate,i=t.toDate,o=t.submit,c=this.props.classes,d=r.a.createElement(kt.a,{total:this.state.total,pageSize:this.state.pageNo,onPageChange:this.pageChange.bind(this),data:this.state.items,skip:this.state.skip,pageable:!0},r.a.createElement(kt.c,null,r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 col-sm-2 col-md-2 col-lg-2"},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:c.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,margin:"normal",label:"Date",value:l,onChange:this.handleDateChangeFrom}))),r.a.createElement("div",{className:"col-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement(F.c,{disabled:o,variant:"contained",color:"primary",classes:{root:c.mainButtonCss,label:c.label},onClick:function(){e.getDateRange(s,i)}},o&&r.a.createElement(Ot,null)||!o&&"Apply"),r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:c.mainButtonCssClear,label:c.label},onClick:function(){e.clear()}},"Clear")),r.a.createElement("div",{className:"col-4 col-sm-4 col-md-4 col-lg-4"},r.a.createElement(F.w,{className:c.barRootAuto,elevation:1},r.a.createElement(F.l,{className:c.searchIcon,"aria-label":"Menu"},r.a.createElement(Tt.a,null)),r.a.createElement(F.n,{className:c.barInput,placeholder:"Search Driver Name.",onChange:this.handleInputSearch}),r.a.createElement(F.h,{className:c.barDivider}),r.a.createElement(F.l,{title:"Export Excel",color:"primary",className:c.barIconButton,"aria-label":"Directions",onClick:this.exportExcel},r.a.createElement("img",{src:"/assets/icons/export_excel.png",className:"selectionControlPdf",alt:"Excel"}))))))),r.a.createElement(kt.b,{field:"date",title:"Date"}),r.a.createElement(kt.b,{field:"trailerNo",title:"Trailer No."}),r.a.createElement(kt.b,{field:"shift1",title:"Driver Name (Shift-1)"}),r.a.createElement(kt.b,{field:"shift2",title:"Driver Name (Shift-2)"}));return!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):0===n.length?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},"No Data Found !")):r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Reports / Operational / Driver Roaster"),r.a.createElement(F.w,{className:St()(c.root)},r.a.createElement(Dt.a,{data:this.state.items,ref:function(t){return e.gridExcelExport=t}},d)))}}]),t}(r.a.Component),Aa=Object(B.withStyles)(Me)(Pa),Ra=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChecked=function(e){a.resetData(),a.setState({selectedValue:e.target.value}),"Update Mobile"===a.state.selectedValue&&a.getMobile()},a.onInputChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={selectedValue:"Create Mobile",vehNo:"",mobileNum:"",model:"",imei:"",os:"",remarks:"",info:{},trailerData:{},userId:"",vNo:"",vehMobNo:"",vehMobModel:"",mobOs:"",imeiNo:"",open:!1,submitted:!1,status:"",message:"",errMessage:"",code:""};var n=Object(c.a)({},a.state),l=n.vehNo,r=n.mobileNum,s=n.model,i=n.os,o=n.imei,d=n.remarks,m=n.vNo,u=n.vehMobNo,p=n.vehMobModel,g=n.mobOs,f=n.imeiNo;return a.initialState={vehNo:l,mobileNum:r,model:s,os:i,imei:o,remarks:d,vNo:m,vehMobNo:u,vehMobModel:p,mobOs:g,imeiNo:f},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.resetData=a.resetData.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getMobile",value:function(){var e=this;ee.adminConnectMobileGet.get(null,null).then(function(t){var a=t.tags;console.log(a,"+++++++++ Get Details +++++++++"),e.setState({info:a})}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.getMobile()}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"handleInputSearch",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.state.info.find(function(t){return t.vehNo===e.target.value});void 0!==t?this.setState({trailerData:t,status:t.vehNo,vehMobNo:t.vehMobNo,vehMobModel:t.vehMobModel,mobOs:t.mobOs,imeiNo:t.imei}):this.setState({vehMobNo:"",vehMobModel:"",mobOs:"",imeiNo:""})}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"createMobile",value:function(e){var t=this;ee.adminConnectMobile.post(null,e).then(function(e){var a=e.message;201===e.status?(t.openModal(),t.setState({code:e.status,message:a})):400===e.status&&(t.openModal(),t.setState({code:e.status,message:e.error}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"updateMobile",value:function(e,t){var a=this;ee.adminConnectMobile.put("/"+e,t).then(function(e){var t=e.message;!0===e.success&&(a.openModal(),a.setState({message:t}))}).catch(function(e){500===e.code&&(a.openModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){if(this.loader(),"Create Mobile"===this.state.selectedValue)this.createMobile(this.state),this.setState({status:this.state.vehNo}),this.getMobile();else{var e=this.state.trailerData.tagId,t=this.state.vNo,a=this.state.vehMobNo,n=this.state.remarks;this.updateMobile(e,{vehNo:t,mobileNum:a,remarks:n})}}},{key:"render",value:function(){var e=this.props.classes,t=this.state.submitted,a=this.state.selectedValue;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Connect Mobile"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"customHeader"},"Connect Mobile"),r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:3},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Create Mobile"===this.state.selectedValue,onChange:this.handleChecked,value:"Create Mobile",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Create")),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Update Mobile"===this.state.selectedValue,onChange:this.handleChecked,value:"Update Mobile",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Update")))),r.a.createElement("div",null,"Create Mobile"===a?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vehNo",label:"Trailer No.",value:this.state.vehNo,onChange:this.onInputChange,validators:["required"],errorMessages:["Trailer No. is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"mobileNum",label:"Mobile No.",value:this.state.mobileNum,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Mobile No. is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"model",label:"Device Name",value:this.state.model,onChange:this.onInputChange,validators:["required"],errorMessages:["Device Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"os",label:"Operating System",value:this.state.os,onChange:this.onInputChange,validators:["required"],errorMessages:["Operating System is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"imei",label:"IMEI No.",value:this.state.imei,onChange:this.onInputChange,validators:["required","maxStringLength:15","isNumber"],errorMessages:["IMEI No. is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"remarks",label:"Remarks",value:this.state.remarks,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory Except Remarks")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:e.button,label:e.label},className:e.button,disabled:t},t&&r.a.createElement(ae,null)||!t&&"Submit"))):r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vNo",label:"Trailer No.",value:this.state.vNo,onChange:this.handleInputSearch.bind(this),InputProps:{classes:{underline:e.cssUnderlineUpdate}}})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vehMobNo",label:"Mobile No.",value:this.state.vehMobNo,onChange:this.onInputChange,validators:["matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Enter Valid Mobile No."]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vehMobModel",label:"Device Name",value:this.state.vehMobModel,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"mobOs",label:"Operating System",value:this.state.mobOs,InputProps:{classes:{underline:e.cssUnderline}}})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"imeiNo",label:"IMEI No.",value:this.state.imeiNo,InputProps:{classes:{underline:e.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"remarks",label:"Remarks",value:this.state.remarks,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Please Search for Trailer No. To Update Mobile No.")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:e.button,label:e.label},disabled:t},t&&r.a.createElement(ae,null)||!t&&"Save")))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")))))}}]),t}(l.Component),Fa=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderlineUpdate:{color:"#14A474"},cssUnderline:{color:"#dc3545c9"}}})(Ra),Va=[{value:"Loading...",label:"Loading..."},{value:"Ram Sakal Yadav",label:"driver1"},{value:"Pragash Yadav",label:"driver2"}],Ua=function(e){function t(e,a){var n;Object(O.a)(this,t),(n=Object(M.a)(this,Object(x.a)(t).call(this,e,a))).handleDateChangeFromCreate=function(e){if(e){var t=de()(e).format("L"),a=de()(e).format("YYYY MMMM"),l=de()(e).format("M"),r=de()(e).format("YYYY");console.log(a,"From Date"),n.setState({dateSelectFrom:e,roasterFromDate:t,roasterYear:a.substr(0,4),roasterMonth:a.substr(5),yearCreate:r,monthCreate:l})}},n.handleDateChangeToCreate=function(e){if(e){var t=de()(e).format("L");n.setState({dateSelectTo:e,roasterToDate:t})}},n.handleDateChangeFrom=function(e){if(e){var t=de()(e).format("L"),a=de()(e).format("YYYY MMMM");n.setState({dateSelectFrom:e,startDate:t,roasterYear:a.substr(0,4),roasterMonth:a.substr(5)})}},n.handleDateChangeTo=function(e){if(e){var t=de()(e).format("L");n.setState({dateSelectTo:e,endDate:t})}},n.handleCheckedCreate=function(e){n.setState({selectedValue:e.target.value,yearCalendar:null,dateSelectFrom:null,dateSelectTo:null,roasterYr:"",roasterMonth:"",roasterTrailerNo:"",roasterDriShift1:"",roasterDriShift2:"",selectedLeaveDay:"",selectedDriverOption3:"",selectedDriverOption4:"",selectedTrailerOption:"",selectedDriverOption1:"",selectedDriverOption2:"",hit:!1})},n.handleCheckedUpdate=function(e){n.setState({selectedValue:e.target.value,trailerSearch:"",selectedTrailerOptionUpdate:"",yearCalendarSearch:null,roasterTrailerNo:"",roasterDriShift1:"",roasterDriShift2:"",leaveDay:"",roasterDriShift3Leave:"",roasterDriShift4Leave:"",dateSelectFrom:null,startDate:"",dateSelectTo:null,endDate:"",click1:!1,click2:!1,hit:!1})},n.handleTrailerChange=function(e){null!==e&&(n.setState({selectedTrailerOption:e}),n.setState({roasterTrailerNo:e.label}))},n.handleTrailerChangeUpdate=function(e){null!==e&&(n.setState({selectedTrailerOptionUpdate:e}),n.setState({trailerSearch:e.label}))},n.handleDriverChange1=function(e){null!==e&&n.setState({selectedDriverOption1:e,roasterDriShift1:n.splitName(e.label),roasterDriShiftID1:e.value})},n.handleDriverChange2=function(e){null!==e&&(n.setState({selectedDriverOption2:e}),n.setState({roasterDriShift2:n.splitName(e.label),roasterDriShiftID2:e.value}))},n.handleDriverChange3=function(e){null!==e&&(n.setState({selectedDriverOption3:e}),n.setState({roasterDriShift3Leave:n.splitName(e.label),roasterDriShift3LeaveID:e.value}))},n.handleDriverChange4=function(e){null!==e&&(n.setState({selectedDriverOption4:e}),n.setState({roasterDriShift4Leave:n.splitName(e.label),roasterDriShift4LeaveID:e.value}))},n.handleLeaveDayChange=function(e){null!==e&&(n.setState({selectedLeaveDay:e}),n.setState({leaveDay:e.label}))},n.handleDriverChangeUpdate1=function(e){null!==e&&(n.setState({selectedDriverOptionUpdate1:e}),n.setState({roasterDriShift1:e.label,shift1:n.splitName(e.label),shiftID1:e.value}))},n.handleDriverChangeUpdate2=function(e){null!==e&&(n.setState({selectedDriverOptionUpdate2:e}),n.setState({roasterDriShift2:e.label,shift2:n.splitName(e.label),shiftID2:e.value}))},n.handleDriverChangeUpdate3=function(e){null!==e&&(n.setState({selectedDriverOptionUpdate3:e}),n.setState({roasterDriShift3Leave:e.label,shift1Leave:n.splitName(e.label),shiftID1Leave:e.value}))},n.handleDriverChangeUpdate4=function(e){null!==e&&(n.setState({selectedDriverOptionUpdate4:e}),n.setState({roasterDriShift4Leave:e.label,shift2Leave:n.splitName(e.label),shiftID2Leave:e.value}))},n.state={selectedValue:"Create Roaster",trailers:Va,selectedTrailerOption:"",drivers:Va,roasterFromDate:"",roasterToDate:"",selectedDriverOption1:"",selectedDriverOption2:"",selectedLeaveDay:"",selectedDriverOption3:"",selectedDriverOption4:"",selectedDriverOptionUpdate1:"",selectedDriverOptionUpdate2:"",selectedDriverOptionUpdate3:"",selectedDriverOptionUpdate4:"",trailerSearch:"",selectedTrailerOptionUpdate:"",yearCalendarSearch:null,yearCalendar:null,roasterYear:"",roasterMonth:"",roasterTrailerNo:"",roasterDriShift1:"",roasterDriShiftID1:"",roasterDriShift2:"",roasterDriShiftID2:"",leaveDay:"",roasterDriShift3Leave:"",roasterDriShift3LeaveID:"",roasterDriShift4Leave:"",roasterDriShift4LeaveID:"",Shift1Leave:"",Shift1LeaveID:"",Shift2Leave:"",Shift2LeaveID:"",submitted:!1,applied:!1,status:"",message:"",response:"",errMessage:"",code:"",alert:!1,alertMessage:"",open:!1,dateSelectFrom:null,startDate:"",dateSelectTo:null,endDate:"",info:[],change:!1,id:0,click1:!1,click2:!1,roasterYearSearch:"",roasterMonthSearch:"",driChange:!1,shift1:"",shiftID1:"",shift2:"",shiftID2:"",month:0,yearCreate:0,monthCreate:0,hit:!1,getObj:{}};var l=Object(c.a)({},n.state),r=l.yearCalendar,s=l.selectedTrailerOption,i=l.selectedDriverOption1,o=l.hit,d=l.selectedDriverOption2,m=l.selectedLeaveDay,u=l.selectedDriverOption3,h=l.selectedDriverOption4,p=l.leaveDay,g=l.selectedDriverOptionUpdate1,f=l.selectedDriverOptionUpdate2,v=l.selectedDriverOptionUpdate3,b=l.selectedDriverOptionUpdate4,E=l.roasterMonth,y=l.roasterTrailerNo,C=l.roasterDriShift1,S=l.roasterDriShift2,N=l.roasterDriShift3Leave,T=l.roasterDriShift4Leave,k=l.trailerSearch,D=l.startDate,j=l.endDate,I=l.yearCalendarSearch,w=l.dateSelectFrom,L=l.dateSelectTo,P=l.click1,A=l.click2,F=l.selectedTrailerOptionUpdate;return n.initialState={yearCalendar:r,selectedTrailerOption:s,hit:o,selectedDriverOption1:i,selectedDriverOption2:d,selectedLeaveDay:m,selectedDriverOption3:u,selectedDriverOption4:h,leaveDay:p,selectedDriverOptionUpdate1:g,selectedDriverOptionUpdate2:f,selectedDriverOptionUpdate3:v,selectedDriverOptionUpdate4:b,roasterMonth:E,roasterTrailerNo:y,roasterDriShift1:C,roasterDriShift2:S,roasterDriShift3Leave:N,roasterDriShift4Leave:T,trailerSearch:k,startDate:D,endDate:j,yearCalendarSearch:I,dateSelectFrom:w,dateSelectTo:L,click1:P,click2:A,selectedTrailerOptionUpdate:F},n.handleTrailerChange=n.handleTrailerChange.bind(Object(R.a)(Object(R.a)(n))),n.handleTrailerChangeUpdate=n.handleTrailerChangeUpdate.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChange1=n.handleDriverChange1.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChange2=n.handleDriverChange2.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChange3=n.handleDriverChange3.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChange4=n.handleDriverChange4.bind(Object(R.a)(Object(R.a)(n))),n.handleLeaveDayChange=n.handleLeaveDayChange.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChangeUpdate1=n.handleDriverChangeUpdate1.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChangeUpdate2=n.handleDriverChangeUpdate2.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChangeUpdate3=n.handleDriverChangeUpdate3.bind(Object(R.a)(Object(R.a)(n))),n.handleDriverChangeUpdate4=n.handleDriverChangeUpdate4.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChange=n.handleDateChange.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChangeFrom=n.handleDateChangeFrom.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChangeTo=n.handleDateChangeTo.bind(Object(R.a)(Object(R.a)(n))),n.onInputChange=n.onInputChange.bind(Object(R.a)(Object(R.a)(n))),n.validateChange=n.validateChange.bind(Object(R.a)(Object(R.a)(n))),n.onInputChangeUpdate=n.onInputChangeUpdate.bind(Object(R.a)(Object(R.a)(n))),n.handleTrailerSearch=n.handleTrailerSearch.bind(Object(R.a)(Object(R.a)(n))),n.onSubmit=n.onSubmit.bind(Object(R.a)(Object(R.a)(n))),n.openModal=n.openModal.bind(Object(R.a)(Object(R.a)(n))),n.closeModal=n.closeModal.bind(Object(R.a)(Object(R.a)(n))),n.resetData=n.resetData.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChangeFromCreate=n.handleDateChangeFromCreate.bind(Object(R.a)(Object(R.a)(n))),n.handleDateChangeToCreate=n.handleDateChangeToCreate.bind(Object(R.a)(Object(R.a)(n))),n}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrailersList",value:function(){var e=this;ee.trailersReport.get(null,null).then(function(t){console.log(t.trailers,"Trailers List");var a=t.trailers.map(function(e){return e.label});console.log(a,"No's of Trailers..........."),e.setState({trailers:t.trailers}),console.log("Trailer No's",e.state.trailers)}).catch(function(e){return console.log(e)})}},{key:"getDriversEmpId",value:function(){var e=this;ee.driversEmpId.get(null,null).then(function(t){console.log(t,"Drivers Emp Id");var a=t.map(function(e){return e.name});console.log(a,"Names of drivers"),e.setState({drivers:t})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.getTrailersList(),this.getDriversEmpId()}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value||"N/A"})}},{key:"handleDateChange",value:function(e){if(e){var t=de()(e).format("YYYY MMMM"),a=de()(e).format("M");console.log(a,"Month"),this.setState({yearCalendar:e,yearCalendarSearch:e,roasterYearSearch:t.substr(0,4),roasterMonthSearch:t.substr(5),month:a})}this.getRoaster(a)}},{key:"onInputChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"validateChange",value:function(e){var t=this.state.change;!0===t?this.onInputChangeUpdate(e):!1===t&&this.onInputChangeUpdate(e)}},{key:"onInputChangeUpdate",value:function(e){var t;this.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"change",!0),t))}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"createRoaster",value:function(e){var t=this;ee.adminDriverRoaster.post(null,e).then(function(e){console.log(e,"Create Roaster");var a=e.message;201===e.status?(t.openModal(),t.setState({code:e.status,message:a})):400===e.status&&(t.openModal(),t.setState({code:e.status,message:e.error}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"updateRoaster",value:function(e,t){var a=this;ee.adminDriverRoaster.put("/"+e,t).then(function(e){console.log(e,"Updated Roaster Details");var t=e.message;200===e.status&&(a.openModal(),a.setState({code:e.status,message:t}))}).catch(function(e){500===e.code&&(a.openModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"getRoaster",value:function(e){var t=this;ee.adminDriverRoasterSearch.get("/"+e,null).then(function(e){console.log(e,"Get Roaster"),console.log(e.roaster,"Get Roaster Data"),t.setState({info:e.roaster,hit:!0})}).catch(function(e){console.log(e,"Error")})}},{key:"handleTrailerSearch",value:function(){var e=this,t=this.state.info;console.log(t,"Trailers Data");var a=this.state.trailerSearch,n=this.state.yearCalendarSearch;if(""!==a&&null!==n){var l=t.find(function(t){return t.roasterTrailerNo===e.state.trailerSearch});console.log(l,"OBJ");var r=Va.map(function(e){return e});console.log(r,"Values"),void 0!==l?(console.log(l,"SHIFT 1"),null!==l.roasterDriShift1||""!==l.roasterDriShift1?this.setState({getObj:l,roasterDriShift1:l.shift1+" - "+l.shiftID1,roasterDriShift2:l.shift2+" - "+l.shiftID2,shift1:l.shift1,shiftID1:l.shiftID1,shift2:l.shift2,shiftID2:l.shiftID2,roasterDriShift3Leave:l.shift1Leave+" - "+l.shiftID1Leave,roasterDriShift4Leave:l.shift2leave+" - "+l.shift2IDLeave,shift1Leave:l.shift1Leave,shiftID1Leave:l.shiftID1Leave,shift2Leave:l.shift2leave,shiftID2Leave:l.shift2IDLeave,leaveDay:l.leaveDay,id:l.roasterId,hit:!1}):null!==l.roasterDriShift1&&""!==l.roasterDriShift1||this.setState({roasterDriShift1:"",roasterDriShift2:"",roasterDriShift3Leave:"",roasterDriShift4Leave:""})):void 0===l&&this.setState({roasterDriShift1:"",roasterDriShift2:"",roasterDriShift3Leave:"",roasterDriShift4Leave:"",alert:!0,alertMessage:"Driver Roaster is not yet Created !",hit:!1})}else this.setState({alert:!0,alertMessage:"Please Select Trailer No. and Year & Month to Proceed"})}},{key:"splitName",value:function(e){return e.split("-")[0]}},{key:"loader",value:function(){this.setState({submitted:!0}),this.createRoaster(this.state)}},{key:"loaderUpdate",value:function(){var e=this.state,t=e.id,a=e.trailerSearch,n=e.startDate,l=e.endDate,r=e.roasterYear,s=e.roasterMonth,i=a,o=this.state.shift1,c=this.state.shiftID1,d=this.state.shift2,m=this.state.shiftID2,u=this.state.shift1Leave,h=this.state.shiftID1Leave,p=this.state.shift2Leave,g=this.state.shiftID2Leave,f=this.state.leaveDay;this.setState({submitted:!0}),this.updateRoaster(t,{roasterTrailerNo:i,roasterDriShift1:o,roasterDriShiftID1:c,roasterDriShift2:d,roasterDriShiftID2:m,roasterDriShift3Leave:u,roasterDriShift3LeaveID:h,roasterDriShift4Leave:p,roasterDriShift4LeaveID:g,roasterStatus:"A",leaveDay:f,startDate:n,endDate:l,roasterYear:r,roasterMonth:s})}},{key:"create",value:function(){var e=Object(c.a)({},this.state),t=e.dateSelectFrom,a=e.dateSelectTo,n=e.roasterTrailerNo,l=e.roasterDriShift1,r=e.roasterDriShift2,s=e.leaveDay,i=e.roasterDriShift3Leave,o=e.roasterDriShift4Leave;null!==(t&&a)&&""!==(n&&s&&l&&r)&&l!==r&&i!==o&&l!==i&&r!==o&&l!==o&&r!==i?this.loader():""!==(l&&r)&&l===r?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):""!==(i&&o)&&i===o?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):""!==(l&&i)&&l===i?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):""!==(l&&o)&&l===o?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):""!==(r&&i)&&r===i?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):""!==(r&&o)&&r===o?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):this.setState({alert:!0,alertMessage:"From & To Date, Trailer No., Leave Day and Drivers should not be Empty !"}),this.setState({status:this.state.roasterTrailerNo})}},{key:"update",value:function(){""!==this.state.startDate&&""!==this.state.endDate&&""!==this.state.roasterDriShift1&&""!==this.state.roasterDriShift2&&""!==this.state.startDate&&""!==this.state.endDate&&this.state.roasterDriShift1!==this.state.roasterDriShift2?this.loaderUpdate():this.state.roasterDriShift1===this.state.roasterDriShift2?this.setState({alert:!0,alertMessage:"Drivers should not be Same !"}):this.setState({alert:!0,alertMessage:"Drivers and From & To Date should not be Empty !"}),this.setState({status:this.state.trailerSearch}),this.getTrailersList(),this.getDriversEmpId()}},{key:"onSubmit",value:function(){"Create Roaster"===this.state.selectedValue?this.create():"Update Roaster"===this.state.selectedValue&&this.update()}},{key:"render",value:function(){var e,t,a,n,l,s=this,i=this.props.classes,o=this.state,c=o.selectedTrailerOption,d=o.selectedDriverOption1,m=o.selectedDriverOption2,u=o.selectedLeaveDay,p=o.selectedDriverOption3,g=o.selectedDriverOption4,f=(o.selectedDriverOptionUpdate1,o.selectedDriverOptionUpdate2,o.selectedDriverOptionUpdate3),v=o.selectedDriverOptionUpdate4,b=o.submitted,E=o.applied,y=o.dateSelectFrom,C=o.dateSelectTo,S=o.trailerSearch,N=o.yearCalendarSearch,T=o.selectedTrailerOptionUpdate,k=this.state.selectedValue,D=[{value:"Sunday",label:"Sunday"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"}];return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Driver Roaster"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"750px"}},r.a.createElement("h6",{className:"customHeader"},"Driver Roaster"),r.a.createElement("div",{className:"container p-3"},r.a.createElement("div",{className:i.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Create Roaster"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Create Roaster",name:"radio-button-demo",classes:{root:i.radio}}),r.a.createElement("label",null,"Create Roaster")),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Update Roaster"===this.state.selectedValue,onChange:this.handleCheckedUpdate,value:"Update Roaster",name:"radio-button-demo",classes:{root:i.radio}}),r.a.createElement("label",null,"Update Roaster")))),"Create Roaster"===k?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:i.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(_e.c,{utils:We.a},null!==C?r.a.createElement(_e.a,{className:i.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,maxDate:C,margin:"normal",label:"From Date",value:y,onChange:this.handleDateChangeFromCreate}):r.a.createElement(_e.a,{className:i.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,margin:"normal",label:"From Date",value:y,onChange:this.handleDateChangeFromCreate}))),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{className:i.calendarRoot,keyboard:!0,fullWidth:!0,clearable:!0,minDate:y,margin:"normal",label:"To Date",value:C,onChange:this.handleDateChangeToCreate}))),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement("label",{className:"calendarLable"},"Trailer No."),r.a.createElement(Xe.a,{classNamePrefix:"select",value:c,onChange:this.handleTrailerChange,options:this.state.trailers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:i.root,style:{paddingTop:20}},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-1)"),r.a.createElement(Xe.a,{classNamePrefix:"select",value:d,onChange:this.handleDriverChange1,options:this.state.drivers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-2)"),r.a.createElement(Xe.a,{classNamePrefix:"select",value:m,onChange:this.handleDriverChange2,options:this.state.drivers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:i.root,style:{paddingTop:20}},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement("label",{className:"calendarLable"},"Leave Day"),r.a.createElement(Xe.a,{classNamePrefix:"select",value:u,onChange:this.handleLeaveDayChange,options:D,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-1) Leave"),r.a.createElement(Xe.a,{classNamePrefix:"select",value:p,onChange:this.handleDriverChange3,options:this.state.drivers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-2) Leave"),r.a.createElement(Xe.a,{classNamePrefix:"select",value:g,onChange:this.handleDriverChange4,options:this.state.drivers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})))),r.a.createElement("div",{className:"d-flex justify-content-center pt-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",classes:{root:i.button,label:i.label},disabled:b},b&&r.a.createElement(ae,null)||!b&&"Submit"))):r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:i.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:5},r.a.createElement("label",{className:"calendarLable"},"Trailer No."),r.a.createElement(Xe.a,{classNamePrefix:"select",value:T,onChange:this.handleTrailerChangeUpdate,options:this.state.trailers,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,margin:"normal",label:"Year & Month",views:["year","month"],value:this.state.yearCalendarSearch,onChange:this.handleDateChange}))),!0===this.state.hit&&""!==S&&null!==N?r.a.createElement(F.k,{style:{paddingTop:30,paddingRight:"4%"},item:!0,xs:12,sm:12,md:3},r.a.createElement(F.c,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){s.handleTrailerSearch(S,N)},classes:{root:i.button,label:i.label},disabled:E},E&&r.a.createElement(ae,null)||!E&&"Apply")):!1===this.state.hit&&""===S&&null===N?r.a.createElement(F.k,{style:{paddingTop:30,paddingRight:"4%"},item:!0,xs:12,sm:12,md:3},r.a.createElement(F.c,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){s.setState({alert:!0,alertMessage:"Please Select Trailer No. and Year & Month to Proceed"})},classes:{root:i.button,label:i.label},disabled:E},E&&r.a.createElement(ae,null)||!E&&"Apply")):!1===this.state.hit&&""!==S&&null===N?r.a.createElement(F.k,{style:{paddingTop:30,paddingRight:"4%"},item:!0,xs:12,sm:12,md:3},r.a.createElement(F.c,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){s.setState({alert:!0,alertMessage:"Please Select Year & Month to Proceed"})},classes:{root:i.button,label:i.label},disabled:E},E&&r.a.createElement(ae,null)||!E&&"Apply")):!1===this.state.hit&&""===S&&null!==N?r.a.createElement(F.k,{style:{paddingTop:30,paddingRight:"4%"},item:!0,xs:12,sm:12,md:3},r.a.createElement(F.c,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){s.setState({alert:!0,alertMessage:"Please Select Trailer No. to Proceed"})},classes:{root:i.button,label:i.label},disabled:E},E&&r.a.createElement(ae,null)||!E&&"Apply")):r.a.createElement(F.k,{style:{paddingTop:30,paddingRight:"4%"},item:!0,xs:12,sm:12,md:3},r.a.createElement(F.c,{fullWidth:!0,variant:"outlined",color:"secondary",onClick:function(){s.setState({alert:!0,alertMessage:"Please Wait, Your request is progress..."})},classes:{root:i.button,label:i.label},disabled:E},E&&r.a.createElement(ae,null)||!E&&"Apply")))),r.a.createElement("div",{className:i.root,style:{paddingTop:20}},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-1)"),r.a.createElement(Xe.a,(e={classNamePrefix:"select",value:d},Object(h.a)(e,"value",{value:this.state.roasterDriShift1,label:this.state.roasterDriShift1}),Object(h.a)(e,"onChange",this.handleDriverChangeUpdate1),Object(h.a)(e,"options",this.state.drivers),Object(h.a)(e,"backspaceRemovesValue",!0),Object(h.a)(e,"isClearable",!0),Object(h.a)(e,"isSearchable",!0),Object(h.a)(e,"isOptionSelected",!0),Object(h.a)(e,"blurInputOnSelect",!0),e))),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-2)"),r.a.createElement(Xe.a,(t={classNamePrefix:"select",value:m},Object(h.a)(t,"value",{value:this.state.roasterDriShift2,label:this.state.roasterDriShift2}),Object(h.a)(t,"onChange",this.handleDriverChangeUpdate2),Object(h.a)(t,"options",this.state.drivers),Object(h.a)(t,"backspaceRemovesValue",!0),Object(h.a)(t,"isClearable",!0),Object(h.a)(t,"isSearchable",!0),Object(h.a)(t,"isOptionSelected",!0),Object(h.a)(t,"blurInputOnSelect",!0),t))))),r.a.createElement("div",{className:i.root,style:{paddingTop:20}},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:4},r.a.createElement("label",{className:"calendarLable"},"Leave Day"),r.a.createElement(Xe.a,(a={classNamePrefix:"select",value:u},Object(h.a)(a,"value",{value:this.state.leaveDay,label:this.state.leaveDay}),Object(h.a)(a,"onChange",this.handleLeaveDayChange),Object(h.a)(a,"options",D),Object(h.a)(a,"backspaceRemovesValue",!0),Object(h.a)(a,"isClearable",!0),Object(h.a)(a,"isSearchable",!0),Object(h.a)(a,"isOptionSelected",!0),Object(h.a)(a,"blurInputOnSelect",!0),a))),r.a.createElement(F.k,{item:!0,xs:12,sm:4},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-1) Leave"),r.a.createElement(Xe.a,(n={classNamePrefix:"select",value:f},Object(h.a)(n,"value",{value:this.state.roasterDriShift3Leave,label:this.state.roasterDriShift3Leave}),Object(h.a)(n,"onChange",this.handleDriverChangeUpdate3),Object(h.a)(n,"options",this.state.drivers),Object(h.a)(n,"backspaceRemovesValue",!0),Object(h.a)(n,"isClearable",!0),Object(h.a)(n,"isSearchable",!0),Object(h.a)(n,"isOptionSelected",!0),Object(h.a)(n,"blurInputOnSelect",!0),n))),r.a.createElement(F.k,{item:!0,xs:12,sm:4},r.a.createElement("label",{className:"calendarLable"},"Driver (Shift-2) Leave"),r.a.createElement(Xe.a,(l={classNamePrefix:"select",value:v},Object(h.a)(l,"value",{value:this.state.roasterDriShift4Leave,label:this.state.roasterDriShift4Leave}),Object(h.a)(l,"onChange",this.handleDriverChangeUpdate4),Object(h.a)(l,"options",this.state.drivers),Object(h.a)(l,"backspaceRemovesValue",!0),Object(h.a)(l,"isClearable",!0),Object(h.a)(l,"isSearchable",!0),Object(h.a)(l,"isOptionSelected",!0),Object(h.a)(l,"blurInputOnSelect",!0),l))))),r.a.createElement("div",{className:"pt-2 pb-2"},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,disablePast:!0,margin:"normal",label:"From Date",value:y,onChange:this.handleDateChangeFrom}))),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(_e.c,{utils:We.a},r.a.createElement(_e.a,{keyboard:!0,fullWidth:!0,clearable:!0,minDate:y,margin:"normal",label:"To Date",value:C,onChange:this.handleDateChangeTo}))))),r.a.createElement("div",{className:"d-flex justify-content-center pt-2"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",classes:{root:i.button,label:i.label},disabled:b},b&&r.a.createElement(ae,null)||!b&&"Save"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:i.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),Wa=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600}}})(Ua),_a=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleChangeType=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value)),a.check(e.target.value)},a.handleStartLocationChange=function(e){null!==e&&(a.setState({selectedStartLocationOption:e}),a.setState({startLoc:e.locName}),a.setState({startLocId:e.locId}),a.setState({startLocLatLong:e.latLong}))},a.handleEndLocationChange=function(e){null!==e&&(a.setState({selectedEndLocationOption:e}),a.setState({endLoc:e.locName}),a.setState({endLocId:e.locId}),a.setState({endLocLatLong:e.latLong}))},a.state={locations:a.props.locations,contType:"",contWt:"",type:"",tripTypeId:"",tripType:"",startLoc:"",startLocId:"",startLocLatLong:"",endLoc:"",endLocId:"",endLocLatLong:"",distance:"",fuelReq:"",driInc:"",submitted:!1,alert:!1,alertMessage:"",switch:!1},a.handleChange=a.handleChange.bind(Object(R.a)(Object(R.a)(a))),a.handleChangeType=a.handleChangeType.bind(Object(R.a)(Object(R.a)(a))),a.handleStartLocationChange=a.handleStartLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.handleEndLocationChange=a.handleEndLocationChange.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.check=a.check.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"check",value:function(e){console.log(e,"Trip Type"),1===e?this.setState({switch:!0}):this.setState({switch:!1})}},{key:"loader",value:function(){var e=this;this.setState({submitted:!0},function(){setTimeout(function(){return e.setState({submitted:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({alert:!1})}},{key:"onSubmit",value:function(){var e=Object(c.a)({},this.state),t=e.type,a=e.startLoc,n=e.endLoc,l=e.distance,r=e.fuelReq,s=e.driInc,i=e.tripTypeId;e.startLocLatLong,e.endLocLatLong;if(""!==t&&""!==this.state.contType&&""!==this.state.contWt&&""!==(a&&n)&&a!==n){this.loader();var o=this.state.contType,d=this.state.contWt;this.props.createTrip({type:t,startLoc:a,endLoc:n,distance:l,fuelReq:r,driInc:s,tripTypeId:i,contType:o,contWt:d})}else if(""!==t&&1===i&&""!==(a&&n)&&a!==n){this.loader();this.props.createTrip({type:t,startLoc:a,endLoc:n,distance:l,fuelReq:r,driInc:s,tripTypeId:i,contType:0,contWt:0})}else""===(i&&a&&n)?this.setState({alert:!0,alertMessage:"Trip Type, Container Type, Type, Start Location & End Location are Required"}):""!==(a&&n)&&a===n?this.setState({alert:!0,alertMessage:"Start Location & End Location should not Match"}):(this.state.tripTypeId,""===this.state.contWt&&this.setState({alert:!0,alertMessage:"Container Wt (Ts) should not be Empty"}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.submitted,l=a.selectedStartLocationOption,s=a.selectedEndLocationOption;return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"600px"}},r.a.createElement("h6",{className:"custom"},"Create Trip"),r.a.createElement("div",{className:"container p-3"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.j,{className:t.formControl},r.a.createElement(F.o,{htmlFor:"tripId"},"Trip Type"),r.a.createElement(F.y,{value:this.state.tripTypeId,onChange:this.handleChangeType,inputProps:{name:"tripTypeId",id:"tripId"}},r.a.createElement(F.u,{value:1},"Empty"),r.a.createElement(F.u,{value:2},"Loaded"),r.a.createElement(F.u,{value:3},"Empty Container")))),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.j,{className:t.formControl},r.a.createElement(F.o,{htmlFor:"containterType"},"Container Type"),r.a.createElement(F.y,{value:this.state.contType,onChange:this.handleChange,disabled:this.state.switch,inputProps:{name:"contType",id:"containerType"}},r.a.createElement(F.u,{value:20},"20 Feet"),r.a.createElement(F.u,{value:40},"40 Feet")))),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(F.j,{className:t.formControl},r.a.createElement(F.o,{htmlFor:"typeId"},"Type"),r.a.createElement(F.y,{value:this.state.type,onChange:this.handleChangeType,inputProps:{name:"type",id:"typeId"}},["BULK","CF","DC","FR","HARDTOP","HC","OP","OS","OT","PF","RF","TANK","TC"].map(function(e){return r.a.createElement(F.u,{value:e},e)})))))),r.a.createElement("div",{className:t.root,style:{paddingTop:20}},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"}),r.a.createElement(Xe.a,{defaultInputValue:"",classNamePrefix:"select",components:$e()(),value:l,onChange:this.handleStartLocationChange,options:this.state.locations,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0,placeholder:"Start Location"})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement("label",{className:"calendarLable"}),r.a.createElement(Xe.a,{defaultInputValue:"",classNamePrefix:"select",components:$e()(),value:s,onChange:this.handleEndLocationChange,options:this.state.locations,backspaceRemovesValue:!0,isClearable:!0,isSearchable:!0,isOptionSelected:!0,blurInputOnSelect:!0,placeholder:"End Location"})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contWt",label:"Container Wt (Ts)",value:this.state.contWt,onChange:this.handleChange,disabled:this.state.switch})),r.a.createElement(F.k,{item:!0,xs:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"distance",label:"Distance (Km)",value:this.state.distance,onChange:this.handleChange,validators:["required","isFloat"],errorMessages:["Distance is required"]})),r.a.createElement(F.k,{item:!0,xs:2},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"fuelReq",label:"Fuel (Ltr)",value:this.state.fuelReq,onChange:this.handleChange,validators:["required","isFloat"],errorMessages:["Fuel is required"]})),r.a.createElement(F.k,{item:!0,xs:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"driInc",label:"Incentive (\u20b9)",value:this.state.driInc,onChange:this.handleChange,validators:["required","isFloat"],errorMessages:["Incentive is required"]})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:t.button,label:t.saveLabel},disabled:n},n&&r.a.createElement(ae,null)||!n&&"Submit"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.button,label:t.cancelLabel},onClick:function(){return e.props.closeModal(!1)}},"Cancel"))))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]}))}}]),t}(l.Component),Ba=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%",marginTop:2*e.spacing.unit},button:{margin:e.spacing.unit},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"}}})(_a),Ya=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.state={id:a.props.selectedRow.tripId,type:a.props.selectedRow.type,tripTypeId:a.props.selectedRow.tripTypeId,startLoc:a.props.selectedRow.startLoc,endLoc:a.props.selectedRow.endLoc,distance:a.props.selectedRow.distance,fuelReq:a.props.selectedRow.fuelReq,driInc:a.props.selectedRow.driInc,tripType:a.props.selectedRow.tripTypeId,contType:a.props.selectedRow.contType,contWt:a.props.selectedRow.contWt,submitted:!1},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(h.a)({},n,a))}},{key:"loader",value:function(){var e=this;this.setState({submitted:!0},function(){setTimeout(function(){return e.setState({submitted:!1})},5e3)})}},{key:"onSubmit",value:function(){this.loader();var e=Object(c.a)({},this.state),t=e.id,a=e.fuelReq,n=e.driInc;this.props.modifyTrip(t,{fuelReq:a,driInc:n})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.submitted;return r.a.createElement("div",{className:"container",style:{paddingLeft:"0px",paddingRight:"0px"}},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"custom"},"Modify Trip"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripTypeId",label:"Trip ID",value:this.state.id,InputProps:{classes:{underline:t.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"tripType",label:"Trip Type",value:1===this.state.tripType?"Empty":2===this.state.tripType?"Loaded":"Empty Container",InputProps:{classes:{underline:t.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contType",label:"Container Type",value:this.state.contType,InputProps:{classes:{underline:t.cssUnderline}}})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contWt",label:"Container Wt",value:this.state.contWt,InputProps:{classes:{underline:t.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"type",label:"Type",value:this.state.type,InputProps:{classes:{underline:t.cssUnderline}}})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"startLoc",label:"From Location",value:this.state.startLoc,InputProps:{classes:{underline:t.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"endLoc",label:"To Location",value:this.state.endLoc,InputProps:{classes:{underline:t.cssUnderline}}})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"distance",label:"Distance (Km)",value:this.state.distance,InputProps:{classes:{underline:t.cssUnderline}}})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"fuelReq",label:"Fuel (Ltr)",value:this.state.fuelReq,onChange:this.onInputChange,validators:["required","isNumber"],errorMessages:["Fuel is required"]})),r.a.createElement(F.k,{item:!0,xs:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"driInc",label:"Incentive (\u20b9)",value:this.state.driInc,onChange:this.onInputChange,validators:["required","isNumber"],errorMessages:["Incentive is required"]})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: Only Fuel and Incentive Fields are Editable")),r.a.createElement("div",{className:"d-flex justify-content-center pt-3"},r.a.createElement(F.c,{type:"submit",variant:"contained",classes:{root:t.button,label:t.saveLabel},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Save"),r.a.createElement(F.c,{variant:"contained",classes:{root:t.button,label:t.cancelLabel},onClick:function(){return e.props.closeModal(!1)}},"Cancel")))))))}}]),t}(l.Component),qa=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:"100%"},button:{margin:e.spacing.unit,backgroundColor:"#e0e0e0"},saveLabel:{textTransform:"capitalize",fontWeight:600,color:"#14A474"},cancelLabel:{textTransform:"capitalize",fontWeight:600,color:"#dc3545c9"},cssUnderline:{color:"#dc3545c9"}}})(Ya),za=function e(){Object(O.a)(this,e)};za.SET_ADMIN_MANAGE_TRIPS_DATA=function(e){return{type:"SET_ADMIN_MANAGE_TRIPS_DATA",payload:{data:e}}};var Ga=Object(B.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(je),Ha=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a.state={getApi:!1,rows:[],locations:[],tripType:"",page:0,rowsPerPage:5,open:!1,selectedModal:"",selectedRow:{},status:"",message:"",errMessage:""},a.createTrip=a.createTrip.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeTrip=a.closeTrip.bind(Object(R.a)(Object(R.a)(a))),a.messageModal=a.messageModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.modifyTrip=a.modifyTrip.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getTrips",value:function(){var e=this;ee.adminManageTrips.get(null,null).then(function(t){console.log(t.trips,"CREATED TRIPS"),e.props.setTripsData(t.trips),e.setState({rows:t.trips,tripType:t.trips.tripTypeId,getApi:!0})}).catch(function(t){500===t.code&&(e.messageModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"getLocations",value:function(){var e=this;ee.endLocList.get(null,null).then(function(t){console.log(t.locations,"Locations List"),e.setState({locations:t.locations})}).catch(function(e){return console.log(e)})}},{key:"componentWillMount",value:function(){return this.getTrips(),this.getLocations(),1===this.state.tripType?"Empty":2===this.state.tripType?"Loaded":"Empty Container"}},{key:"createTrip",value:function(e){var t=this;ee.adminManageTrips.post(null,e).then(function(e){console.log(e,"Create Trips"),t.closeTrip(!0);var a=e.message;!0===e.success&&(t.messageModal(),t.setState({status:e.trips,message:a}))}).catch(function(e){500===e.code&&(t.messageModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getTrips()}},{key:"modifyTrip",value:function(e,t){var a=this;console.log(t,"Before Update Data................"),ee.adminManageTrips.put("/"+e,t).then(function(e){console.log(e,"Update Data"),a.closeTrip(!0);var t=e.message;!0===e.success&&(a.messageModal(),a.setState({status:e.trips,message:t}))}).catch(function(e){500===e.code&&(a.messageModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getTrips()}},{key:"messageModal",value:function(){var e=this;this.setState({open:!0,selectedModal:"message"},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1,selectedModal:""})}},{key:"openModal",value:function(){this.setState({open:!0,selectedModal:"create"})}},{key:"modifyDetails",value:function(e){this.setState({open:!0,selectedModal:"modify",selectedRow:e})}},{key:"closeTrip",value:function(e){e&&this.getTrips(),this.setState({open:!1,selectedModal:""})}},{key:"renderList",value:function(){var e=this,t=this.props,a=t.classes,n=t.state,l=this.state,s=l.getApi,i=l.rowsPerPage,o=l.page;return!1===s?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null)))):0===n.trips.length?r.a.createElement(F.G,null,r.a.createElement(F.C,{colSpan:12},r.a.createElement("div",{className:"d-flex justify-content-center"},"No Data Found !"))):n.trips.slice(o*i,o*i+i).map(function(t,n){return r.a.createElement(F.G,{key:n},r.a.createElement(F.C,null,n+1),r.a.createElement(F.C,null,t.tripId),r.a.createElement(F.C,null,1===t.tripTypeId?"Empty":2===t.tripTypeId?"Loaded":"Empty Container"),r.a.createElement(F.C,null,t.contType),r.a.createElement(F.C,null,t.contWt),r.a.createElement(F.C,null,t.type),r.a.createElement(F.C,null,t.startLoc),r.a.createElement(F.C,null,t.endLoc),r.a.createElement(F.C,null,t.distance),r.a.createElement(F.C,null,t.fuelReq),r.a.createElement(F.C,null,t.driInc),r.a.createElement(F.C,null,r.a.createElement(F.c,{variant:"outlined",color:"secondary",classes:{root:a.button,label:a.label},onClick:function(){e.modifyDetails(t)}},"Modify")))})}},{key:"renderModalContent",value:function(){return"create"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(Ba,{createTrip:this.createTrip,locations:this.state.locations,closeModal:this.closeModal})):"modify"===this.state.selectedModal?r.a.createElement(F.f,{style:{padding:0}},r.a.createElement(qa,{closeModal:this.closeModal,modifyTrip:this.modifyTrip,selectedRow:this.state.selectedRow})):"message"===this.state.selectedModal?r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection")):null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rows,l=a.rowsPerPage,s=a.page;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Manage Trips"),r.a.createElement(F.w,{className:t.root},r.a.createElement(F.H,{className:t.toolBar},r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12 "},r.a.createElement("div",{className:"row float-right"},r.a.createElement(F.c,{color:"primary",variant:"contained",classes:{root:t.mainButton,label:t.label},onClick:this.openModal},"Create Trip")))),r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(F.A,{className:t.table},r.a.createElement(F.E,null,r.a.createElement(F.G,null,r.a.createElement(F.C,null,"S.No."),r.a.createElement(F.C,null,"Trip ID"),r.a.createElement(F.C,null,"Trip Type"),r.a.createElement(F.C,null,"Container Type"),r.a.createElement(F.C,null,"Container Wt (Ts)"),r.a.createElement(F.C,null,"Type"),r.a.createElement(F.C,null,"From Location"),r.a.createElement(F.C,null,"To Location"),r.a.createElement(F.C,null,"Distance (Km)"),r.a.createElement(F.C,null,"Fuel (Ltr)"),r.a.createElement(F.C,null,"Incentive (\u20b9)"),r.a.createElement(F.C,null,"Action"))),r.a.createElement(F.B,null,this.renderList()),r.a.createElement(F.D,null,r.a.createElement(F.G,null,r.a.createElement(F.F,{className:t.tablePagination,rowsPerPageOptions:[5,10,25],colSpan:3,count:n.length,rowsPerPage:l,page:s,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Ga})))))),r.a.createElement(F.e,{open:this.state.open,onClose:function(){return e.closeModal(!1)},"aria-labelledby":"responsive-dialog-title",classes:{paper:t.dialogPaper}},this.renderModalContent()))}}]),t}(l.Component),Ka=Object(o.b)(function(e){return{auth:e.auth,state:e.adminManageTrips}},function(e){return{setTripsData:function(t){e(za.SET_ADMIN_MANAGE_TRIPS_DATA(t))}}})(Object(B.withStyles)(Me)(Ha)),Ja=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={getApi:!1,idleTime:"",balShiftTime:"",pendency:"",pickUpLoc:"",compRoundTrip:"",groundRent:"",open:!1,validators:["required","isNumber","minNumber:0","maxNumber:99"],status:!1,submitted:!1,message:"",errMessage:"",alert:!1,alertMessage:""};var n=Object(c.a)({},a.state),l=n.idleTime,r=n.balShiftTime,s=n.pendency,i=n.pickUpLoc,o=n.compRoundTrip,d=n.groundRent;return a.initialState={idleTime:l,balShiftTime:r,pendency:s,pickUpLoc:i,compRoundTrip:o,groundRent:d},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.resetData=a.resetData.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"onInputChange",value:function(e){this.setState(Object(h.a)({},e.target.name,Number(e.target.value)))}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"fetchIntel",value:function(){var e=this;ee.adminTripsIntel.get().then(function(t){if(console.log(t,"Trip Intelligence............."),!0===t.success&&t.intel.length>0){var a=t.intel[0];e.setState({getApi:!0,idleTime:a.idleTime,balShiftTime:a.balShiftTime,pendency:a.pendency,pickUpLoc:a.pickUpLoc,compRoundTrip:a.compRoundTrip,groundRent:a.groundRent})}}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentWillMount",value:function(){this.fetchIntel()}},{key:"createTripIntel",value:function(e){var t=this;ee.adminTripsIntel.post(null,e).then(function(e){console.log(e,"Trip Intelligence.............");var a=e.message;!0===e.success&&(t.openModal(),t.setState({message:a}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"loader",value:function(){this.setState({submitted:!0}),this.createTripIntel(this.state),this.fetchIntel()}},{key:"onSubmit",value:function(){return 100===[this.state.idleTime,this.state.balShiftTime,this.state.pendency,this.state.pickUpLoc,this.state.compRoundTrip,this.state.groundRent].reduce(function(e,t){return e+t})?this.loader():this.setState({alert:!0,alertMessage:"Please check the Count it must be Equal to 100"})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.getApi,n=t.submitted,l=t.idleTime,s=t.balShiftTime,i=t.pendency,o=t.pickUpLoc,c=t.compRoundTrip,d=t.groundRent;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Trip Intelligence"),!1===a?r.a.createElement("div",{className:"container",style:{position:"relative",top:"15rem"}},r.a.createElement("div",{className:"d-flex justify-content-center pt-50"},r.a.createElement(he,null))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"550px"}},r.a.createElement("h6",{className:"customHeader"},"Trip Intelligence"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"idleTime",label:"Idle Time",value:this.state.idleTime,onChange:this.onInputChange,validators:this.state.validators,errorMessages:["Idle Time is required"]})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"balShiftTime",label:"Balance Shift Time",value:this.state.balShiftTime,onChange:this.onInputChange,validators:this.state.validators,errorMessages:["Balance Shift Time is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"pendency",label:"Pendency",value:this.state.pendency,onChange:this.onInputChange,validators:this.state.validators,errorMessages:["Pendency is required"]})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"pickUpLoc",label:"Near Pickup Location",value:this.state.pickUpLoc,onChange:this.onInputChange,validators:this.state.validators,errorMessages:["Pickup Location is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"compRoundTrip",label:"Complete Round Trip",value:this.state.compRoundTrip,onChange:this.onInputChange,validators:this.state.validators,errorMessages:["Round Trip is required"]})),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"groundRent",label:"Ground Rent",value:this.state.groundRent,onChange:this.onInputChange,validators:this.state.validators,errorMessages:["Ground Rent is required"]})))),r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(F.I,{variant:"caption",className:"d-flex pt-4"},"Note: All Fields Sum Must be Equal to 100")),r.a.createElement(F.k,{item:!0,xs:6},r.a.createElement(F.c,{color:"secondary",variant:"outlined",classes:{root:e.button,label:e.label}},l+s+i+o+c+d)))),r.a.createElement("div",{className:"d-flex justify-content-center pt-2"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:e.button,label:e.label},disabled:n},n&&r.a.createElement(ae,null)||!n&&"Submit"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),Qa=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing.unit,minHeight:"35px",marginTop:"1rem",marginLeft:0},label:{textTransform:"capitalize",fontWeight:600}}})(Ja),Xa=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleCheckedCreate=function(e){a.setState({selectedValue:e.target.value,userType:"",eCode:"",name:"",phone:""}),a.getUsers()},a.handleCheckedUpdate=function(e){a.setState({selectedValue:e.target.value,userTypeUpdate:"",eCode:"",uName:"",mobile:""}),a.getManageUsers()},a.state={labelWidth:0,selectedValue:"Create User",userType:"",userTypeUpdate:"",eCode:"",name:"",phone:"",info:[],updateInfo:[],driverInfo:[],securityInfo:[],executiveInfo:[],cfsManagerInfo:[],userData:[],uName:"",mobile:"",message:"",eMessage:"",status:"",submitted:!1,errMessage:"",hit:"",code:"",alert:!1,alertMessage:"",open:!1};var n=Object(c.a)({},a.state),l=n.userType,r=n.userTypeUpdate,s=n.eCode,i=n.model,o=n.name,d=n.phone,m=n.uName,u=n.mobile;return a.initialState={userType:l,userTypeUpdate:r,eCode:s,model:i,name:o,phone:d,uName:m,mobile:u},a.onInputChangeUserType=a.onInputChangeUserType.bind(Object(R.a)(Object(R.a)(a))),a.onInputChangeUpdate=a.onInputChangeUpdate.bind(Object(R.a)(Object(R.a)(a))),a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.validateChange=a.validateChange.bind(Object(R.a)(Object(R.a)(a))),a.handleInputSearchCreate=a.handleInputSearchCreate.bind(Object(R.a)(Object(R.a)(a))),a.handleInputSearchUpdate=a.handleInputSearchUpdate.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getUsers",value:function(){var e=this;ee.adminManageUsersList.get().then(function(t){var a=t.users;console.log(a,"Users Create List"),e.setState({info:a})}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"getManageUsers",value:function(){var e=this;ee.adminManageUsersActive.get().then(function(t){console.log(t.users,"Users Update List");var a=t.users,n=a.filter(function(e){return 10===e.user_type_code}),l=a.filter(function(e){return 20===e.user_type_code}),r=a.filter(function(e){return 30===e.user_type_code}),s=a.filter(function(e){return 50===e.user_type_code});e.setState({updateInfo:a,driverInfo:n,securityInfo:l,executiveInfo:r,cfsManagerInfo:s})}).catch(function(t){500===t.code&&(e.openModal(),e.setState({errMessage:t.serverMessage})),console.log(t,"Error")})}},{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth}),this.getUsers()}},{key:"validateChange",value:function(e){var t=this.state.userType;1===t?this.setState({alert:!0,alertMessage:"User Name Can't be Changed !"}):1!==t&&this.onInputChange(e)}},{key:"onInputChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"onInputChangeUserType",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value)),1!==this.state.userType?this.handleInputSearchCreate(e):this.setState({eCode:"",name:""})}},{key:"handleInputSearchCreate",value:function(e){if(e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value)),1===this.state.userType){var t=this.state.info.find(function(t){return t.eCode===e.target.value});void 0!==t?null!==t.name||""!==t.name?this.setState({userData:t,name:t.name}):null!==t.name&&""!==t.name||this.setState({name:""}):void 0===t&&this.setState({userData:t,name:"",hit:"True"})}}},{key:"onInputChangeUpdate",value:function(e){var t;this.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"eCode",""),Object(h.a)(t,"uName",""),t))}},{key:"updatedData",value:function(e,t){var a=e.find(function(e){return e.system_user_id===t.target.value});void 0!==a?this.setState({userData:a,eCode:a.system_user_id,uName:a.name}):this.setState({uName:""})}},{key:"handleInputSearchUpdate",value:function(e){e.preventDefault(),this.setState(Object(h.a)({},e.target.name,e.target.value));var t=this.state,a=t.userTypeUpdate,n=t.driverInfo,l=t.securityInfo,r=t.executiveInfo,s=t.cfsManagerInfo;1===a?this.updatedData(n,e):2===a?this.updatedData(l,e):3===a?this.updatedData(r,e):5===a&&this.updatedData(s,e)}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"createUser",value:function(e){var t=this;ee.adminManageUsers.post(null,e).then(function(e){console.log(e,"Created User Details"),201===e.status?(t.openModal(),t.setState({code:e.status,message:e.message})):400===e.status&&(t.openModal(),t.setState({code:e.status,message:e.error}))}).catch(function(e){500===e.code&&(t.openModal(),t.setState({errMessage:e.serverMessage})),console.log(e,"Error")}),this.getUsers()}},{key:"updateUser",value:function(e,t){var a=this;t.eCode=e,ee.adminManageUsers.put(null,t).then(function(e){console.log(e,"Updated User Details");var t=e.message;200===e.status&&(a.openModal(),a.setState({code:e.status,message:t}))}).catch(function(e){500===e.code&&(a.openModal(),a.setState({errMessage:e.serverMessage})),console.log(e,"Error")})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(){var e=this.state,t=e.userType,a=e.userTypeUpdate,n=e.name,l=e.uName;if(this.setState({status:this.state.eCode}),"Create User"===this.state.selectedValue)""!==(t&&n)?(this.loader(),this.createUser(this.state)):1===t&&""===n?this.setState({alert:!0,alertMessage:"Can't Create Driver, Employee ID Not Found ! in Master Data"}):this.setState({alert:!0,alertMessage:"User Type and User Name are Required"});else if(""!==(a&&l)){this.loader();var r=this.state.eCode,s=this.state.mobile;this.updateUser(r,{name:this.state.uName,phone:s,userType:this.state.userTypeUpdate})}else this.setState({alert:!0,alertMessage:"User Type and User Name are Required"})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.submitted,n=this.state.selectedValue;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Manage Users"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"350px"}},r.a.createElement("h6",{className:"customHeader"},"Manage Users"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(F.x,{checked:"Create User"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Create User",name:"radio-button-demo",classes:{root:t.radio}}),r.a.createElement("label",null,"Create User "),r.a.createElement(F.x,{checked:"Update User"===this.state.selectedValue,onChange:this.handleCheckedUpdate,value:"Update User",name:"radio-button-demo",classes:{root:t.radio}}),r.a.createElement("label",null,"Update User"),"Create User"===n?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"user-type"},"User Type"),r.a.createElement(F.y,{value:this.state.userType,onChange:this.onInputChangeUserType,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"userType",id:"user-type"})},r.a.createElement(F.u,{value:5},"CFS Manager"),r.a.createElement(F.u,{value:1},"Driver"),r.a.createElement(F.u,{value:2},"Security"),r.a.createElement(F.u,{value:3},"Executive"),r.a.createElement(F.u,{value:7},"Diesel Issuer"))),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"eCode",label:"Employee ID",value:this.state.eCode,onChange:this.handleInputSearchCreate,validators:["required"],errorMessages:["Employee ID is required"]}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"name",label:"User Name",value:this.state.name,onChange:this.validateChange}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"phone",label:"Mobile No.",value:this.state.phone,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Mobile Number is required"]}),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:t.button,label:t.label},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Submit"))):r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"user-type"},"User Type"),r.a.createElement(F.y,{value:this.state.userTypeUpdate,onChange:this.onInputChangeUpdate,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"userTypeUpdate",id:"user-type"})},r.a.createElement(F.u,{value:5},"CFS Manager"),r.a.createElement(F.u,{value:1},"Driver"),r.a.createElement(F.u,{value:2},"Security"),r.a.createElement(F.u,{value:3},"Executive"))),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"eCode",label:"Employee ID",value:this.state.eCode,onChange:this.handleInputSearchUpdate,validators:["required"],errorMessages:["Employee ID is required"]}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"uName",label:"User Name",value:this.state.uName,InputProps:{classes:{underline:t.cssUnderline}}}),r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"mobile",label:"Mobile No.",value:this.state.mobile,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Mobile Number is required"]}),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",color:"primary",variant:"contained",classes:{root:t.button,label:t.label},disabled:a},a&&r.a.createElement(ae,null)||!a&&"Save"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),Za=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderline:{color:"#dc3545c9"}}})(Xa),$a=a(255),en=a.n($a),tn=a(482),an=a.n(tn),nn=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onFilesChange=function(e){a.setState({files:e},function(){console.log(a.state.files)})},a.filesRemoveOne=function(e){a.refs.files.removeFile(e)},a.filesRemoveAll=function(){a.refs.files.removeFiles()},a.filesUpload=function(){if(""!==a.state.userType&&0!==a.state.files.length){a.loader();var e=a.state.files,t=e[0];console.log(e[0],"..........FILE Type..........."),a.uploadFiles("https://cfsmanager-dev.azurewebsites.net/api/admin/files",t)}else a.setState({alert:!0,alertMessage:"Select Data & File are Required"})},a.state={labelWidth:0,userType:"",files:[],open:!1,submitted:!1,message:"",errMessage:"",alert:!1,alertMessage:""};var n=Object(c.a)({},a.state),l=n.userType,r=n.files;return a.initialState={userType:l,files:r},a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onFilesChange=a.onFilesChange.bind(Object(R.a)(Object(R.a)(a))),a.onFilesError=a.onFilesError.bind(Object(R.a)(Object(R.a)(a))),a.filesUpload=a.filesUpload.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.uploadFiles=a.uploadFiles.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"onInputChange",value:function(e){this.setState(Object(h.a)({},e.target.name,[e.target.value]))}},{key:"onFilesError",value:function(e,t){console.log("error code "+e.code+": "+e.message)}},{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)}),this.resetData()}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"uploadFiles",value:function(e,t){console.log(t,"New File");var a=new XMLHttpRequest,n=new FormData;n.append("adminFile",t,t.name),a.onreadystatechange=function(){4===a.readyState&&console.log(a,"XHR")},this.openModal(),this.setState({message:"Successfully Uploaded File"}),a.open("PUT",e);var l=localStorage.getItem("auth");console.log(" Token ",JSON.parse(l).token),a.setRequestHeader("Authorization",JSON.parse(l).token),a.send(n)}},{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"onSubmit",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.submitted;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Upload Master Data"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"350px"}},r.a.createElement("h6",{className:"customHeader"},"Upload Master Data"),r.a.createElement("div",{className:"container p-4"},r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"user-type"},"Select Data"),r.a.createElement(F.y,{value:this.state.userType,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"userType",id:"user-type"})},r.a.createElement(F.u,{value:"trailer_info"},"Trailer Info"),r.a.createElement(F.u,{value:"driver_info"},"Driver Info"),r.a.createElement(F.u,{value:"maintenance_info"},"Maintenance Info"))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(an.a,{ref:"files",className:"files-dropzone",onChange:this.onFilesChange,onError:this.onFilesError,accepts:[".csv"],multiple:!0,maxFiles:3,maxFileSize:1e7,minFileSize:0,clickable:!0},r.a.createElement(F.c,{type:"file",name:"adminFile",variant:"text",color:"primary",classes:{root:t.button,label:t.label}},r.a.createElement(en.a,{style:{fontSize:"3rem",cursor:"pointer"}})))),r.a.createElement("h6",{className:"browse pb-2"},"Click Here to Browse File"),this.state.files.length>0?r.a.createElement("div",{className:"files-list"},r.a.createElement("div",null,this.state.files.map(function(t){return r.a.createElement("div",{className:"files-list-item col-12 col-sm-12 col-md-12 col-lg-12 pt-2 pb-2",key:t.id},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 col-sm-3 col-md-3 col-lg-3"},r.a.createElement("img",{src:"/assets/icons/csv.svg",className:"img-fluied d-flex justify-content-center csv",alt:"CSV File"})),r.a.createElement("div",{className:"files-list-item-content col-6 col-sm-6 col-md-6 col-lg-6"},r.a.createElement("div",{className:"files-list-item-content-item files-list-item-content-item-1"},t.name),r.a.createElement("div",{className:"files-list-item-content-item files-list-item-content-item-2"},t.sizeReadable)),r.a.createElement("div",{className:"col-3 col-sm-3 col-md-3 col-lg-3 mt-3"},r.a.createElement(F.c,{id:t.id,variant:"text",className:"files-list-item-remove ",onClick:e.filesRemoveOne.bind(e,t)},r.a.createElement("img",{src:"/assets/icons/cancel.svg",className:"img-fluied d-flex justify-content-center cancelIcon",alt:"Cancel"})))),r.a.createElement("hr",null))}))):null,r.a.createElement("div",{className:"d-flex justify-content-center pt-2"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",classes:{root:t.button,label:t.label},onClick:this.filesUpload,disabled:a},a&&r.a.createElement(ae,null)||!a&&"Upload"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Tick Mark",className:"img-fluied d-flex justify-content-center tick"}),this.state.message))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),ln=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600}}})(nn),rn=a(108),sn=a(272),on=a.n(sn),cn=function(e){return{main:{width:"70vw",margin:"20px auto",display:"block"},paper:{marginBottom:"2rem",display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},textMuted:{color:"#989595",fontWeight:600}}},dn=a(484),mn=a(217),un=a(71),hn=a(132),pn=a(284);un.f(pn.a);var gn=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={chartId:Math.round(1e6*Math.random())+""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"renderChart",value:function(e){console.log("datas",e);var t=un.d(this.state.chartId,hn.d);t.legend=new hn.c,t.fontSize="14px";var a=t.series.push(new hn.e);a.dataFields.value="value",a.dataFields.category="key",console.log("pieSeries",a),a.labels.template.disabled=!0,a.labels.template.text="{category}: {value.value}",a.slices.template.tooltipText="{category}: [bold]{value}",t.legend.valueLabels.template.text="[bold]{value.value}",t.innerRadius=un.e(0),a.slices.template.stroke=un.c("#fff"),a.slices.template.strokeWidth=0,a.slices.template.strokeOpacity=0,a.ticks.template.disabled=!0,a.slices.template.filters.push(new un.b).opacity=0;var n=a.slices.template.states.getKey("hover").filters.push(new un.b);n.opacity=.7,n.blur=5;var l=new un.a;l.list=[un.c("#99ffeb"),un.c("#ffb3e6"),un.c("#d9b3ff"),un.c("#757ee6")],a.colors=l,t.legend.position="right",t.legend.fontSize="12px",t.legend.itemContainers.template.clickable=!1,t.data=e,this.chart=t}},{key:"componentWillReceiveProps",value:function(e){this.renderChart(e.data)}},{key:"componentDidMount",value:function(){this.renderChart(this.props.data)}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return r.a.createElement("div",{id:this.state.chartId,style:{width:"400px",height:"300px"}})}}]),t}(r.a.Component);un.f(pn.a);var fn=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={chartId:"chart-".concat(1e6*Math.random())},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.updateChartData()}},{key:"updateChartData",value:function(){this.chart&&(this.chart.data=this.props.data)}},{key:"renderChart",value:function(){var e=this.props.data;console.log("Bar Chart Data",e);var t=un.d(this.state.chartId,hn.g);t.data=e;var a=t.xAxes.push(new hn.a);a.dataFields.category="key",a.renderer.grid.template.disabled=!0,a.renderer.minGridDistance=30,a.renderer.labels.template.fontSize=12,t.yAxes.push(new hn.f).renderer.grid.template.disabled=!0;var n=t.series.push(new hn.b);n.dataFields.valueY="value",n.dataFields.categoryX="key",n.columns.template.tooltipText="{categoryX}: [bold]{valueY}[/]",n.columns.template.fillOpacity=.8,n.columns.template.strokeWidth=2,n.columns.template.strokeOpacity=1,n.columns.template.adapter.add("fill",function(e,a){return t.colors.getIndex(a.dataItem.index)}),t.colors.list=[un.c("#99ffeb"),un.c("#6fe0fc"),un.c("#9370DB"),un.c("#4051ed"),un.c("#f571ee")],this.chart=t}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return r.a.createElement("div",{id:this.state.chartId,style:{width:"100%",height:"300px"}})}}]),t}(r.a.Component),vn=function e(){Object(O.a)(this,e)};vn.SET_CEO_CHART_DATA=function(e){return{type:"SET_CEO_CHART_DATA",payload:e}};var bn=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={errMessage:"",allTrailers:"",onPay:"",submitted:!1,getApi:!1,time:(new Date).getHours(),color1:"none",color2:"none",selectedChart:"trailers",selectedDate:"currentDate",selectedDate1:"currentDate",tripsDate:"",driversDate:"",currentDate:"",tripdate:"",driverdate:"",tripsData:[],formattedTripDates:[],driversData:[],formattedDriverDates:[]},a.refresh=a.refresh.bind(Object(R.a)(Object(R.a)(a))),a.selectChart=a.selectChart.bind(Object(R.a)(Object(R.a)(a))),a.formatTripsDate=a.formatTripsDate.bind(Object(R.a)(Object(R.a)(a))),a.handleDateSelection=a.handleDateSelection.bind(Object(R.a)(Object(R.a)(a))),a.handleDriverDateSelection=a.handleDriverDateSelection.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"handleDateSelection",value:function(e){this.setState({selectedDate:e})}},{key:"handleDriverDateSelection",value:function(e){this.setState({selectedDate1:e})}},{key:"formatTripsDate",value:function(){var e=new Date(this.state.tripsDate);if(isNaN(e))console.error("Invalid date format:",this.state.tripsDate);else{var t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),l="".concat(t,"-").concat(a,"-").concat(n);this.setState({tripdate:l})}var r=new Date(this.state.driversDate);if(isNaN(r))console.error("Invalid date format:",this.state.driverdate);else{var s=r.getFullYear(),i=(r.getMonth()+1).toString().padStart(2,"0"),o=r.getDate().toString().padStart(2,"0"),c="".concat(s,"-").concat(i,"-").concat(o);this.setState({driverdate:c})}var d=new Date,m=d.getFullYear(),u=(d.getMonth()+1).toString().padStart(2,"0"),h=d.getDate().toString().padStart(2,"0"),p="".concat(m,"-").concat(u,"-").concat(h);this.setState({currentDate:p})}},{key:"getDateButtons",value:function(){var e=new Date,t=new Date(e);t.setDate(e.getDate()-1);var a=new Date(e);a.setDate(e.getDate()-2);var n=function(e){var t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)};return{currentDate:n(e),yesterday:n(t),dayBeforeYesterday:n(a)}}},{key:"getDriverDateButtons",value:function(){var e=new Date,t=new Date(e);t.setDate(e.getDate()-1);var a=new Date(e);a.setDate(e.getDate()-2);var n=function(e){var t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)};return{currentDate1:n(e),yesterday1:n(t),dayBeforeYesterday1:n(a)}}},{key:"selectChart",value:function(e){this.setState({selectedChart:e})}},{key:"renderData",value:function(){this.trailersData(),this.driversData(),this.trailersPerformance(),this.driversPerformance(),this.tripsPerformance()}},{key:"componentDidMount",value:function(){this.renderData()}},{key:"trailersData",value:function(){var e=this;ee.homeTrailers.get(null,null).then(function(t){console.log("Trailers Data 1: ",t);var a=t.trailers,n=[];for(var l in t.trailers){var r={key:J.strings.CFSTrailersChart[l],value:t.trailers[l]};"all_trailers"!==l&&n.push(r),e.setState({allTrailers:a.all_trailers,getApi:!0})}e.props.setTrailersChartData(n)}).catch(function(e){return console.log(e)})}},{key:"driversData",value:function(){var e=this;ee.homeDrivers.get(null,null).then(function(t){console.log("Drivers Data: ",t.drivers);var a=t.drivers,n=[],l=e.state.time;if(l>=8&&l<=20){for(var r in t.drivers){var s={key:J.strings.CFSDriversDayChart[r],value:t.drivers[r]};"on_pay"!==r&&"shift1_cnt"!==r&&"shift2_cnt"!==r&&"shift2_leave"!==r&&"shift2_absent"!==r&&"date"!==r&&n.push(s)}e.setState({color1:"#332c6f"})}else if(l>=20&&l<=8){for(var i in t.drivers){var o={key:J.strings.CFSDriversNightChart[i],value:t.drivers[i]};"on_pay"!==i&&"shift1_cnt"!==i&&"shift2_cnt"!==i&&"on_leave"!==i&&"on_absent"!==i&&"date"!==i&&n.push(o)}e.setState({color2:"#332c6f"})}e.setState({onPay:a.on_pay,shift1Cnt:a.shift1_cnt,shift2Cnt:a.shift2_cnt,getApi:!0}),console.log(n,"Drivers Day Object"),e.props.setDriversChartData(n)}).catch(function(t){500===t.code&&e.setState({errMessage:t.serverMessage}),console.log(t,"Error")})}},{key:"trailersPerformance",value:function(){var e=this;ee.homePerformanceTrailers.get(null,null).then(function(t){var a=t.trailers;console.log("trailersPerformance",t.trailers);var n=[];a.forEach(function(e,t){for(var a in e){var l=J.strings.CEOTrailersPerformanceChart[a]||a,r={key:"".concat(l,"_").concat(t),value:e[a]};console.log("object",r),n.push(r)}}),e.setState({getApi:!0}),e.props.setTrailersPerformanceChartData(n)}).catch(function(e){return console.log(e)})}},{key:"driversPerformance",value:function(){var e=this;ee.homePerformanceDrivers.get(null,null).then(function(t){var a=t.drivers;console.log("driversPerformance",t.drivers);var n=[],l=[];if(a.forEach(function(e,t){var a="";for(var r in e){var s=J.strings.CEODriversPerformanceChart[r]||r,i="".concat(s,"_").concat(t);if("date"===s){var o=new Date(e[r]);if(isNaN(o))console.error("Invalid date format:",e[r]);else{var c=o.getFullYear(),d=(o.getMonth()+1).toString().padStart(2,"0"),m=o.getDate().toString().padStart(2,"0");a="".concat(c,"-").concat(d,"-").concat(m)}}var u={key:i,value:e[r]};n.push(u)}a&&l.push({driverIndex:t,date:a})}),e.setState({getApi:!0,driversData:n,formattedDriverDates:l}),l.length>0){var r=l[l.length-1].date;e.setState({driversDate:r})}e.props.setDriversPerformanceChartData(n),e.formatDriversDate()}).catch(function(e){return console.log(e)})}},{key:"tripsPerformance",value:function(){var e=this;ee.homePerformanceTrips.get(null,null).then(function(t){var a=t.trips;console.log("tripsPerformance",t.trips);var n=[],l=[];if(a.forEach(function(e,t){var a="";for(var r in e){var s=J.strings.CEOTripsPerformanceChart[r]||r,i="".concat(s,"_").concat(t);if("date"===s){var o=new Date(e[r]);if(isNaN(o))console.error("Invalid date format:",e[r]);else{var c=o.getFullYear(),d=(o.getMonth()+1).toString().padStart(2,"0"),m=o.getDate().toString().padStart(2,"0");a="".concat(c,"-").concat(d,"-").concat(m)}}var u={key:i,value:e[r]};n.push(u)}a&&l.push({tripIndex:t,date:a})}),e.setState({getApi:!0,tripsData:n,formattedTripDates:l}),l.length>0){var r=l[l.length-1].date;e.setState({tripsDate:r})}e.props.setTripsPerformanceChartData(n),e.formatTripsDate()}).catch(function(e){return console.log(e)})}},{key:"renderDriversChart",value:function(){var e=this.props.state.drivers.chartData;return console.log("renderDriversChart",e),e.length>0?r.a.createElement(gn,{data:e}):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null))}},{key:"renderTrailerChart",value:function(){var e=this.props.state.trailers.chartData;return console.log("renderTrailerChart",e),e.length>0?r.a.createElement(gn,{data:e}):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null))}},{key:"renderTrailerPerformance",value:function(){var e=this.props.state.trailerPerformance.chartData;return e.length>0?r.a.createElement(fn,{data:e}):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null))}},{key:"renderDriverTrips",value:function(e){var t=this.props.state.driverTrips.chartData,a=this.getDriverDateButtons(),n=a.currentDate1,l=a.yesterday1,s=[];if(a.dayBeforeYesterday1==e){var i=["One Trip_0","Two Trips_0","Three Trips_0","Four Trips_0","driver_5_0"];s=[],s=t.filter(function(e){return i.includes(e.key)})}else if(l==e){var o=["One Trip_1","Two Trips_1","Three Trips_1","Four Trips_1","driver_5_1"];s=[],s=t.filter(function(e){return o.includes(e.key)})}else if(n==e){var d=["One Trip_2","Two Trips_2","Three Trips_2","Four Trips_2","driver_5_2"];s=[],s=t.filter(function(e){return d.includes(e.key)})}console.log("filterData-1",s);var m=s.map(function(e){var t=e.key.replace(/_[0-9]+$/,"");return"driver_5"===t&&(t="Five Trips"),Object(c.a)({},e,{key:t})});return t.length>0?r.a.createElement(fn,{data:m&&m}):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null))}},{key:"renderTrips",value:function(e){var t=this.props.state.trips.chartData,a=this.props.state.trailerPerformance.chartData,n=this.getDateButtons(),l=n.currentDate,s=n.yesterday,i=n.dayBeforeYesterday,o=[].concat(Object(rn.a)(t),Object(rn.a)(a)),c=[];if(i==e){var d=["ceo_tdr_planned_0","ceo_tdr_loaded_0","ceo_tdr_empty_0","ceo_tdr_issign_0","Completed_0","Pending_0","Probability_0","date_0","Trips Done_0","Diesel Issued_0"],m=o.filter(function(e){return d.includes(e.key)});c.push(m)}else if(s==e){var u=["ceo_tdr_planned_1","ceo_tdr_loaded_1","ceo_tdr_empty_1","ceo_tdr_issign_1","Completed_1","Pending_1","Probability_1","date_1","Trips Done_1","Diesel Issued_1"],h=o.filter(function(e){return u.includes(e.key)});c.push(h)}else if(l==e){var p=["ceo_tdr_planned_2","ceo_tdr_loaded_2","ceo_tdr_empty_2","ceo_tdr_issign_2","Completed_2","Pending_2","Probability_2","date_2","Trips Done_2","Diesel Issued_2"],g=o.filter(function(e){return p.includes(e.key)});c.push(g)}console.log("filterData-1",c);var f=["#c9a3d7","#a9b1e0","#85d7b1","#f7e4ab","#f3c5a8","#e07362","#f7e4bc","#ffcc5c"],v=["Planned","Loaded","Empty","Assigned","Completed","Pending","Trips Done","Diesel Issued"],b=c.flat();return t.length>0?r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},b&&b.filter(function(e){return null!==e.value&&"Probability"!==e.key&&"date"!==e.key&&!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(e.value)}).map(function(e,t){return r.a.createElement("div",{key:t,style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{key:t,style:{width:"100px",height:"25px",flex:"1",backgroundColor:f[t],margin:"0 5px",padding:"10px",textAlign:"center",borderRadius:"4px"}},r.a.createElement(F.I,{variant:"h5",style:{color:"#333"}},e.value)),r.a.createElement("div",null,r.a.createElement(F.I,{variant:"subtitle1",style:{color:"#555"}},v[t])))})):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null))}},{key:"renderTripsBasedOnDate",value:function(){var e=this.getDateButtons(),t=e.currentDate,a=e.yesterday,n=e.dayBeforeYesterday,l=this.state,s=l.selectedDate,i=(l.tripdate,l.formattedTripDates),o="currentDate"===s?t:"yesterday"===s?a:n;return console.log(o),i.some(function(e){return e.date===o})?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(mn.a,{className:this.props.classes.paper},r.a.createElement("h6",{className:"titleColor"},"Trips"),this.renderTrips(o)))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(mn.a,{className:this.props.classes.paper},r.a.createElement("h6",{className:"titleColor"},"No trips matched the selected date"))))}},{key:"renderDriversBasedOnDate",value:function(){var e=this.getDriverDateButtons(),t=e.currentDate1,a=e.yesterday1,n=e.dayBeforeYesterday1,l=this.state,s=l.selectedDate1,i=(l.driverdate,l.formattedDriverDates);console.log("formattedDriverDates",i);var o="currentDate"===s?t:"yesterday"===s?a:n;return i.some(function(e){return e.date==o})?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"titleColor"},"Driver Trips"),this.renderDriverTrips(o)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"titleColor"},"No driver trips matched the selected date"))}},{key:"loader",value:function(){var e=this;this.setState({submitted:!0},function(){setTimeout(function(){return e.setState({submitted:!1})},4e3)})}},{key:"refresh",value:function(){this.loader(),this.renderData()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.getApi,l=a.submitted,s=this.getDateButtons(),i=s.currentDate,o=s.yesterday,c=s.dayBeforeYesterday,d=this.getDriverDateButtons(),m=d.currentDate1,u=d.yesterday1,h=d.dayBeforeYesterday1,p=this.state,g=p.selectedDate,f=p.selectedDate1;p.tripdate;return r.a.createElement("main",{className:t.main},r.a.createElement(dn.a,null),r.a.createElement("div",{style:{height:"50px"}},r.a.createElement("h6",{className:t.textMuted},"Dashboard",r.a.createElement("span",{className:"float-right"},r.a.createElement(F.c,{color:"secondary",variant:"outlined",className:t.button,onClick:function(){e.refresh()},disabled:l},l&&r.a.createElement(ae,null)||!l&&r.a.createElement(on.a,null))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(mn.a,{className:t.paper},r.a.createElement("div",{className:"row  mb-1 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"col-sm-6 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"trailers"===this.state.selectedChart?"primary":"default",onClick:function(){return e.selectChart("trailers")}},"Trailers")),r.a.createElement("div",{className:"col-sm-6 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"drivers"===this.state.selectedChart?"primary":"default",onClick:function(){return e.selectChart("drivers")}},"Drivers"))),r.a.createElement(F.I,{className:"titleColor",variant:"button",component:"h6",align:"center"},r.a.createElement("br",null),r.a.createElement("br",null),"trailers"===this.state.selectedChart?r.a.createElement(r.a.Fragment,null,!0===n?r.a.createElement("span",{className:"float-right"},"All Trailers: ",this.state.allTrailers):null,this.renderTrailerChart()):r.a.createElement(r.a.Fragment,null,!0===n?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"float-left"},r.a.createElement("span",{style:{color:this.state.color1}},"Shift-1: ",this.state.shift1Cnt),"\xa0 - \xa0",r.a.createElement("span",{style:{color:this.state.color2}},"Shift-2: ",this.state.shift2Cnt)),r.a.createElement("span",{className:"float-right"},"Payroll: ",this.state.onPay)):null,this.renderDriversChart())))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(mn.a,{className:t.paper},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm-4 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"dayBeforeYesterday"===f?"primary":"default",onClick:function(){return e.handleDriverDateSelection("dayBeforeYesterday")}},h)),r.a.createElement("div",{className:"col-sm-4 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"yesterday"===f?"primary":"default",onClick:function(){return e.handleDriverDateSelection("yesterday")}},u)),r.a.createElement("div",{className:"col-sm-4 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"currentDate"===f?"primary":"default",onClick:function(){return e.handleDriverDateSelection("currentDate")}},m))),this.renderDriversBasedOnDate()))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm-4 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"dayBeforeYesterday"===g?"primary":"default",onClick:function(){return e.handleDateSelection("dayBeforeYesterday")}},c)),r.a.createElement("div",{className:"col-sm-4 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"yesterday"===g?"primary":"default",onClick:function(){return e.handleDateSelection("yesterday")}},o)),r.a.createElement("div",{className:"col-sm-4 d-flex justify-content-center"},r.a.createElement(F.c,{variant:"contained",fullWidth:!0,color:"currentDate"===g?"primary":"default",onClick:function(){return e.handleDateSelection("currentDate")}},i))),this.renderTripsBasedOnDate())}}]),t}(r.a.Component),En=Object(o.b)(function(e){return{auth:e.auth,state:e.CEODashboard}},function(e){return{setDriversChartData:function(t){e(vn.SET_CEO_CHART_DATA({data:t,key:"drivers"}))},setTrailersChartData:function(t){e(vn.SET_CEO_CHART_DATA({data:t,key:"trailers"}))},setTrailersPerformanceChartData:function(t){e(vn.SET_CEO_CHART_DATA({data:t,key:"trailerPerformance"}))},setDriversPerformanceChartData:function(t){e(vn.SET_CEO_CHART_DATA({data:t,key:"driverTrips"}))},setTripsPerformanceChartData:function(t){e(vn.SET_CEO_CHART_DATA({data:t,key:"trips"}))}}})(Object(B.withStyles)(cn)(bn)),yn=a(490),Cn=a(162),Sn=a(73),Nn=a(3),Tn=a.n(Nn),kn=function(e){function t(){return Object(O.a)(this,t),Object(M.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.map=this.context[Sn.MAP],this.controlDiv=document.createElement("div"),this.map.controls[this.props.position].push(this.controlDiv)}},{key:"render",value:function(){return Object(s.createPortal)(this.props.children,this.controlDiv)}}]),t}(l.Component);kn.contextTypes=Object(h.a)({},Sn.MAP,Tn.a.object);var Dn=a(353),On=a.n(Dn),jn=a(354),Mn=a.n(jn),xn=a(487),In=a.n(xn),wn=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#FFFFFF"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#c7c4dc"}]}];function Ln(e,t,a,n){return r.a.createElement(Cn.Marker,{icon:{url:n,scaledSize:new window.google.maps.Size(30,30)},key:t.id,onMouseOver:a,position:{lat:t.latitude,lng:t.longitude}},e.selectedMarker===t&&r.a.createElement(Cn.InfoWindow,null,r.a.createElement("div",{style:{backgroundColor:"#b8b5d766",color:"#332c6f",padding:"15px",fontSize:"12px",textTransform:"capitalize",fontWeight:"bold"}},t.shelter)))}var Pn=Object(yn.a)(Cn.withScriptjs,Cn.withGoogleMap)(function(e){return r.a.createElement(Cn.GoogleMap,{defaultZoom:12,defaultCenter:{lat:22.83,lng:69.72},defaultOptions:{styles:wn}},r.a.createElement(Cn.TrafficLayer,{autoUpdate:!0}),r.a.createElement(kn,{position:window.google.maps.ControlPosition.RIGHT_CENTER},r.a.createElement("div",{id:"filter",style:{position:"relative",boxShadow:"0px 0px 5px 1px #bfbfbf96",borderRadius:"3px",bottom:"45px",right:"10px",height:"auto",width:"40px",backgroundColor:"#FFFFFF",cursor:"pointer",padding:"5px"}},r.a.createElement(F.b,{badgeContent:e.runCount,color:"primary"},r.a.createElement("img",{onClick:e.handleClickRemoveIdle,src:On.a,style:{width:"30px",marginTop:"5px",marginBottom:"10px"}})),r.a.createElement(F.b,{badgeContent:e.idleCount,color:"error"},r.a.createElement("img",{onClick:e.handleClickRemoveRun,src:Mn.a,style:{width:"30px",marginTop:"5px"}})))),!1===e.closeRun?e.running.map(function(t){var a=e.onClickRun.bind(void 0,t);return Ln(e,t,a,On.a)}):null,!1===e.closeIdle?e.idle.map(function(t){var a=e.onClickIdle.bind(void 0,t);return Ln(e,t,a,Mn.a)}):null,e.places.map(function(t){var a=e.onClickPlace.bind(void 0,t);return Ln(e,t,a,In.a)}))}),An=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).handleClickRunning=function(e,t){a.setState({selectedMarker:e})},a.handleClickIdle=function(e,t){a.setState({selectedMarker:e})},a.handleClickPlace=function(e,t){a.setState({selectedMarker:e})},a.handleClickRemoveRun=function(){a.setState({runClose:!0,idleClose:!1})},a.handleClickRemoveIdle=function(){a.setState({idleClose:!0,runClose:!1})},a.state={locations:[],data:[],sheltersRunning:[],runCount:0,idleCount:0,sheltersIdle:[],places:[],selectedMarker:!1,runClose:!1,idleClose:!1,response:!1,endpoint:"https://cfsmanager-dev.azurewebsites.net/api/"},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"places",value:function(){var e=this;ee.places.get(null,null).then(function(t){console.log(t.place,"Places Data"),e.setState({places:t.place})}).catch(function(e){console.log(e,"Places Error")})}},{key:"filterLocations",value:function(e){console.log(e,"LOCATIONS");var t=e.filter(function(e){return"RUNNING"===e.status}),a=e.filter(function(e){return"IDLE"===e.status});this.setState({sheltersRunning:t,runCount:t.length,sheltersIdle:a,idleCount:a.length}),console.log(this.state.sheltersRunning,"Running"),console.log(this.state.sheltersIdle,"IDLE")}},{key:"runningLocations",value:function(){var e=this;ee.runningInfo.get(null,null).then(function(t){console.log(t.location,"Running Locations Data");var a=t.location.filter(function(e){return"RUNNING"===e.status});console.log(a,"Running Trips"),e.setState({sheltersRunning:a,runCount:a.length})}).catch(function(e){console.log(e,"Running Location Error")})}},{key:"idleLocations",value:function(){var e=this;ee.idleInfo.get(null,null).then(function(t){console.log(t.location,"Idle Locations Data");var a=t.location;e.setState({sheltersIdle:a,idleCount:a.length})}).catch(function(e){console.log(e,"Idle Location Error")})}},{key:"locations",value:function(){var e=this;ee.runningInfo.get(null,null).then(function(t){console.log(t.location,"Locations Data"),e.filterLocations(t.location)}).catch(function(e){console.log(e,"Locations Error")})}},{key:"componentDidMount",value:function(){var e=this;this.places(),this.locations(),this.interval=setInterval(function(){return e.locations()},12e4)}},{key:"render",value:function(){return r.a.createElement(Pn,{id:"map",closeRun:this.state.runClose,closeIdle:this.state.idleClose,handleClickRemoveIdle:this.handleClickRemoveIdle,handleClickRemoveRun:this.handleClickRemoveRun,selectedMarker:this.state.selectedMarker,places:this.state.places,running:this.state.sheltersRunning,runCount:this.state.runCount,idleCount:this.state.idleCount,idle:this.state.sheltersIdle,onClickRun:this.handleClickRunning,onClickIdle:this.handleClickIdle,onClickPlace:this.handleClickPlace,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBhuhypIBi6-FbQWoy5goSU6LFERQfPE8E&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"61vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}}]),t}(l.Component),Rn=a(273),Fn=a.n(Rn),Vn=a(274),Un=a.n(Vn),Wn=function(e){return{notificationContainer:{height:738,maxWidth:"100%",backgroundColor:e.palette.background.paper,overflow:"auto"},inline:{display:"inline"},font:{fontSize:"12px",textTransfrom:"lowercase"},mutedText:{color:"#ddd"},card:{padding:"10px",backgroundColor:"white"},listItem:{borderBottom:"1px solid #ddd",padding:"5px","&:hover":{backgroundColor:"#ddd",cursor:"pointer"}},button:{marginTop:8,height:30,padding:"4px 15px","&:hover":{backgroundColor:"#ddd"}},delete:{color:"#989595",fontSize:20,"&:hover":{color:"#dc3545c9"}}}},_n=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).mouseOver=function(e){a.setState({hover:!0})},a.state={getApi:!1,msgData:[],hover:!1,code:0,submitted:!1,open:!1},a.mouseOver=a.mouseOver.bind(Object(R.a)(Object(R.a)(a))),a.mouseOut=a.mouseOut.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"getMessages",value:function(){var e=this;ee.homeMessages.get(null,null).then(function(t){console.log(t.msg,"Messages"),e.setState({msgData:t.msg,getApi:!0})}).catch(function(t){500===t.code&&e.setState({errMessage:t.serverMessage}),console.log(t,"Error")})}},{key:"messageDelete",value:function(e){var t=this;ee.deleteMessage.delete("/"+e,null).then(function(e){console.log(e,"Message Deleted"),200===e.status&&t.setState({code:e.status}),t.getMessages()}).catch(function(e){500===e.code&&t.setState({errMessage:e.serverMessage}),console.log(e,"Error")})}},{key:"componentDidMount",value:function(){this.getMessages()}},{key:"openModal",value:function(){var e=this;this.setState({open:!0},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"mouseOut",value:function(){this.setState({hover:!1})}},{key:"loader",value:function(){this.setState({submitted:!0})}},{key:"onSubmit",value:function(e){this.messageDelete(e)}},{key:"renderList",value:function(){var e=this,t=this.props.classes,a=Object(c.a)({},this.state),n=a.getApi,l=a.msgData,s=a.hover,i=a.submitted;return!1===n?r.a.createElement("div",{className:"d-flex justify-content-center center"},r.a.createElement(he,null)):0===l.length?r.a.createElement("div",{className:"d-flex justify-content-center center"},r.a.createElement("label",null,"No Data Found !")):l.map(function(a,n){return r.a.createElement(F.q,{key:n+Date.now(),alignItems:"flex-start",className:t.listItem,onMouseEnter:function(t){e.mouseOver(e,t)},onMouseLeave:function(t){e.mouseOut(e,t)}},r.a.createElement(F.r,null,r.a.createElement(Fn.a,{style:{color:"rgba(51, 44, 111, 0.64)",fontSize:"6vh"}})),r.a.createElement(F.s,{style:{textTransform:"capitalize"},primary:a.DrivName,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:t.font},a.notifyDesc))}),!0===s?r.a.createElement(F.c,{variant:"flat",className:t.button,onClick:function(){e.onSubmit(a.dMsgId)},disabled:i},i&&r.a.createElement(ae,null)||!i&&r.a.createElement(Un.a,{className:t.delete})):null,r.a.createElement(F.e,{open:e.state.open,onClose:e.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,200===e.state.code?r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),"Successfully Deleted Message"):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))))})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(F.p,{className:e.notificationContainer},this.renderList())}}]),t}(r.a.Component),Bn=Object(B.withStyles)(Wn)(_n),Yn=function e(){Object(O.a)(this,e)};Yn.SET_CHART_DATA=function(e){return{type:"SET_CHART_DATA",payload:e}};var qn,zn,Gn,Hn,Kn,Jn,Qn=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={errMessage:"",allTrailers:"",onPay:"",shift1Cnt:"",shift2Cnt:"",getApi:!1,time:(new Date).getHours(),color1:"none",color2:"none"},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.trailersData(),this.driversData(),this.liveTrips()}},{key:"trailersData",value:function(){var e=this;ee.homeTrailers.get(null,null).then(function(t){var a=[],n=t.trailers;for(var l in console.log(t.trailers,"Dashboard Trailers Data"),t.trailers){var r={key:J.strings.CFSTrailersChart[l],value:t.trailers[l]};"all_trailers"!==l&&a.push(r),e.setState({allTrailers:n.all_trailers,getApi:!0})}e.props.setTrailersChartData(a)}).catch(function(t){500===t.code&&e.setState({errMessage:t.serverMessage}),console.log(t,"Error")})}},{key:"driversData",value:function(){var e=this;ee.homeDrivers.get(null,null).then(function(t){console.log("Drivers Data: ",t.drivers);var a=t.drivers,n=[],l=e.state.time;if(l>=8&&l<=20){for(var r in t.drivers){var s={key:J.strings.CFSDriversDayChart[r],value:t.drivers[r]};"on_pay"!==r&&"shift1_cnt"!==r&&"shift2_cnt"!==r&&"shift2_leave"!==r&&"shift2_absent"!==r&&"shift2_present"!==r&&"shift2_excess"!==r&&"date"!==r&&n.push(s)}e.setState({color1:"#332c6f"})}else if(l>=20&&l<=8){for(var i in t.drivers){var o={key:J.strings.CFSDriversNightChart[i],value:t.drivers[i]};"on_pay"!==i&&"shift1_cnt"!==i&&"shift2_cnt"!==i&&"on_leave"!==i&&"on_absent"!==i&&"shift1_present"!==i&&"shift1_excess"!==i&&"date"!==i&&n.push(o)}e.setState({color2:"#332c6f"})}e.setState({onPay:a.on_pay,shift1Cnt:a.shift1_cnt,shift2Cnt:a.shift2_cnt,getApi:!0}),console.log(n,"Drivers Day Object"),e.props.setDriversChartData(n)}).catch(function(t){500===t.code&&e.setState({errMessage:t.serverMessage}),console.log(t,"Error")})}},{key:"liveTrips",value:function(){var e=this;ee.homeTrips.get(null,null).then(function(e){console.log(e)}).catch(function(t){500===t.code&&e.setState({errMessage:t.serverMessage}),console.log(t,"Error")})}},{key:"renderChart",value:function(e){return e.length>0?r.a.createElement(gn,{data:e}):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(he,null))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.state,n=this.state,l=n.getApi,s=n.allTrailers;return r.a.createElement("div",{className:t.gridRoot},r.a.createElement(F.k,{container:!0,spacing:2},r.a.createElement(F.k,{item:!0,xs:12,sm:8},r.a.createElement(F.k,{container:!0,spacing:2},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.w,{className:t.paper},r.a.createElement(F.I,{className:"titleColor",variant:"h6",component:"h6",align:"left"},"Trailers availability for the day",r.a.createElement("hr",null),!0===l?r.a.createElement("span",{className:"float-right"},"All Trailers: ",s):null,this.renderChart(a.trailers.chartData)))),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.w,{className:t.paper},r.a.createElement(F.I,{className:"titleColor",variant:"h6",component:"h6",align:"left"},"Drivers",r.a.createElement("hr",null),!0===l?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"float-left"},r.a.createElement("span",{style:{color:this.state.color1}},"Shift-1: ",this.state.shift1Cnt),"\xa0 - \xa0",r.a.createElement("span",{style:{color:this.state.color2}},"Shift-2: ",this.state.shift2Cnt)),r.a.createElement("span",{className:"float-right"},"Payroll: ",this.state.onPay)):null,this.renderChart(a.drivers.chartData))))),r.a.createElement(F.k,{container:!0,spacing:2,className:"pt-4 mt-2"},r.a.createElement(F.k,{item:!0,xs:12},r.a.createElement(F.w,{className:t.paper},r.a.createElement(F.I,{className:"titleColor",variant:"h6",component:"h6",align:"left"},"Live Tracking",r.a.createElement("hr",null),r.a.createElement(An,null)))))),r.a.createElement(F.k,{item:!0,xs:12,sm:4},r.a.createElement(F.w,{className:t.paper},r.a.createElement(F.I,{className:"titleColor",variant:"h6",component:"h6",align:"left"},"Messages",r.a.createElement("hr",null),r.a.createElement(Bn,null))))))}}]),t}(r.a.Component),Xn=Object(o.b)(function(e){return{auth:e.auth,state:e.dashboard}},function(e){return{setDriversChartData:function(t){e(Yn.SET_CHART_DATA({data:t,key:"drivers"}))},setTrailersChartData:function(t){e(Yn.SET_CHART_DATA({data:t,key:"trailers"}))}}})(Object(B.withStyles)(function(e){var t;return{gridRoot:{flexGrow:1,padding:2*e.spacing.unit},paper:(t={padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},Object(h.a)(t,e.breakpoints.up("sm"),{margin:2*e.spacing.unit}),Object(h.a)(t,e.breakpoints.down("xs"),{margin:1*e.spacing.unit}),t)}})(Qn)),Zn=function(e){function t(){return Object(O.a)(this,t),Object(M.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"NotFound")}}]),t}(r.a.Component),$n=a(357),el="",tl="",al=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={labelWidth:0,vendorid:"",vendorId:"",vendorname:"",location:"",contactperson:"",designation:"",contactnumber:"",contactemail:"",kycNumber:"",contactperson2:"",designation2:"",contactnumber2:"",contactemail2:"",kycTypeId:"",file:null,fileError:"",selectedVendorType:"",selectedValue:"Register Vendor",message:"",submitted:!1,code:"",open:!1,alert:!1,alertMessage:"",vendors:"",Data1:["Individual","Business"],vendortype:""},Gn=function(){a.setState({vendorid:"",vendorId:"",vendorname:"",location:"",contactperson:"",designation:"",contactnumber:"",contactemail:"",kycNumber:"",contactperson2:"",designation2:"",contactnumber2:"",contactemail2:"",kycTypeId:"",vendortype:"",file:null})},a.handleCheckedCreate=a.handleCheckedCreate.bind(Object(R.a)(Object(R.a)(a))),a.handleCheckedUpdate=a.handleCheckedUpdate.bind(Object(R.a)(Object(R.a)(a))),a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.handleVendorTypeChange=a.handleVendorTypeChange.bind(Object(R.a)(Object(R.a)(a))),a.handleFileChange=a.handleFileChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.fetchVendors=a.fetchVendors.bind(Object(R.a)(Object(R.a)(a))),a.fillVendorDetails=a.fillVendorDetails.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"fetchVendors",value:function(){var e=this;ee.adminGetVendors.get().then(function(t){e.setState({vendors:t.vendors})}).catch(function(e){console.error("Error fetching vendors:",e)})}},{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth}),this.fetchVendors(),window.localStorage.getItem("auth")?(qn=JSON.parse(window.localStorage.getItem("auth")),zn=qn.user.user_id):zn=""}},{key:"fillVendorDetails",value:function(e){var t=e.target.value,a=this.state.vendors.find(function(e){return e.vendorId===parseInt(t)});a?(5===a.typeId?tl="Individual":6===a.typeId&&(tl="Business"),this.setState({vendorId:t,vendorname:a.vendorname,location:a.location,designation:a.designation,contactperson:a.contactperson,contactnumber:a.contactnumber,contactemail:a.contactemail,designation2:a.designation2,contactperson2:a.contactperson2,contactnumber2:a.contactnumber2,contactemail2:a.contactemail2,kycTypeId:a.kycTypeId,kycNumber:a.kycNumber,vendortype:tl})):(this.setState({vendorId:"",vendorname:"",location:"",designation:"",contactperson:"",contactnumber:"",contactemail:"",designation2:"",contactperson2:"",contactnumber2:"",contactemail2:"",kycTypeId:"",kycNumber:"",vendortype:""}),tl="")}},{key:"onInputChange",value:function(e){var t=e.target,a=t.name;t.value;this.setState(Object(h.a)({},e.target.name,e.target.value)),"vendorid"===a&&this.fillVendorDetails(e)}},{key:"handleVendorTypeChange",value:function(e){var t=e.target.value;this.setState({vendortype:t}),el=t}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState({file:t})}},{key:"onSubmit",value:function(){var e=Object(K.a)(H.a.mark(function e(t){var a,n,l,r,s,i,o,c,d,m,u,h,p,g,f,v,b,E,y,C,S,N,T,k,D,O,j,M,x,I,w,L,P,A,R,F,V,U,W,_,B,Y,q,z=this;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state,n=a.vendorId,l=a.vendorname,r=a.location,s=a.contactperson,i=a.designation,o=a.contactnumber,c=a.contactemail,d=a.contactperson2,m=a.designation2,u=a.contactnumber2,h=a.contactemail2,p=a.kycTypeId,g=a.kycNumber,f=a.file,v=a.vendortype,{vendorName:l.trim(),location:r.trim(),designation:i.trim(),contactperson:s.trim(),contactnumber:o,contactemail:c.trim(),designation2:m,contactperson2:d,contactnumber2:u,contactemail2:h,kycTypeId:p,kycNumber:g,adminId:"1",file:f,vendortype:v},E=JSON.parse(localStorage.getItem("auth")),y=E.token.replace("Bearer ",""),"Register Vendor"!==this.state.selectedValue||"Individual"!==el){e.next=58;break}for(this.setState({submitted:!0}),(C=new FormData).append("file",f),C.append("vendorName",l),C.append("location",r),C.append("contactperson",s),C.append("designation",i),C.append("contactnumber",o),C.append("contactemail",c),C.append("kycTypeId",p),C.append("kycNumber",g),C.append("vendortype",v),C.append("adminUser",zn),S=!0,N=!1,T=void 0,e.prev=22,k=C.entries()[Symbol.iterator]();!(S=(D=k.next()).done);S=!0)O=D.value,j=Object($n.a)(O,2),M=j[0],x=j[1],console.log("Form Data after",M,x);e.next=30;break;case 26:e.prev=26,e.t0=e.catch(22),N=!0,T=e.t0;case 30:e.prev=30,e.prev=31,S||null==k.return||k.return();case 33:if(e.prev=33,!N){e.next=36;break}throw T;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.prev=38,e.next=41,fetch("http://localhost:3000/api/admin/vendorsfile",{method:"POST",headers:{Authorization:"Bearer ".concat(y)},body:C});case 41:return I=e.sent,console.log("response",I),e.next=45,I.json();case 45:w=e.sent,console.log("result",w),I.ok?(this.openModal(),this.setState({code:w.status,message:w.message}),console.log("Vendor created successfully:",w.data),this.setState({message:w.message,submitted:!1})):(this.openModal(),this.setState({code:w.status,message:w.error}),console.error("Vendor created filed:",w.message),this.setState({message:w.message,submitted:!1})),e.next=56;break;case 50:e.prev=50,e.t1=e.catch(38),this.openModal(),this.setState({errMessage:e.t1.serverMessage}),console.error("Error creating vendor:",e.t1),this.setState({message:e.t1.message,submitted:!1});case 56:e.next=116;break;case 58:if("Register Vendor"!==this.state.selectedValue||"Business"!==el){e.next=115;break}for(this.setState({submitted:!0}),(L=new FormData).append("file",f),L.append("vendorName",l),L.append("location",r),L.append("contactperson",s),L.append("designation",i),L.append("contactnumber",o),L.append("contactemail",c),L.append("kycTypeId",p),L.append("kycNumber",g),L.append("vendortype",v),L.append("adminUser",zn),L.append("contactperson2",d),L.append("designation2",m),L.append("contactnumber2",u),L.append("contactemail2",h),P=!0,A=!1,R=void 0,e.prev=79,F=L.entries()[Symbol.iterator]();!(P=(V=F.next()).done);P=!0)U=V.value,W=Object($n.a)(U,2),_=W[0],B=W[1],console.log("Form Data after",_,B);e.next=87;break;case 83:e.prev=83,e.t2=e.catch(79),A=!0,R=e.t2;case 87:e.prev=87,e.prev=88,P||null==F.return||F.return();case 90:if(e.prev=90,!A){e.next=93;break}throw R;case 93:return e.finish(90);case 94:return e.finish(87);case 95:return e.prev=95,e.next=98,fetch("http://localhost:3000/api/admin/vendorsfile",{method:"POST",headers:{Authorization:"Bearer ".concat(y)},body:L});case 98:return Y=e.sent,console.log("response",Y),e.next=102,Y.json();case 102:q=e.sent,console.log("result",q),Y.ok?(this.openModal(),this.setState({code:q.status,message:q.message}),console.log("Vendor created successfully:",q.data),this.setState({message:q.message,submitted:!1})):(this.openModal(),this.setState({code:q.status,message:q.error}),console.error("Vendor created filed:",q.message),this.setState({message:q.message,submitted:!1})),e.next=113;break;case 107:e.prev=107,e.t3=e.catch(95),this.openModal(),this.setState({errMessage:e.t3.serverMessage}),console.error("Error creating vendor:",e.t3),this.setState({message:e.t3.message,submitted:!1});case 113:e.next=116;break;case 115:"Update Vendor"===this.state.selectedValue&&"Individual"===v?(this.setState({submitted:!0}),b={vendorId:n,vendorname:l,location:r,contactperson:s,designation:i,contactnumber:o,contactemail:c,kycTypeId:p,kycNumber:g,vendortype:v,adminUser:zn},console.log("Updated :: ",b),ee.adminVendorsUpdate.put(n,b,{headers:{"Content-Type":"application/json"}}).then(function(e){z.openModal(),z.setState({code:e.status,message:e.message}),console.log("Vendor Update:",e),z.setState({message:e.message,submitted:!1}),z.fetchVendors(),Gn(),z.setState({vendorId:""})}).catch(function(e){z.openModal(),z.setState({errMessage:e.serverMessage}),console.error("Error Update Vendor:",e),z.setState({message:e.message,submitted:!1})})):"Update Vendor"===this.state.selectedValue&&"Business"===v?(this.setState({submitted:!0}),b={vendorId:n,vendorname:l,location:r,contactperson:s,designation:i,contactnumber:o,contactemail:c,kycTypeId:p,kycNumber:g,vendortype:v,adminUser:zn,contactperson2:d,designation2:m,contactnumber2:u,contactemail2:h,file:null},ee.adminVendorsUpdate.put(n,b,{headers:{"Content-Type":"application/json"}}).then(function(e){z.openModal(),z.setState({code:e.status,message:e.message}),console.log("Vendor Update:",e),z.setState({message:e.message,submitted:!1}),z.fetchVendors(),Gn(),z.setState({vendorId:""})}).catch(function(e){z.openModal(),z.setState({errMessage:e.serverMessage}),console.error("Error Update Vendor:",e),z.setState({message:e.message,submitted:!1})})):alert("All fields are required!");case 116:case"end":return e.stop()}},e,this,[[22,26,30,38],[31,,33,37],[38,50],[79,83,87,95],[88,,90,94],[95,107]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleCheckedCreate",value:function(){this.setState({selectedValue:"Register Vendor"}),Gn()}},{key:"handleCheckedUpdate",value:function(){this.setState({selectedValue:"Update Vendor"}),Gn()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.submitted,l=a.selectedValue,s=(a.vendors,a.fileError);return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Vendor Registration"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"100%"}},r.a.createElement("h6",{className:"customHeader"},"Vendor Registration"),r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Register Vendor"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Register Vendor",name:"radio-button-demo",classes:{root:t.radio}}),r.a.createElement("label",null,"Register Vendor")),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Update Vendor"===this.state.selectedValue,onChange:this.handleCheckedUpdate,value:"Update Vendor",name:"radio-button-demo",classes:{root:t.radio}}),r.a.createElement("label",null,"Update Vendor")))),"Register Vendor"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"vendor-type"},"Vendor Type"),r.a.createElement(F.y,{value:this.state.vendortype,onChange:this.handleVendorTypeChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"vendortype",id:"vendor-type"})},this.state.Data1.map(function(e,t){return r.a.createElement(F.u,{key:t,value:e},e)})))))),el&&"Individual"===el?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorname",label:"Vendor Name",value:this.state.vendorname,onChange:this.onInputChange,validators:["required"],errorMessages:["Vendor Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"location",label:"Location",value:this.state.location,onChange:this.onInputChange,validators:["required"],errorMessages:["Location is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactperson",label:"Contact Person",value:this.state.contactperson,onChange:this.onInputChange,validators:["required"],errorMessages:["Contact Person is required"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"designation",label:"Designation",value:this.state.designation,onChange:this.onInputChange,validators:["required"],errorMessages:["Designation is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactnumber",label:"Contact Number",value:this.state.contactnumber,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactemail",label:"Contact Email",value:this.state.contactemail,onChange:this.onInputChange,validators:["required","isEmail"],errorMessages:["Email is required","Email is not valid"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"kyc-type-id"},"KYC Type ID"),r.a.createElement(F.y,{value:this.state.kycTypeId,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"kycTypeId",id:"kyc-type-id"})},r.a.createElement(F.u,{value:1},"Aadhar"),r.a.createElement(F.u,{value:2},"Pan Card"),r.a.createElement(F.u,{value:3},"Passport"),r.a.createElement(F.u,{value:4},"Driving Licence"),r.a.createElement(F.u,{value:5},"Voter ID")))),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycNumber",label:"KYC Number",value:this.state.kycNumber,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",type:"file",name:"file",label:"File",onChange:this.handleFileChange,InputProps:{disableUnderline:!0}}),s&&r.a.createElement(F.I,{color:"error"},s)))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},n?"Your form is submitting":"Submit"))):r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorname",label:"Vendor Name",value:this.state.vendorname,onChange:this.onInputChange,validators:["required"],errorMessages:["Vendor Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"location",label:"Location",value:this.state.location,onChange:this.onInputChange,validators:["required"],errorMessages:["Location is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactperson",label:"Contact Person",value:this.state.contactperson,onChange:this.onInputChange,validators:["required"],errorMessages:["Contact Person is required"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"designation",label:"Designation",value:this.state.designation,onChange:this.onInputChange,validators:["required"],errorMessages:["Designation is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactnumber",label:"Contact Number",value:this.state.contactnumber,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactemail",label:"Contact Email",value:this.state.contactemail,onChange:this.onInputChange,validators:["required","isEmail"],errorMessages:["Email is required","Email is not valid"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactperson2",label:"Contact Person 2",value:this.state.contactperson2,onChange:this.onInputChange,validators:["required"],errorMessages:["Contact Person 2 is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"designation2",label:"Designation 2",value:this.state.designation2,onChange:this.onInputChange,validators:["required"],errorMessages:["Designation 2 is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactnumber2",label:"Contact Number 2",value:this.state.contactnumber2,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number 2 is required"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactemail2",label:"Contact Email 2",value:this.state.contactemail2,onChange:this.onInputChange,validators:["required","isEmail"],errorMessages:["Email 2 is required","Email 2 is not valid"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"kyc-type-id"},"KYC Type ID"),r.a.createElement(F.y,{value:this.state.kycTypeId,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"kycTypeId",id:"kyc-type-id"})},r.a.createElement(F.u,{value:1},"Aadhar"),r.a.createElement(F.u,{value:2},"Pan Card"),r.a.createElement(F.u,{value:3},"Passport"),r.a.createElement(F.u,{value:4},"Driving Licence"),r.a.createElement(F.u,{value:5},"Voter ID")))),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycNumber",label:"KYC Number",value:this.state.kycNumber,onChange:this.onInputChange})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",type:"file",name:"file",label:"File",onChange:this.handleFileChange,InputProps:{disableUnderline:!0}}),s&&r.a.createElement(F.I,{color:"error"},s)))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},n?"Your form is submitting":"Submit")))),"Update Vendor"===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorid",label:"Vendor ID",value:this.state.vendorid,onChange:this.onInputChange,validators:["required"],errorMessages:["Vendor ID is required"]}))))),tl&&"Individual"===tl?r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorname",label:"Vendor Name",value:this.state.vendorname,onChange:this.onInputChange,errorMessages:["Vendor Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"location",label:"Location",value:this.state.location,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactperson",label:"Contact Person",value:this.state.contactperson,onChange:this.onInputChange})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"designation",label:"Designation",value:this.state.designation,onChange:this.onInputChange,errorMessages:["Designation is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactNumber",label:"Contact Number",value:this.state.contactnumber,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number is required","Invalid Contact Number"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactemail",label:"Contact Email",value:this.state.contactemail,onChange:this.onInputChange,validators:["required","isEmail"],errorMessages:["Email is required","Email is not valid"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycNumber",label:"KYC Number",value:this.state.kycNumber,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycTypeId",label:"Type ID Number",value:this.state.kycTypeId,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendortype",label:"Vendor Type",value:this.state.vendortype,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},n?"Updating...":"Update Vendor"))):r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorname",label:"Vendor Name",value:this.state.vendorname,onChange:this.onInputChange,errorMessages:["Vendor Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"location",label:"Location",value:this.state.location,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactperson",label:"Contact Person",value:this.state.contactperson,onChange:this.onInputChange})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"designation",label:"Designation",value:this.state.designation,onChange:this.onInputChange,errorMessages:["Designation is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactnumber",label:"Contact Number",value:this.state.contactnumber,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number is required","Invalid Contact Number"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactemail",label:"Contact Email",value:this.state.contactemail,onChange:this.onInputChange,validators:["required","isEmail"],errorMessages:["Email is required","Email is not valid"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactperson2",label:"Contact Person 2",value:this.state.contactperson2,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"designation2",label:"Designation 2",value:this.state.designation2,onChange:this.onInputChange,errorMessages:["Designation 2 is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactnumber2",label:"Contact Number 2",value:this.state.contactnumber2,onChange:this.onInputChange,validators:["required","matchRegexp:^[6-9][0-9]{9}$"],errorMessages:["Contact Number 2 is required","Invalid Contact Number"]})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"contactemail2",label:"Contact Email 2",value:this.state.contactemail2,onChange:this.onInputChange,validators:["required","isEmail"],errorMessages:["Email 2 is required","Email 2 is not valid"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycNumber",label:"KYC Number",value:this.state.kycNumber,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycTypeId",label:"Type ID Number",value:this.state.kycTypeId,onChange:this.onInputChange})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendortype",label:"Vendor Type",value:this.state.vendortype,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},n?"Updating...":"Update Vendor")))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),nl=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderline:{color:"#dc3545c9"}}})(al),ll=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).addTaxField=function(){a.setState(function(e){return{taxFields:[].concat(Object(rn.a)(e.taxFields),[{taxName:"",percentage:"",totalValue:""}])}})},a.state={labelWidth:0,vendorId:"",vendorserviceid:"",vname:"",categorytype:"",departmenttype:"",servicetype:"",serviceplantype:"",servicecosttype:"",servicebasiccost:"",vendortypeid:"",adminid:"",vendorServiceTaxId:[],taxFields:[{taxName:"",percentage:"",totalValue:""}],selectedValue:"Create Service",message:"",submitted:!1,code:"",open:!1,alert:!1,alertMessage:"",Data1:[],Data2:[],Data3:[],Data4:[],Data5:[],vendors:[],vendorServices:[],vendorServicesTax:[]},Jn=function(){a.setState({vendorid:"",vendorserviceid:"",vname:"",categorytype:"",departmenttype:"",servicetype:"",serviceplantype:"",servicecosttype:"",servicebasiccost:"",taxFields:[{taxName:"",percentage:"",totalValue:""}]})},a.handleCheckedCreate=a.handleCheckedCreate.bind(Object(R.a)(Object(R.a)(a))),a.handleCheckedUpdate=a.handleCheckedUpdate.bind(Object(R.a)(Object(R.a)(a))),a.handleTaxChange=a.handleTaxChange.bind(Object(R.a)(Object(R.a)(a))),a.handleServiceBasicCostChange=a.handleServiceBasicCostChange.bind(Object(R.a)(Object(R.a)(a))),a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a.fetchTypes=a.fetchTypes.bind(Object(R.a)(Object(R.a)(a))),a.fetchServices=a.fetchServices.bind(Object(R.a)(Object(R.a)(a))),a.fetchVendors=a.fetchVendors.bind(Object(R.a)(Object(R.a)(a))),a.fillVendorDetails=a.fillVendorDetails.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"fetchTypes",value:function(){var e=this;ee.adminGetTypes.get().then(function(t){t.getTypes.map(function(t){t.categoryTypeName?e.setState(function(e){return{Data1:[].concat(Object(rn.a)(e.Data1),[t.categoryTypeName])}}):t.departmentTypeName?e.setState(function(e){return{Data2:[].concat(Object(rn.a)(e.Data2),[t.departmentTypeName])}}):t.serviceTypeName?e.setState(function(e){return{Data3:[].concat(Object(rn.a)(e.Data3),[t.serviceTypeName])}}):t.servicePlanTypeName?e.setState(function(e){return{Data4:[].concat(Object(rn.a)(e.Data4),[t.servicePlanTypeName])}}):t.serviceCostTypeName?e.setState(function(e){return{Data5:[].concat(Object(rn.a)(e.Data5),[t.serviceCostTypeName])}}):t.vendorTypeName&&console.log({vendorTypeName:t.vendorTypeName})})}).catch(function(e){console.error("Error fetching vendors:",e)})}},{key:"fetchVendors",value:function(){var e=this;ee.adminGetVendors.get().then(function(t){e.setState({vendors:t.vendors}),console.log("Vendors : ",t.vendors)}).catch(function(e){console.error("Error fetching vendors:",e)})}},{key:"fetchServices",value:function(){var e=this;ee.adminVendorService.get().then(function(t){e.setState({vendorServices:t.service.serviceData,vendorServicesTax:t.service.taxData})}).catch(function(e){console.error("Error fetching vendors:",e)})}},{key:"componentDidMount",value:function(){this.setState({labelWidth:i.a.findDOMNode(this.InputLabelRef).offsetWidth}),this.fetchTypes(),this.fetchServices(),this.fetchVendors(),window.localStorage.getItem("auth")?(Hn=JSON.parse(window.localStorage.getItem("auth")),Kn=Hn.user.user_id):Kn=""}},{key:"fillVendorDetails",value:function(e){var t=this,a=e.target.value,n=this.state.vendorServices.find(function(e){return e.vendorServiceId===parseInt(a)});console.log("findVendorService :: ",n);var l=this.state.vendorServicesTax.filter(function(e){return e.vendorServiceIdtax===parseInt(a)});if(console.log("findVendorServiceTax :: ",l),l&&n){this.setState({vendorServiceID:n.vendorServiceId,vname:n.vendorName,categorytype:n.vendorCategoryId,departmenttype:n.departmentId,servicetype:n.serviceTypeId,servicecosttype:n.serviceCostTypeId,servicebasiccost:n.serviceBaseCost,vendortypeid:n.vendorTypeId,adminid:n.adminId});l.map(function(e){t.setState(function(t){return{taxFields:[].concat(Object(rn.a)(t.taxFields),[{taxName:e.serviceTaxName,percentage:e.serviceTaxPercentage,totalValue:e.serviceTaxCost}]),vendorServiceTaxId:[].concat(Object(rn.a)(t.vendorServiceTaxId),[e.vendorServiceTaxId])}})})}else Jn()}},{key:"fillVendorName",value:function(e){var t=e.target.value,a=this.state.vendors.find(function(e){return e.vendorId===parseInt(t)});console.log("findVendor :: ",a),a?this.setState({vname:a.vendorname}):this.setState({vname:""})}},{key:"onInputChange",value:function(e){var t=e.target,a=t.name;t.value;this.setState(Object(h.a)({},e.target.name,e.target.value)),"vendorserviceid"===a?this.fillVendorDetails(e):"vendorId"===a&&this.fillVendorName(e)}},{key:"handleTaxChange",value:function(e,t){var a=t.target,n=a.name,l=a.value,r=Object(rn.a)(this.state.taxFields);if(r[e][n]=l,"percentage"===n){var s=parseFloat(l)||0,i=(parseFloat(this.state.servicebasiccost)||0)*s/100;r[e].totalValue=i.toFixed(2)}this.setState({taxFields:r})}},{key:"handleServiceBasicCostChange",value:function(e){var t=parseFloat(e.target.value)||0,a=this.state.taxFields.map(function(e){var a=parseFloat(e.percentage)||0,n=t*a/100;return Object(c.a)({},e,{totalValue:n.toFixed(2)})});this.setState({servicebasiccost:t,taxFields:a})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a,n=this.state,l=n.vendorserviceid,r=n.adminid,s=n.vendorServiceTaxId,i=n.vname,o=n.categorytype,c=n.departmenttype,d=n.servicetype,m=n.servicecosttype,u=n.serviceplantype,h=n.servicebasiccost,p=n.vendortypeid,g=n.taxFields.filter(function(e){return e.taxName&&e.percentage}),f={vname:i,categorytype:o,departmenttype:c,servicetype:d,servicecosttype:m,serviceplantype:u,servicebasiccost:h,taxFields:g};console.log(f),"Create Service"===this.state.selectedValue?(this.setState({submitted:!0}),a={vname:f.vname,categorytype:f.categorytype,departmenttype:f.departmenttype,servicetype:f.servicetype,servicecosttype:f.servicecosttype,serviceplantype:f.serviceplantype,servicebasiccost:f.servicebasiccost,taxFields:f.taxFields,adminUser:Kn},console.log("Form Data Submitted: ",a),ee.adminVendorService.post(null,a).then(function(e){t.openModal(),t.setState({code:e.status,message:e.message}),console.log("Vendor Service:",e),t.setState({message:e.message,submitted:!1}),Jn()}).catch(function(e){t.openModal(),t.setState({errMessage:e.serverMessage}),console.error("Error Create Vendor Service:",e),t.setState({message:e.message,submitted:!1}),alert("Vendor name not found")}),this.setState({vendorId:"",vname:"",categorytype:"",departmenttype:"",servicetype:"",servicecosttype:"",serviceplantype:"",servicebasiccost:"",taxFields:[{taxName:"",percentage:"",totalValue:""}]})):"Update Service"===this.state.selectedValue?(this.setState({submitted:!0}),a={vendorserviceid:l,adminid:r,vendorServiceTaxId:s,vname:i,categorytype:o,departmenttype:c,servicetype:d,servicecosttype:m,serviceplantype:u,servicebasiccost:h,vendortypeid:p,taxFields:g},console.log("Update details :: ",a),ee.adminVendorUpdateService.put(l,a,{headers:{"Content-Type":"application/json"}}).then(function(e){t.openModal(),t.setState({code:e.status,message:e.message}),console.log("Vendor Service:",e),t.setState({message:e.message,submitted:!1}),Jn()}).catch(function(e){t.openModal(),t.setState({errMessage:e.serverMessage}),console.error("Error Create Vendor Service:",e),t.setState({message:e.message,submitted:!1})})):alert("All fields are required!")}},{key:"handleCheckedCreate",value:function(){this.setState({selectedValue:"Create Service"}),Jn()}},{key:"handleCheckedUpdate",value:function(){this.setState({selectedValue:"Update Service"}),Jn()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.submitted,l=a.selectedValue;a.taxFields;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Vendor Services"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"80%"}},r.a.createElement("h6",{className:"customHeader"},"Vendor Services"),r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Create Service"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Create Service",name:"radio-button-demo",classes:{root:t.radio}}),r.a.createElement("label",null,"Create Service")),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.x,{checked:"Update Service"===this.state.selectedValue,onChange:this.handleCheckedUpdate,value:"Update Service",name:"radio-button-demo",classes:{root:t.radio}}),r.a.createElement("label",null,"Update Service")))),"Create Service"===l?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:3},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorId",label:"Vendor ID",value:this.state.vendorId,onChange:this.onInputChange,validators:["required"],errorMessages:["Vendor ID is required"]}))))),r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vname",label:"Name",value:this.state.vname,onChange:this.onInputChange,validators:["required"],errorMessages:["Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"category-type"},"Category Type"),r.a.createElement(F.y,{value:this.state.categorytype,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"categorytype",id:"category-type"})},this.state.Data1.map(function(e,t){return r.a.createElement(F.u,{key:t,value:t+1},e)})))),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"department-type"},"Department Type"),r.a.createElement(F.y,{value:this.state.departmenttype,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"departmenttype",id:"department-type"})},this.state.Data2.map(function(e,t){return r.a.createElement(F.u,{key:t,value:t+1},e)})))))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"service-type"},"Service Type"),r.a.createElement(F.y,{value:this.state.servicetype,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"servicetype",id:"service-type"})},this.state.Data3.map(function(e,t){return r.a.createElement(F.u,{key:t,value:t+1},e)})))),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"service-plan-type"},"Service Plan Type"),r.a.createElement(F.y,{value:this.state.serviceplantype,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"serviceplantype",id:"service-plan-type"})},this.state.Data4.map(function(e,t){return r.a.createElement(F.u,{key:t,value:t+1},e)})))))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(F.j,{style:{marginTop:"1rem"},fullWidth:!0,variant:"outlined",className:"form"},r.a.createElement(F.o,{ref:function(t){e.InputLabelRef=t},htmlFor:"service-cost-type"},"Service Cost Type"),r.a.createElement(F.y,{value:this.state.servicecosttype,onChange:this.onInputChange,input:r.a.createElement(F.v,{labelWidth:this.state.labelWidth,name:"servicecosttype",id:"service-cost-type"})},this.state.Data5.map(function(e,t){return r.a.createElement(F.u,{key:t,value:t+1},e)})))),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"servicebasiccost",label:"Service Basic Cost",value:this.state.servicebasiccost,onChange:function(t){return e.handleServiceBasicCostChange(t)},validators:["required"],errorMessages:["Service Basic Cost is required"],type:"number"})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},this.state.taxFields.map(function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(F.k,{item:!0,xs:12,sm:4,md:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Tax Name",name:"taxName",value:t.taxName,onChange:function(t){return e.handleTaxChange(a,t)}})),r.a.createElement(F.k,{item:!0,xs:12,sm:4,md:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Percentage",name:"percentage",value:t.percentage,type:"number",onChange:function(t){return e.handleTaxChange(a,t)}})),r.a.createElement(F.k,{item:!0,xs:12,sm:4,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Total Value",name:"totalValue",value:t.totalValue,InputProps:{readOnly:!0}})),a===e.state.taxFields.length-1&&r.a.createElement(F.k,{item:!0,xs:12,sm:12,md:2,style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(F.c,{variant:"contained",color:"secondary",onClick:function(){return e.addTaxField()}},"+")))}))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},n?"Your form is submitting":"Submit")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:3},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorserviceid",label:"Vendor Service ID",value:this.state.vendorserviceid,onChange:this.onInputChange,validators:["required"],errorMessages:["Vendor Service ID is required"]}))))),r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vname",label:"Vendor Name",value:this.state.vname,onChange:this.onInputChange,errorMessages:["Vendor Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"categorytype",label:"Category Type Id",value:this.state.categorytype,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"departmenttype",label:"Department Type Id",value:this.state.departmenttype,onChange:this.onInputChange})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"servicetype",label:"Service Type Id",value:this.state.servicetype,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"servicecosttype",label:"Service Cost Type Id",value:this.state.servicecosttype,onChange:this.onInputChange})),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"servicebasiccost",label:"Service Basic Cost",value:this.state.servicebasiccost,onChange:function(t){return e.handleServiceBasicCostChange(t)}})))),r.a.createElement("div",{className:t.root},r.a.createElement(F.k,{container:!0,spacing:24},this.state.taxFields.map(function(t,a){return t.taxName||t.percentage||a===e.state.taxFields.length-1?r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(F.k,{item:!0,xs:12,sm:4,md:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Tax Name",name:"taxName",value:t.taxName,onChange:function(t){return e.handleTaxChange(a,t)}})),r.a.createElement(F.k,{item:!0,xs:12,sm:4,md:3},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Percentage",name:"percentage",value:t.percentage,type:"number",onChange:function(t){return e.handleTaxChange(a,t)}})),r.a.createElement(F.k,{item:!0,xs:12,sm:4,md:4},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",label:"Total Value",name:"totalValue",value:t.totalValue,InputProps:{readOnly:!0}})),a===e.state.taxFields.length-1&&r.a.createElement(F.k,{item:!0,xs:12,sm:12,md:2,style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(F.c,{variant:"contained",color:"secondary",onClick:function(){return e.addTaxField()}},"+"))):null}))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},n?"Updating...":"Update Vendor")))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:t.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),rl=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderline:{color:"#dc3545c9"}}})(ll),sl=function(e){function t(){return Object(O.a)(this,t),Object(M.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Vendor Services Plans"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:"/assets/images/coming-soon.png",alt:"Coming Soon",className:"img-fluied d-flex justify-content-center",style:{height:"250px",width:"200px",paddingTop:"10vh"}})))}}]),t}(l.Component),il=function(e){function t(e){var a;Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={categoryName:"",categoryDescription:"",departmentName:"",departmentDescription:"",kycTypeName:"",kycTypeDescription:"",serviceName:"",serviceDescription:"",serviceCostTypeName:"",serviceCostTypeDescription:"",servicePlanTypeName:"",servicePlanTypeDescription:"",vendorTypeName:"",vendorTypeDescription:"",selectedValue:"Category Type",message:"",submitted:!1,code:"",open:!1,alert:!1,alertMessage:"",errMessage:""};var n=Object(c.a)({},a.state),l=n.categoryName,r=n.categoryDescription,s=n.departmentName,i=n.departmentDescription,o=n.kycTypeName,d=n.kycTypeDescription,m=n.serviceName,u=n.serviceDescription,h=n.serviceCostTypeName,p=n.serviceCostTypeDescription,g=n.servicePlanTypeName,f=n.servicePlanTypeDescription,v=n.vendorTypeName,b=n.vendorTypeDescription;return a.initialState={categoryName:l,categoryDescription:r,departmentName:s,departmentDescription:i,kycTypeName:o,kycTypeDescription:d,serviceName:m,serviceDescription:u,serviceCostTypeName:h,serviceCostTypeDescription:p,servicePlanTypeName:g,servicePlanTypeDescription:f,vendorTypeName:v,vendorTypeDescription:b},a.handleCheckedCreate=a.handleCheckedCreate.bind(Object(R.a)(Object(R.a)(a))),a.onInputChange=a.onInputChange.bind(Object(R.a)(Object(R.a)(a))),a.onSubmit=a.onSubmit.bind(Object(R.a)(Object(R.a)(a))),a.openModal=a.openModal.bind(Object(R.a)(Object(R.a)(a))),a.closeModal=a.closeModal.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"resetData",value:function(){this.setState(this.initialState)}},{key:"openModal",value:function(){var e=this;this.setState({open:!0,submitted:!1},function(){setTimeout(function(){return e.setState({open:!1})},5e3)})}},{key:"closeModal",value:function(){this.setState({open:!1,alert:!1})}},{key:"onInputChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a,n=this.state.selectedValue;"Category Type"===n?(this.setState({submitted:!0}),a={categoryName:this.state.categoryName.trim(),categoryDescription:this.state.categoryDescription.trim(),type:"Category Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):"Department Type"===n?(this.setState({submitted:!0}),a={departmentName:this.state.departmentName.trim(),departmentDescription:this.state.departmentDescription.trim(),type:"Department Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):"KYC Type"===n?(this.setState({submitted:!0}),a={kycTypeName:this.state.kycTypeName.trim(),kycTypeDescription:this.state.kycTypeDescription.trim(),type:"KYC Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):"Service Type"===n?(this.setState({submitted:!0}),a={serviceName:this.state.serviceName.trim(),serviceDescription:this.state.serviceDescription.trim(),type:"Service Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):"Service Cost Type"===n?(this.setState({submitted:!0}),a={serviceCostTypeName:this.state.serviceCostTypeName.trim(),serviceCostTypeDescription:this.state.serviceCostTypeDescription.trim(),type:"Service Cost Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):"Service Plan Type"===n?(this.setState({submitted:!0}),a={servicePlanTypeName:this.state.servicePlanTypeName.trim(),servicePlanTypeDescription:this.state.servicePlanTypeDescription.trim(),type:"Service Plan Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):"Vendor Type"===n?(this.setState({submitted:!0}),a={vendorTypeName:this.state.vendorTypeName.trim(),vendorTypeDescription:this.state.vendorTypeDescription.trim(),type:"Vendor Type"},ee.adminVendorCreateCategoryType.post(null,a).then(function(e){t.setState({code:e.status,message:e.message}),t.openModal(),t.resetData()}).catch(function(e){t.setState({errMessage:e.serverMessage}),t.openModal(),console.error(e,"Error")})):alert("All fields are required!")}},{key:"handleCheckedCreate",value:function(e){this.setState({selectedValue:e.target.value})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.submitted,n=t.selectedValue;return r.a.createElement("div",null,r.a.createElement("p",{className:"titleCard"},"Menu / Vendor Master"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(F.w,{style:{width:"100%"}},r.a.createElement("h6",{className:"customHeader"},"Vendor Master"),r.a.createElement("div",{className:"container p-4"},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:2},r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"Category Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Category Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Category Type")),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"Department Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Department Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Department Type")),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"KYC Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"KYC Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"KYC Type")),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"Service Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Service Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Service Type")),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"Service Cost Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Service Cost Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Service Cost Type")),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"Service Plan Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Service Plan Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Service Plan Type")),r.a.createElement(F.k,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(F.x,{checked:"Vendor Type"===this.state.selectedValue,onChange:this.handleCheckedCreate,value:"Vendor Type",name:"radio-button-demo",classes:{root:e.radio}}),r.a.createElement("label",null,"Vendor Type")))),"Category Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"categoryName",label:"Category Name",value:this.state.categoryName,onChange:this.onInputChange,validators:["required"],errorMessages:["Category Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"categoryDescription",label:"Category Description",value:this.state.categoryDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))),"Department Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"departmentName",label:"Department Name",value:this.state.departmentName,onChange:this.onInputChange,validators:["required"],errorMessages:["Department Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"departmentDescription",label:"Department Description",value:this.state.departmentDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))),"KYC Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycTypeName",label:"KYC Type Name",value:this.state.kycTypeName,onChange:this.onInputChange,validators:["required"],errorMessages:["KYC Type Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"kycTypeDescription",label:"KYC Type Description",value:this.state.kycTypeDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))),"Service Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"serviceName",label:"Service Name",value:this.state.serviceName,onChange:this.onInputChange,validators:["required"],errorMessages:["Service Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"serviceDescription",label:"Service Description",value:this.state.serviceDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))),"Service Cost Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"serviceCostTypeName",label:"Service Cost Type Name",value:this.state.serviceCostTypeName,onChange:this.onInputChange,validators:["required"],errorMessages:["Service Cost Type Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"serviceCostTypeDescription",label:"Service Cost Type Description",value:this.state.serviceCostTypeDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))),"Service Plan Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"servicePlanTypeName",label:"Service Plan Type Name",value:this.state.servicePlanTypeName,onChange:this.onInputChange,validators:["required"],errorMessages:["Service Plan Type Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"servicePlanTypeDescription",label:"Service Plan Type Description",value:this.state.servicePlanTypeDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))),"Vendor Type"===n&&r.a.createElement(W.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:e.root},r.a.createElement(F.k,{container:!0,spacing:24},r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorTypeName",label:"Vendor Type Name",value:this.state.vendorTypeName,onChange:this.onInputChange,validators:["required"],errorMessages:["Vendor Type Name is required"]})),r.a.createElement(F.k,{item:!0,xs:12,sm:6},r.a.createElement(W.TextValidator,{fullWidth:!0,margin:"normal",name:"vendorTypeDescription",label:"Vendor Type Description",value:this.state.vendorTypeDescription,onChange:this.onInputChange})))),r.a.createElement("div",{className:"d-flex justify-content-start pt-4"},r.a.createElement(F.I,{variant:"caption",gutterBottom:!0},"Note: All Fields are Mandatory")),r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement(F.c,{type:"submit",variant:"contained",color:"primary",className:e.button,disabled:a},a?"Your form is submitting":"Submit"))))),r.a.createElement(F.e,{open:this.state.open,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.f,null,""!==this.state.message?r.a.createElement(F.g,{id:"alert-dialog-description"},400===this.state.code?r.a.createElement("img",{src:"/assets/icons/exclamation-mark.svg",alt:"Caution",className:"img-fluied d-flex justify-content-center tick"}):r.a.createElement("img",{src:"/assets/icons/tick.svg",alt:"Success",className:"img-fluied d-flex justify-content-center tick"}),this.state.message,": ",this.state.status):r.a.createElement(F.g,{id:"alert-dialog-description"},r.a.createElement("img",{src:"/assets/icons/notification.svg",alt:"No Internet",className:"img-fluied d-flex justify-content-center tick"}),"Please, Check your Internet Connection"))),r.a.createElement(F.z,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.alert,autoHideDuration:5e3,onClose:this.closeModal,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.alertMessage),action:[r.a.createElement(F.l,{key:"close","aria-label":"Close",color:"primary",className:e.close,onClick:this.closeModal},r.a.createElement(U.a,null))]})))}}]),t}(l.Component),ol=Object(B.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},radio:{color:"#332c6fba"},button:{margin:e.spacing.unit},label:{textTransform:"capitalize",fontWeight:600},cssUnderline:{color:"#dc3545c9"}}})(il),cl={DefaultRoutes:[{path:"/",exact:!0,name:"Login",component:le},{path:"/login",exact:!0,name:"Login",component:le},{path:"/otp",exact:!0,name:"OTP Generation",component:oe},{path:"/reset-password",exact:!0,name:"Reset Password",component:se}],PrivateRoutes:{CFSManager:new Map([["profile",ge],["dashboard",Xn],["approvals",Ue],["hire-trailer",Ke],["training",lt],["trips",It],["fuel",Wt],["communication",Vt],["manual-update",ea],["transit-incidents",na]]),Admin:new Map([["manage-users",Za],["manage-trips",Ka],["trip-intelligence",Qa],["connect-mobile",Fa],["upload-master-data",ln],["driver-roaster",Wa],["vendor-registration",nl],["vendor-registration/services",rl],["vendor-registration/service-plans",sl],["vendor-registration/master",ol]]),Reports:new Map([["report/master-reports/driver",ra],["report/master-reports/trip-Type",ca],["report/master-reports/trailer",ia],["report/master-reports/training-Calender",ma],["report/master-reports/maintanence-Schedule",ha],["report/daily-reports/pendency",ga],["report/daily-reports/trip",va],["report/daily-reports/TAT",Ea],["report/operational-reports/diesel-Utilization",Ca],["report/operational-reports/driver-Attendance",Na],["report/operational-reports/trailer-Performance",ka],["report/operational-reports/adhoc-Maintenance",Oa],["report/operational-reports/driver-Training",Ma],["report/operational-reports/hire-Trailer",Ia],["report/operational-reports/LGR",La],["report/operational-reports/driver-Roaster",Aa]]),CEO:new Map([["ceo-dashboard",En]]),NotFoundPage:Zn}},dl=a(252),ml=a.n(dl),ul=a(151),hl=a.n(ul),pl=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).state={toggleDropDown:!0,selectedMenuIdx:"",selectedSubMenuTitle:""},a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"logoutUser",value:function(){}},{key:"openMenu",value:function(e){this.setState({selectedMenu:e,toggleDropDown:!1})}},{key:"closeMenu",value:function(){this.setState({toggleDropDown:!0,selectedMenu:""})}},{key:"getMenuOptions",value:function(e){e===this.state.selectedSubMenuTitle?this.setState({selectedSubMenuTitle:""}):this.setState({selectedSubMenuTitle:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("label",{className:"text-color pl-3 pt-2"},this.props.menus.mainTitle),this.props.menus.menus.map(function(t,a){var n=e;return t.subMenus?r.a.createElement(hl.a,{className:"navmenu-text",key:a,style:{paddingTop:"5px",paddingBottom:"0px"}},r.a.createElement(hl.a,{key:a,className:"pl-3 hovered",style:{paddingTop:"5px",paddingBottom:"0px"}},r.a.createElement("span",null,r.a.createElement("img",{src:t.icon,alt:t.title,className:"img-fluied icon-design"}),r.a.createElement("label",{className:"text-white",style:{cursor:"pointer"}},t.title),e.state.selectedMenu===t.title?r.a.createElement("img",{src:"/assets/icons/up.svg",alt:"drop-down",className:"img-fluied icon-design-arrow float-right",onClick:e.closeMenu.bind(e)}):r.a.createElement("img",{src:"/assets/icons/down.svg",alt:"drop-down",className:"img-fluied icon-design-arrow float-right",onClick:e.openMenu.bind(e,t.title)}),e.state.selectedMenu===t.title?r.a.createElement("div",null,t.subMenus.length>0?r.a.createElement("div",{className:"pl-5"},t.subMenus.map(function(l,s){return l.menus?r.a.createElement("div",{key:s},r.a.createElement(_.a,{to:"/"===l.navLink?n.logoutUser.bind(e):l.navLink,className:"navmenu-text",key:a},r.a.createElement("label",{className:"text-white",onClick:e.getMenuOptions.bind(e,l.title)},l.title),e.state.selectedSubMenuTitle===l.title?r.a.createElement("div",null,l.menus.map(function(t,l){return r.a.createElement("div",{key:l,className:"pl-4"},r.a.createElement(_.a,{to:"/"===t.navLink?n.logoutUser.bind(e):t.navLink,className:"navmenu-text",key:a},r.a.createElement("label",{className:"text-white",style:{cursor:"pointer"}},t.title)))})):null)):r.a.createElement("div",{key:s,className:""},r.a.createElement(_.a,{to:"/"===t.navLink?n.logoutUser.bind(e):l.navLink,className:"navmenu-text",key:a},r.a.createElement("label",{className:"text-white point",style:{cursor:"pointer"},onClick:e.getMenuOptions.bind(e,l.title)},l.title)))})):null):null))):r.a.createElement(_.a,{to:"/"===t.navLink?n.logoutUser.bind(e):t.navLink,className:"navmenu-text",key:a},r.a.createElement(hl.a,{key:a,style:{paddingBottom:"0px"},className:"pl-3 hovered"},r.a.createElement("span",null,r.a.createElement("img",{src:t.icon,alt:t.title,className:"img-fluied icon-design"}),r.a.createElement("label",{className:"text-white",style:{cursor:"pointer"}},t.title))))}))}}]),t}(r.a.Component),gl=a(355),fl=a(275),vl=a.n(fl),bl=function(e){return{root:{display:"flex",minHeight:"100vh",overflow:"hidden !important"},title:{color:"#ffffff",fontSize:"1rem"},appBarShift:{width:"calc(100% - ".concat(260,"px)"),marginLeft:260},menuButton:{marginLeft:0,marginRight:20},right:{marginLeft:250},drawer:{width:260,flexShrink:0},drawerPaper:{background:"#332c6f"},drawerHeader:Object(c.a)({display:"flex",alignItems:"center"},e.mixins.toolbar,{justifyContent:"center",background:"#fff"}),drawerOpen:{width:260,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:7*e.spacing.unit+1},e.breakpoints.up("sm"),{width:0}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflow:"auto !important"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},El=function e(){Object(O.a)(this,e)};El.TOGGLE_MENU=function(){return{type:"TOGGLE_MENU"}},El.TOGGLE_PROFILE_POP=function(e){return{type:"TOGGLE_PROFILE_POP",payload:e}},El.REMOVE_MENU=function(){return{type:"REMOVE_MENU"}},El.REMOVE_PROFILE=function(){return{type:"REMOVE_PROFILE"}};var yl=Object(B.createMuiTheme)({palette:{primary:{main:"#14A474"},secondary:{main:"#332c6f"},optional:{main:"#dc3545c9"},typography:{useNextVariants:!0,fontSize:12}},overrides:{MuiButton:{text:{background:"none",borderRadius:3,border:0,color:"#dc3545c9",textTransform:"capitalize",fontWeight:600,height:48}}}}),Cl=function(e){function t(e){var a;return Object(O.a)(this,t),a=Object(M.a)(this,Object(x.a)(t).call(this,e)),console.log(e.auth),a.state={menus:[gl[e.auth.role],gl.reports],getUserAvatar:"",getUserName:{firstName:"",lastName:""},userName:e.auth.user.name,getPath:""},a.handleClose=a.handleClose.bind(Object(R.a)(Object(R.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props.auth),this.props.auth.role?"CEO"===this.props.auth.role?(this.props.removeMenu(),this.props.removeProfile()):"Admin"===this.props.auth.role&&this.props.removeProfile():this.props.history.push("./")}},{key:"profileAccount",value:function(){this.props.toggleProfilePop(null),this.props.history.push("./profile")}},{key:"logoutAccount",value:function(){var e=new XMLHttpRequest,t=new FormData;t.append(null,null),e.onreadystatechange=function(){4===e.readyState&&(console.log(e,"Logout"),window.location.pathname="/login")},e.open("POST","https://cfsmanager-dev.azurewebsites.net/api/authenticate/logout");var a=localStorage.getItem("auth");console.log(" Token ",JSON.parse(a).token),e.setRequestHeader("Authorization",JSON.parse(a).token),e.send(t),this.props.logOutuser()}},{key:"handleClose",value:function(){this.props.toggleProfilePop(null)}},{key:"handleClick",value:function(e){this.props.toggleProfilePop(e.currentTarget)}},{key:"renderPageByPath",value:function(){var e=null;if(this.props&&this.props.location&&(e=this.props.location.pathname.substring(1,this.props.location.pathname.length)),cl.PrivateRoutes.Reports.get(e)){var t=cl.PrivateRoutes.Reports.get(e);return r.a.createElement(t,null)}if(cl.PrivateRoutes[this.props.auth.role].get(e)){var a=cl.PrivateRoutes[this.props.auth.role].get(e);return r.a.createElement(a,null)}var n=cl.PrivateRoutes.NotFoundPage;return r.a.createElement(n,null)}},{key:"renderMenuButton",value:function(){var e=this.props,t=e.classes,a=e.state,n=this.props.state.isOpen;return a.isMenuHidden?null:r.a.createElement(F.l,{color:"inherit","aria-label":"Open drawer",onClick:this.props.toggleMenu,className:St()(t.menuButton,n&&t.hide)},r.a.createElement(vl.a,null))}},{key:"renderProfile",value:function(){return this.props.state.isProfileHidden?null:r.a.createElement(F.u,{style:{color:"#332c6f"},onClick:this.profileAccount.bind(this),component:_.a,to:"/profile"},"Profile")}},{key:"render",value:function(){var e,t,a=this.props.classes,n=this.props.state,l=n.anchorEl,s=n.isOpen;return r.a.createElement("div",{className:a.root},r.a.createElement(F.d,null),r.a.createElement(F.a,{style:{background:"#332c6f"},position:"fixed",className:St()(a.appBar,Object(h.a)({},a.appBarShift,s))},r.a.createElement(F.H,null,this.renderMenuButton(),r.a.createElement(F.I,{className:a.title,variant:"h6"},this.props.auth.role),r.a.createElement("div",{className:"profileAvatar"},r.a.createElement("div",{className:"d-flex pt-2","aria-haspopup":"true",onClose:this.handleClose},r.a.createElement(F.I,{variant:"h6",color:"inherit",align:"right"},this.state.getUserName.firstName,"\xa0",this.state.getUserName.lastName),r.a.createElement("label",{className:"pt-1 pr-2"},this.state.userName),r.a.createElement(ml.a,{"aria-owns":l?"simple-menu":void 0,onClick:this.handleClick.bind(this),style:{fontSize:"40px",cursor:"pointer"}})),r.a.createElement(F.t,{id:"simple-menu",anchorEl:l,style:{top:"3rem",width:"125px",right:"1rem"},open:Boolean(l),onClose:this.handleClose},this.renderProfile(),r.a.createElement(F.u,{style:{color:"#332c6f"},onClick:this.logoutAccount.bind(this)},"Logout"))))),r.a.createElement(F.i,{variant:"persistent",anchor:"left",open:s,className:St()(a.drawer,(e={},Object(h.a)(e,a.drawerOpen,s),Object(h.a)(e,a.drawerClose,!s),e)),classes:{paper:St()(a.drawerPaper,(t={},Object(h.a)(t,a.drawerOpen,s),Object(h.a)(t,a.drawerClose,!s),t))}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement("img",{src:"/assets/images/Transworld_Logo.png",alt:"Transworld Logo",className:"img-fluied d-flex justify-content-center logo1"})),r.a.createElement(F.p,null,this.state.menus.map(function(e,t){return r.a.createElement(pl,{menus:e,key:t})}))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:"mt-1 pt-1 mb-5"}),r.a.createElement("div",null,r.a.createElement(B.MuiThemeProvider,{theme:yl},this.renderPageByPath()))))}}]),t}(r.a.Component),Sl=Object(o.b)(function(e){return{state:e.layout,auth:e.auth}},function(e){return{toggleMenu:function(){return e(El.TOGGLE_MENU())},toggleProfilePop:function(t){e(El.TOGGLE_PROFILE_POP(t))},logOutuser:function(){e(z.LOGOUT_USER()),e(El.TOGGLE_PROFILE_POP(null))},removeMenu:function(){return e(El.REMOVE_MENU())},removeProfile:function(){return e(El.REMOVE_PROFILE())}}})(Object(B.withStyles)(bl)(Cl)),Nl=function(e){function t(){return Object(O.a)(this,t),Object(M.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(P.a,null,cl.DefaultRoutes.map(function(e){return r.a.createElement(w.a,{exact:!0,path:e.path,component:e.component})}),r.a.createElement(A.BrowserView,null,r.a.createElement(w.a,{path:"/",component:Sl})),r.a.createElement(A.MobileView,null,r.a.createElement(w.a,{path:"/",component:Sl}))))}}]),t}(r.a.Component),Tl=(a(6163),a(6164),function(e,t){var a=[m.a,Object(u.routerMiddleware)(e)],n=[],l=Object(d.c)(Object(c.a)({},D,{routing:u.routerReducer}));return Object(d.e)(l,t,d.d.apply(void 0,[d.a.apply(void 0,a)].concat(n)))}(window.initialReduxState));window.store=Tl;var kl=document.getElementById("root");i.a.render(r.a.createElement(o.a,{store:Tl},r.a.createElement(Nl,null)),kl)}},[[5749,1,3]]]);
//# sourceMappingURL=main.85a4882e.chunk.js.map